{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "HistoriaClinica.svelte",
    "Detalle.svelte",
    "PacientePerfil.svelte",
    "Estudios.svelte",
    "Imagenes.svelte",
    "ImprimirRecetas.svelte",
    "Medicamentos.svelte",
    "Loading.svelte",
    "ModalNuevaCita.svelte",
    "NoConexion.svelte",
    "OrdenesMedicas.svelte"
  ],
  "sourcesContent": [
    "<script>\n    import { link, push } from \"svelte-spa-router\";\n    import Loading from '../../componentes/Loading.svelte';\n    import axios from \"axios\";\n    import { onMount } from \"svelte\";\n    import { url, user } from \"../../util/index\";\n    import { v4 as uuid } from 'uuid';\n\n    import Header from \"../../Layout/Header.svelte\";\n    import AsideAtencion from \"../../Layout/AsideAtencion.svelte\";\n    import ModalDatosPaciente from \"../../componentes/Modals/ModalDatosPaciente.svelte\";\n    import ModalTratamientos from \"../../componentes/Modals/ModalTratamientos.svelte\";\n    import ModalInterconsulta from \"../../componentes/Modals/ModalInterconsulta.svelte\";\n    import ModalAntecedentes from \"../../componentes/Modals/ModalAntecedentes.svelte\";\n    import OrdenesMedicas from \"../../componentes/OrdenesMedicas.svelte\";\n    import SignosVitales from \"../../componentes/SignosVitales.svelte\";\n    import ErrorServer from '../../componentes/ErrorConexion.svelte';\n    import NoConexion from \"../../componentes/NoConexion.svelte\";\nimport ErrorConexion from \"../../componentes/ErrorConexion.svelte\";\n    import ModalNuevaCita from \"../../componentes/Modals/ModalNuevaCita.svelte\"\n\n    const Toast = Swal.mixin({\n        toast: true,\n        position: 'top-end',\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true,\n        didOpen: (toast) => {\n            toast.addEventListener('mouseenter', Swal.stopTimer)\n            toast.addEventListener('mouseleave', Swal.resumeTimer)\n        }\n    })\n\n    export let params = \"\";\n    let paciente = {};\n    let edad = \"\";\n    let seguro = \"\";\n    let diagnosticos = [];\n    let inpBuscarDiagnostico = \"\";\n    let diagnosticosSeleccionados = [];\n    let medicamentos = [];\n    let historia = {};\n    let temperatura = {};\n    let presionAlterial = {};\n    let peso = {};\n    let timeout = null;\n    let fecha = '';\n    let hora = '';\n    let cargando = false;\n    let sltBuscarMedicamentos = '';\n    let medicamentosSeleccionados = [];\n    let sltBuscarEstudios = '';\n    let estudios = [];\n    let estudiosSeleccionados = [];\n    let historiaGinecologica = {};\n    let errorServer = false;\n    let empresa = {};\n    let exploracionFisica = [];\n    let serverConexion = false;\n    let cargandoHistoria = false;\n    let pacienteSeleccionado = {};\n    let disabled = false;\n\n    const cargarEmpresa = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/empresas/${user().empresa}`,\n            headers: {\n                'Authorization': `${localStorage.getItem('auth')}` \n            }\n        }\n        axios(config)\n            .then(res => {\n                empresa = res.data\n            })\n            .catch(err => {\n                console.error(err)\n            })\n    }\n\n    const eliminarHistoria = (id) => {\n        Swal.fire({\n            title: '¿Estás seguro?',\n            text: \"Se eliminará esta historia clínica, sin embargo, los datos no se perderán, puedes recuperarlos en el futuro!\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Si, Eliminarlo!',\n            cancelButtonText: 'Cancelar'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                const config = {\n                    method: 'delete',\n                    url: `${url}/historias/${id}`,\n                    headers: {\n                        'Authorization': `${localStorage.getItem('auth')}` \n                    }\n                }\n                axios(config)\n                    .then(res => {\n                        if(res.status === 200) {\n                            push(`/pacientes/perfil/${params.idPaciente}`)\n                        }\n\n                    })\n                    .catch(err => {\n\n                    })\n            }\n        })\n    }\n\n    const searchMedicamentos = () => {\n        if (timeout) {\n            window.clearTimeout(timeout);\n        }\n        \n        timeout = setTimeout(function () { cargarMedicamentos(); }, 300);\n    }\n\n    function searchDiagnosticos() {\n        if (timeout) {\n            window.clearTimeout(timeout);\n        }\n        \n        timeout = setTimeout(function () { cargarDiagnosticos(); }, 300);\n    }\n\n    const searchEstudios = () => {\n        if (timeout) {\n            window.clearTimeout(timeout);\n        }\n        \n        timeout = setTimeout(function () { cargarEstudios(); }, 300);\n    }\n\n    const agregarEstudio = (obj) => {\n        estudiosSeleccionados = [...estudiosSeleccionados, obj.detail]\n        historia.estudios = estudiosSeleccionados;\n        guardarHistoria();\n        sltBuscarEstudios = '';\n    }\n\n    const agregarDiagnosticoPersonalizado = (nombre) => {\n        const diagnostico = {\n            d: nombre,\n            c: 'PERS',\n            id: uuid(),\n        };\n        diagnosticosSeleccionados = [...diagnosticosSeleccionados, diagnostico];\n        guardarHistoria();\n    }\n\n    const agregarComentarioDiagnostico = (position) => {\n        if(diagnosticosSeleccionados[position].comentario === undefined) {\n            diagnosticosSeleccionados[position].comentario = '';\n            historia.diagnosticos = diagnosticosSeleccionados;\n            guardarHistoria();\n        }\n        else\n        {\n            delete diagnosticosSeleccionados[position].comentario;\n            diagnosticosSeleccionados = diagnosticosSeleccionados;\n            historia.diagnosticos = diagnosticosSeleccionados;\n            guardarHistoria();\n        }\n    }\n\n    const eliminarMedicamento = (event) => {\n        if(confirm(\"Desea eliminar el medicamento?\")){\n            medicamentosSeleccionados.splice(event.detail, 1)\n            medicamentosSeleccionados = medicamentosSeleccionados;\n            historia.medicamentos = medicamentosSeleccionados;\n            guardarHistoria();\n        }\n    }\n\n    const eliminarDiagnostico = (position) => {\n        Swal.fire({\n            title: '¿Esta seguro?',\n            text: \"Esta acción eliminara el diagnostico de la consulta, pero puede agregarlo nuevamente luego.!\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Si, Eliminar!',\n            cancelButtonText: 'Cancelar',\n        }).then((result) => {\n            if (result.isConfirmed) {\n                diagnosticosSeleccionados.splice(position,1);\n                diagnosticosSeleccionados = diagnosticosSeleccionados;\n                historia.diagnosticos = diagnosticosSeleccionados;\n                guardarHistoria();\n                Toast.fire({\n                    icon: 'success',\n                    title: 'Se ha eliminado correctamente'\n                })\n            }\n        })\n    }\n\n    const eliminarEstudios = (event) => {\n        Swal.fire({\n            title: '¿Está seguro?',\n            text: \"Se eliminará este estudio de la lista, pero puede volver a agregarlo luego!\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Si, Eliminarlo!',\n            cancelButtonText: 'Cancelar'\n        }).then((result) => {\n        if (result.isConfirmed) {\n            estudiosSeleccionados.splice(event.detail, 1)\n            estudiosSeleccionados = estudiosSeleccionados;\n            historia.estudios = estudiosSeleccionados;\n            guardarHistoria();\n            Toast.fire({\n                icon: 'success',\n                title: 'Se ha eliminado correctamente'\n            })\n        }\n        })\n    }\n\n    const agregarMedicamento = (event) => {\n        if(!event.detail){\n            return false\n        }\n        const medicamento = {\n            nombre: event.detail,\n            concentracion: '',\n            cantidad: '',\n            frecuencia: '',\n        }\n        medicamentosSeleccionados = [...medicamentosSeleccionados, medicamento]\n        historia.medicamentos = medicamentosSeleccionados;\n        sltBuscarMedicamentos = '';\n        guardarHistoria();\n    }\n\n    const cargarEstudios = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/estudios?b=${sltBuscarEstudios}`,\n            headers: {\n                'Authorization': `${localStorage.getItem('auth')}` \n            }\n        };\n        axios(config)\n            .then(res => {\n                estudios = res.data;\n            })\n            .catch(err => {\n                console.error(err)\n            })\n    }\n\n    const cargarMedicamentos = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/medicamentos?b=${sltBuscarMedicamentos}`,\n            headers: {\n                'Authorization': `${localStorage.getItem('auth')}` \n            }\n        }\n        axios(config)\n            .then(res => {\n                medicamentos = res.data;\n            })\n            .catch(error => {\n                console.error(error)\n            })\n    }\n\n    const guardarHistoria = () => {\n        errorServer = false;\n        cargando = true;\n        historia.diagnosticos = diagnosticosSeleccionados\n        delete historia.id;\n        const config = {\n            method: 'put',\n            url: `${url}/historias/${params.idHistoria}`,\n            data: historia,\n            headers: {\n                'Authorization': `${localStorage.getItem('auth')}` \n            }\n        }\n        try {\n            axios(config)\n            .then(res => {\n                cargando= false\n                if(res.status !== 200){\n                    errorServer = true;\n                }\n            })\n            .catch(error => {\n                if(error) {\n                    errorServer = true;\n                    cargando = false\n                }\n                cargando = false\n                console.error(error)\n            })\n        } catch (error) {\n            errorServer = true;\n            cargando = false\n        }\n    };\n\n    async function cargarPaciente() {\n        cargandoHistoria = true; \n        const config = {\n            method: \"get\",\n            url: `${url}/pacientes/${params.idPaciente}`,\n            headers: {\n                'Authorization': `${localStorage.getItem('auth')}` \n            }\n        };\n        try {\n            let promesa = await axios(config);\n            cargandoHistoria = false; \n            if (promesa.status == 200) {\n                paciente = await promesa.data;\n                edad = calcularEdad(paciente.fechaNacimiento);\n                if(paciente.seguroMedico.length !== 0){\n                    seguro = paciente.seguroMedico[0].nombre;\n                }\n                else\n                {\n                    seguro = \"N/A\"\n                }\n            } else {\n                serverConexion = true;\n                console.error(promesa.statusText);\n            }\n        } catch (error) {\n            cargandoHistoria = false;\n            serverConexion = true;\n            console.error(promesa.statusText);\n        }\n    }\n\n    const cargarHistoria = async () => {\n        try {\n            const config = {\n                method: \"get\",\n                url: `${url}/historias/${params.idHistoria}`,\n                headers: {\n                    'Authorization': `${localStorage.getItem('auth')}` \n                }\n            };\n            \n            let promesa = await axios(config);\n            historia = promesa.data;\n            temperatura = promesa.data.temperatura;\n            presionAlterial = promesa.data.presionAlterial;\n            peso = promesa.data.peso;\n            diagnosticosSeleccionados = promesa.data.diagnosticos\n            fecha = promesa.data.fechaHora.split('T')[0];\n            medicamentosSeleccionados = promesa.data.medicamentos;\n            estudiosSeleccionados = promesa.data.estudios;\n            historiaGinecologica = promesa.data.historiaGinecologica;\n            exploracionFisica = promesa.data.exploracionFisica || [];\n            let obtenerHora = promesa.data.fechaHora.split('T')[1].split('Z')[0].split('.')[0].split(':')\n            hora = obtenerHora[0]+':'+obtenerHora[1]\n\n        } catch (error) {\n            serverConexion = true;\n            console.log(serverConexion)\n            console.error(error);\n        }\n    };\n\n    $: filtroDiagnostico = diagnosticos;\n\n    function cargarDiagnosticos() {\n        const config = {\n            method: \"get\",\n            url: `${url}/diagnosticos?b=${inpBuscarDiagnostico}`,\n            headers: {\n                'Authorization': `${localStorage.getItem('auth')}` \n            }\n        };\n        setTimeout(() => {\n            axios(config)\n                .then((res) => {\n                    diagnosticos = res.data;\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }, 1000);\n    }\n\n    function seleccionarDiagnostico(id) {\n        const config = {\n            method: \"get\",\n            url: `${url}/diagnosticos/${id}`,\n            headers: {\n                'Authorization': `${localStorage.getItem('auth')}` \n            }\n        };\n        axios(config).then((res) => {\n            diagnosticosSeleccionados = [\n                ...diagnosticosSeleccionados,\n                res.data,\n            ];\n            guardarHistoria()\n        });\n        inpBuscarDiagnostico = \"\";\n    }\n\n    function calcularEdad(fecha) {\n        var hoy = new Date();\n        var cumpleanos = new Date(fecha);\n        var edad = hoy.getFullYear() - cumpleanos.getFullYear();\n        var m = hoy.getMonth() - cumpleanos.getMonth();\n\n        if (m < 0 || (m === 0 && hoy.getDate() < cumpleanos.getDate())) {\n            edad--;\n        }\n\n        return edad;\n    }\n\n    onMount(async () => {\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n        await cargarPaciente();\n        await cargarHistoria();\n        cargarDiagnosticos();\n        cargarMedicamentos();\n        cargarEstudios();\n        cargarEmpresa();\n    });\n</script>\n\n<AsideAtencion />\n\n<div class=\"contenedor-datos\" id=\"divHeaderBar\">\n    {#if errorServer}\n    <ErrorServer msgError={\"Ocurrio un error en la conexion con el servidor, vuelva a intentarlo o llame al administrador\"}/>\n    {/if}\n    {#if serverConexion}\n    <NoConexion/>\n    {/if}\n    {#if cargandoHistoria}\n        <div class=\"cargando\">\n            <Loading/>\n        </div>\n    {/if}\n    \n    <div class=\"row\">\n        <div class=\"col-md-6\">\n            <h5>\n                <span class=\"badge badge-primary\" data-bind=\"text: titulo\"\n                    >Historia Clinica</span\n                >\n                <span data-bind=\"text: paciente().nombreParaMostrar\"\n                    >{paciente.nombres} {paciente.apellidos}\n                </span>\n            </h5>\n        </div>\n        <div class=\"col-md-6\" style=\"text-align: right;\">\n            <div class=\"guardar-documento\">\n                {#if !cargando && !errorServer}\n                    <div\n                        class=\"guardando mr-2 text-success\"\n                    >\n                        <i class=\"mdi mdi-check-all\" /> <i>listo y guardado</i>\n                    </div>\n                {/if}\n                {#if errorServer}\n                    <div\n                        class=\"guardando mr-2 text-danger\"\n                    >\n                    <i class=\"mdi mdi-close\"></i> <i>error al guardar</i>\n                    </div>\n                {/if}\n                {#if cargando && !errorServer}\n                    <div\n                        class=\"guardando mr-2 text-secondary\"\n                    >\n                        <i class=\"mdi mdi-cached mdi-spin\"></i> Guardando\n                    </div>\n                {/if}\n            </div>\n        </div>\n        <button\n            type=\"button\"\n            class=\"btn m-b-15 ml-2 mr-2 btn-lg btn-rounded-circle btn-success flotante\"\n            data-tooltip=\"Guardar\"\n            on:click={guardarHistoria}\n        >\n            <i class=\"mdi mdi-content-save-outline\"></i>\n        </button>\n        <div class=\"col-lg-12\">\n            <div class=\"dropdown\" data-bind=\"foreach: actionButtons\">\n                <button\n                    data-toggle=\"modal\"\n                    data-target=\"#modalDatosPersonales\"\n                    style=\"box-shadow:none;\"\n                    class=\"btn btn-outline-secondary btn-sm\"\n                >\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-comment-eye\" />\n                    <sapn data-bind=\"text: text\">Datos del Paciente</sapn>\n                </button>\n\n                <!-- <button\n                    data-bind=\" class: itemClass,click: clickEvent\"\n                    style=\"box-shadow:none;\"\n                    class=\"btn btn-outline-dark btn-sm\"\n                >\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-text\" />\n                    <sapn data-bind=\"text: text\">Agregar Campo</sapn>\n                </button> -->\n\n                <!-- <button\n                    data-toggle=\"modal\"\n                    data-target=\"#modalInterconsulta\"\n                    style=\"box-shadow:none;\"\n                    class=\"btn btn-outline-dark btn-sm\"\n                >\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-repeat\" />\n                    <sapn data-bind=\"text: text\">Registrar Interconsulta</sapn>\n                </button> -->\n\n                <!-- <button\n                    style=\"box-shadow:none;\"\n                    class=\"btn btn-outline-dark btn-sm btn-hover-white\"\n                >\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-printer\" />\n                    <sapn data-bind=\"text: text\">Imprimir</sapn>\n                </button> -->\n\n                <button\n                    style=\"box-shadow:none;\"\n                    class=\"btn btn-outline-success btn-sm btn-hover-white\"\n                    on:click|preventDefault={() => pacienteSeleccionado = {\n                        id:paciente.id, \n                        nombres: paciente.nombres,\n                        apellidos: paciente.apellidos,\n                        sexo: paciente.sexo,\n                        fechaNacimiento: paciente.fechaNacimiento,\n                        nacionalidad: paciente.nacionalidad,\n                        telefono: paciente.telefono,\n                        celular: paciente.celular,\n                        cedula: paciente.cedula,\n                    }}\n                    data-toggle=\"modal\"\n                    data-target=\"#modalNuevaCita\"\n                >\n                    <i class=\"mdi mdi-calendar-multiselect\"></i>\n                    Nueva cita\n                </button>\n\n                <!-- <button\n                    data-toggle=\"modal\"\n                    data-target=\"#modalAntecedentes\"\n                    style=\"box-shadow:none;\"\n                    class=\"btn btn-outline-dark btn-sm\"\n                >\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-account-clock\" />\n                    <sapn data-bind=\"text: text\">Antecedentes</sapn>\n                </button> -->\n\n                <button\n                    on:click={() => eliminarHistoria(params.idHistoria)}\n                    style=\"box-shadow:none;\"\n                    class=\"btn btn-outline-danger btn-sm\"\n                >\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-delete\" />\n                    <sapn data-bind=\"text: text\">Anular</sapn>\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<Header />\n<main class=\"admin-main\">\n    <div class=\"container m-b-30\">\n        <div class=\"col-lg-12\" style=\"margin-top: 150px\">\n            <div\n                data-bind=\"if: perfil().motivoConsulta\"\n                class=\"card m-b-20 margen-mobile\"\n            >\n                <div class=\"card-header\">\n                    <div class=\"card-title\">Motivo de consulta</div>\n                </div>\n                <div class=\"card-body\">\n                    <textarea\n                        {disabled}\n                        on:blur={guardarHistoria}\n                        bind:value={historia.motivoConsulta}\n                        class=\"form-control\"\n                        style=\"width: 100%; display: block; height: 150px;\"\n                        rows=\"3\"\n                        name=\"Comentario\"\n                        data-bind=\"value: atencionMedica.motivoConsulta\"\n                    />\n                </div>\n            </div>\n            <div\n                class=\"card m-b-20 autosave\"\n            >\n                <div class=\"card-header\">\n                    <div class=\"card-title\">Historia de la enfermedad</div>\n                </div>\n                <div class=\"card-body\">\n                    <textarea\n                        {disabled}\n                        on:blur={guardarHistoria}\n                        bind:value={historia.historiaEnfermedad}\n                        class=\"form-control\"\n                        data-bind=\"value: atencionMedica.historiaEnfermedad\"\n                        style=\"width: 100%; display: block; height: 150px;\"\n                        rows=\"3\"\n                        name=\"Comentario\"\n                    />\n                </div>\n            </div>\n            {#if empresa.historiaGinecologica}\n            <!-- Historia ginecologica -->\n            <div class=\"card m-b-20 border border-primary\">\n                <div class=\"card-header\">\n                    <div class=\"card-title text-primary\">\n                        Historia Ginecologica\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-3\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Fecha ultima menstruaci&oacute;n</label>\n                                <input {disabled} type=\"date\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.fechaUltimaMenstruacion}>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-3\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Fecha ultimo pap</label>\n                                <input {disabled} type=\"date\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.fechaUltimoPap}>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-3\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Fecha ultimo parto</label>\n                                <input {disabled} type=\"date\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.fechaUltimoParto}>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-3\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Fecha ultimo aborto</label>\n                                <input {disabled} type=\"date\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.fechaUltimoAborto}>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-3\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Fecha ultima ces&aacute;rea</label>\n                                <input {disabled} type=\"date\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.fechaUltimoCesarea}>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-3\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Intervalo flujo menstrual</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" placeholder=\"Dias\" on:blur={guardarHistoria} bind:value={historiaGinecologica.intervaloFlujoMenstrual}>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-3\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Cantidad flujo menstrual</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" placeholder=\"Dias\" on:blur={guardarHistoria} bind:value={historiaGinecologica.cantidadFlujoMenstrual}>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-3\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Duracion flujo menstrual</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" placeholder=\"Dias\" on:blur={guardarHistoria} bind:value={historiaGinecologica.duracionFlujoMenstrual}>\n                            </div>\n                        </div>\n                    </div>\n                    <hr>\n                    <div class=\"row\">\n                        <div class=\"col\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Gesta</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.gesta}>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Para</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.para}>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Abortos</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.abortos}>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Ces&aacute;reas</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.cesareas}>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Espont&aacute;neos</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.espontaneos}>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Provocados</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.provocados}>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"form-group\">\n                                <label for=\"\">Legrados</label>\n                                <input {disabled} type=\"number\" class=\"form-control\" on:blur={guardarHistoria} bind:value={historiaGinecologica.legrados}>\n                            </div>\n                        </div>\n                    </div>\n                    <h5 class=\"mt-3\">Planificaci&oacute;n</h5>\n                    <hr>\n                    <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.sangradoVaginal} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">Sangrado Vaginal</span>\n                            </label>\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.vidaSexualActiva} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">Vida Sexual Activa</span>\n                            </label>\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.anticonceptivosOrales} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">Anticonceptivos Orales</span>\n                            </label>\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.diu} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">DIU</span>\n                            </label>\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.aqv} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">AQV</span>\n                            </label>\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.condon} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">Cond&oacute;n</span>\n                            </label>\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.norplant} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">Norplant</span>\n                            </label>\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.ritmo} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">Ritmo</span>\n                            </label>\n                            <label class=\"cstm-switch mr-4 mb-4\">\n                                <input {disabled} type=\"checkbox\" on:change={guardarHistoria} bind:checked={historiaGinecologica.coitoInterruptus} name=\"option\" value=\"1\" class=\"cstm-switch-input\">\n                                <span class=\"cstm-switch-indicator bg-success \"></span>\n                                <span class=\"cstm-switch-description\">Coito Interruptus</span>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- .Historia ginecologica -->\n            {/if}\n            {#if empresa.signosVitales}\n                 <!-- content here -->\n                 <div class=\"card m-b-20 margen-mobile autosave\">\n                     <div class=\"card-header\">\n                         <div class=\"card-title\">Signos vitales</div>\n                     </div>\n                     <div class=\"card-body\">\n                         <div class=\"row\">\n                             <div class=\"col-lg-3\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\"\n                                         ><i class=\"mdi mdi-thermometer mdi-18px\" /> Temperatura</label\n                                     >\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-7\">\n                                             <input\n                                                {disabled}\n                                                 type=\"number\"\n                                                 class=\"form-control\"\n                                                 on:blur={guardarHistoria}\n                                                 bind:value={temperatura.valor}\n                                             />\n                                         </div>\n                                         <div class=\"col-lg-5\">\n                                             <!-- svelte-ignore a11y-no-onchange -->\n                                             <select class=\"form-control\" {disabled} on:change={guardarHistoria} bind:value={temperatura.tipo}>\n                                                 <option value=\"C\" selected>°C</option>\n                                                 <option value=\"K\">°K</option>\n                                                 <option value=\"F\">°F</option>\n                                             </select>\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                             <div class=\"col-lg-3\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\"\n                                         ><i class=\"mdi mdi-chart-line mdi-18px\" /> Frecuencia\n                                         respiratoria</label\n                                     >\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-12\">\n                                             <input\n                                                {disabled}\n                                                 type=\"number\"\n                                                 class=\"form-control\"\n                                                 on:blur={guardarHistoria}\n                                                 bind:value={historia.frecuenciaRespiratoria}\n                                             />\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                             <div class=\"col-lg-3\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\"\n                                         ><i class=\"mdi mdi-heart-pulse mdi-18px\" /> Frecuencia\n                                         cardiaca</label\n                                     >\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-12\">\n                                             <input\n                                                {disabled}\n                                                 type=\"number\"\n                                                 class=\"form-control\"\n                                                 on:blur={guardarHistoria}\n                                                 bind:value={historia.frecuenciaCardiaca}\n                                             />\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                             <div class=\"col-lg-3\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\"\n                                         ><i class=\"mdi mdi-heart-pulse mdi-18px\" /> Presion\n                                         alterial (mmHg)</label\n                                     >\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-6\">\n                                             <input\n                                                {disabled}\n                                                 type=\"number\"\n                                                 class=\"form-control\"\n                                                 on:blur={guardarHistoria}\n                                                 bind:value={presionAlterial.mm}\n                                             />\n                                         </div>\n                                         <div class=\"col-lg-6\">\n                                             <input\n                                                {disabled}\n                                                 type=\"number\"\n                                                 class=\"form-control\"\n                                                 on:blur={guardarHistoria}\n                                                 bind:value={presionAlterial.Hg}\n                                             />\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                         </div>\n                     </div>\n                 </div>\n            {/if}\n            {#if empresa.otrosParametros}\n                 <div class=\"card m-b-20\">\n                     <div class=\"card-header\">\n                         <div class=\"card-title\">Otros Parametros</div>\n                     </div>\n                     <div class=\"card-body\">\n                         <div class=\"row\">\n                             <div class=\"col-lg-3\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\"\n                                         ><i class=\"mdi mdi-weight-pound\" /> Peso</label\n                                     >\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-7\">\n                                             <input\n                                                {disabled}\n                                                 type=\"number\"\n                                                 class=\"form-control\"\n                                                 on:blur={guardarHistoria}\n                                                 bind:value={peso.valor}\n                                             />\n                                         </div>\n                                         <div class=\"col-lg-5\">\n                                             <!-- svelte-ignore a11y-no-onchange -->\n                                             <select class=\"form-control\"\n                                                {disabled}\n                                                 on:change={guardarHistoria}\n                                                 bind:value={peso.tipo}\n                                             >\n                                                 <option value=\"Lb\">Lb</option>\n                                                 <option value=\"Kg\">Kg</option>\n                                             </select>\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                             <div class=\"col-lg-3\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\"\n                                         ><i class=\"mdi mdi-human\" /> Escala de\n                                         glasgow</label\n                                     >\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-12\">\n                                             <div\n                                                 class=\"input-group\"\n                                                 style=\"width: 100% !important; float: right;\"\n                                             >\n                                                 <input\n                                                    {disabled}\n                                                     type=\"number\"\n                                                     class=\"form-control\"\n                                                     max=\"15\"\n                                                     maxlength=\"2\"\n                                                     aria-label=\"Recipient's username\"\n                                                     aria-describedby=\"basic-addon2\"\n                                                     on:blur={guardarHistoria}\n                                                     bind:value={historia.escalaGalsgow}\n                                                 />\n                                                 <div\n                                                     class=\"input-group-append\"\n                                                 >\n                                                     <span\n                                                         class=\"input-group-text\"\n                                                         id=\"basic-addon2\"\n                                                         >/ 15</span\n                                                     >\n                                                 </div>\n                                             </div>\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                             <div class=\"col-lg-3\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\"\n                                         ><i\n                                             class=\"mdi mdi-emoticon-happy\"\n                                         /> Escala de dolor</label\n                                     >\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-12\">\n                                             <div\n                                                 class=\"input-group\"\n                                                 style=\"width: 100% !important; float: right;\"\n                                             >\n                                                 <input\n                                                    {disabled}\n                                                     type=\"number\"\n                                                     class=\"form-control\"\n                                                     max=\"10\"\n                                                     maxlength=\"2\"\n                                                     aria-label=\"Recipient's username\"\n                                                     aria-describedby=\"basic-addon2\"\n                                                     on:blur={guardarHistoria}\n                                                     bind:value={historia.escalaDolor}\n                                                 />\n                                                 <div\n                                                     class=\"input-group-append\"\n                                                 >\n                                                     <span\n                                                         class=\"input-group-text\"\n                                                         id=\"basic-addon2\"\n                                                         >/ 10</span\n                                                     >\n                                                 </div>\n                                             </div>\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                             <div class=\"col-lg-3\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\"\n                                         ><i class=\"mdi mdi-opacity\" /> Saturaci&oacute;n\n                                         de oxigeno</label\n                                     >\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-12\">\n                                             <input\n                                                {disabled}\n                                                 type=\"number\"\n                                                 class=\"form-control\"\n                                                 on:blur={guardarHistoria}\n                                                 bind:value={historia.saturacionOxigeno}\n                                             />\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                             <div class=\"col-lg-12\">\n                                 <div class=\"form-group\">\n                                     <label for=\"\">Otros</label>\n                                     <div class=\"row\">\n                                         <div class=\"col-lg-12\">\n                                             <input\n                                                {disabled}\n                                                 type=\"text\"\n                                                 class=\"form-control\"\n                                                 on:blur={guardarHistoria}\n                                                 bind:value={historia.otrosParametros}\n                                             />\n                                         </div>\n                                     </div>\n                                 </div>\n                             </div>\n                         </div>\n                     </div>\n                 </div>\n            {/if}\n\n            <div\n                class=\"card m-b-20 autosave\"\n            >\n                <div class=\"card-header\">\n                    <div class=\"card-title\">Examen Fisico</div>\n                </div>\n                <div class=\"card-controls\">\n                    <div class=\"dropdown\">\n                        <a\n                            href=\"/\"\n                            data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\"\n                            aria-expanded=\"false\"\n                        >\n                            <i class=\"icon mdi  mdi-dots-vertical\" />\n                        </a>\n                        <div class=\"dropdown-menu dropdown-menu-right\">\n                            <button class=\"dropdown-item\" type=\"button\"\n                                >Action</button\n                            >\n                            <button class=\"dropdown-item\" type=\"button\"\n                                >Another action</button\n                            >\n                            <button class=\"dropdown-item\" type=\"button\"\n                                >Something else here</button\n                            >\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <textarea\n                        {disabled}\n                        class=\"form-control\"\n                        style=\"width: 100%; display: block;\"\n                        on:blur={guardarHistoria}\n                        bind:value={historia.examenFisico}\n                        rows=\"5\"\n                        name=\"Comentario\"\n                    />\n                </div>\n            </div>\n\n            {#if empresa.exploracionFisica}\n                 <div class=\"card m-b-20\">\n                     <div class=\"card-header\">\n                         <div class=\"card-title\">Exploraci&oacute;n Fisica</div>\n                     </div>\n                     <div class=\"card-body\">\n                         <div class=\"row\">\n                             <div class=\"col-12\">\n                                 {#each exploracionFisica as item}\n                                     {#if !item.activo}\n                                         <button class=\"btn btn-outline-primary mr-2\" on:click={() => { item.activo = true; guardarHistoria()} }>{item.nombre}</button>\n                                     {/if}\n                                 {/each}\n                             </div>\n                             <hr/>\n                             <div class=\"col-12\">\n                                 <div class=\"row mt-2\">\n                                     {#each exploracionFisica as item}\n                                         {#if item.activo}\n                                             <div class=\"col-lg-4\">\n                                                 <div class=\"card m-t-10 m-b-20 border border-primary\">\n                                                     <div class=\"card-header\">\n                                                         <div class=\"card-title\">{item.nombre}</div>\n                                                     </div>\n                                                     <div class=\"card-body\">\n                                                         <textarea {disabled} bind:value={item.text} on:blur={guardarHistoria} class=\"form-control\" rows=\"5\"></textarea>\n                                                     </div>\n                                                 </div>\n                                             </div>\n                                         {/if}\n                                     {/each}\n                                 </div>\n                             </div>\n                         </div>\n                     </div>\n                 </div>\n            {/if}\n\n            <div class=\"card m-b-20\">\n                <div class=\"card-header\">\n                    <div class=\"card-title\">Diagnosticos</div>\n                </div>\n                <div class=\"card-controls\">\n                    <div class=\"dropdown\">\n                        <a\n                            href=\"/\"\n                            data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\"\n                            aria-expanded=\"false\"\n                        >\n                            <i class=\"icon mdi  mdi-dots-vertical\" />\n                        </a>\n                        <div class=\"dropdown-menu dropdown-menu-right\">\n                            <button\n                                class=\"dropdown-item text-success\"\n                                type=\"button\"\n                                ><i class=\"mdi mdi-plus\" />\n                                Agregar nuevo diagnostico</button\n                            >\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-12\">\n                            <div\n                                class=\"form-group buscardor dropdown dropdown-vnc\"\n                            >\n                                <input\n                                    {disabled}\n                                    type=\"text\"\n                                    class=\"form-control\"\n                                    on:keyup={searchDiagnosticos}\n                                    id=\"txtBusquedaProblemaMedico\"\n                                    data-toggle=\"dropdown\"\n                                    aria-haspopup=\"true\"\n                                    aria-expanded=\"true\"\n                                    autocomplete=\"off\"\n                                    bind:value={inpBuscarDiagnostico}\n                                />\n                                <ul\n                                    class=\"lista-buscador dropdown-menu\"\n                                    id=\"buscador\"\n                                    x-placement=\"top-start\"\n                                    style=\"position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, -128px, 0px); border-radius: 5px;\"\n                                >\n                                    <div class=\"contenidoLista\">\n                                        {#each filtroDiagnostico as diagnostico}\n                                            <li>\n                                                <div\n                                                    class=\"p-2\"\n                                                    on:click={() =>\n                                                        seleccionarDiagnostico(\n                                                            diagnostico.c\n                                                        )}\n                                                >\n                                                    <span\n                                                        class=\"badge badge-primary\"\n                                                        >{diagnostico.c}</span\n                                                    >\n                                                    {diagnostico.d}\n                                                </div>\n                                            </li>\n                                        {/each}\n                                        <li class=\"defecto\">\n                                            <a href=\"#!\"\n                                                on:click|preventDefault={() => agregarDiagnosticoPersonalizado(inpBuscarDiagnostico)}\n                                                ><i class=\"mdi mdi-plus\" />Agregar\n                                                manualmente</a\n                                            >\n                                        </li>\n                                    </div>\n                                </ul>\n                            </div>\n                        </div>\n\n                        <div class=\"col-md-12\">\n                            <ul class=\"list-info\">\n                                {#each diagnosticosSeleccionados as item, i}\n                                    <li>\n                                        <span class=\"badge badge-primary\"\n                                            >{item.c}</span\n                                        >&nbsp;<span>{item.d}</span>\n                                        <div\n                                            style=\"position: absolute; top: 0; right: 0;padding: 10px; background-color: white; border-bottom-left-radius: 5px;\"\n                                        >\n                                            <a\n                                                href=\"#!\"\n                                                class=\"text-primary\"\n                                                data-tooltip=\"Comentar\"\n                                                on:click|preventDefault={() => agregarComentarioDiagnostico(i)}\n                                                ><i\n                                                    class=\"mdi-18px mdi mdi-comment-plus-outline\"\n                                                /></a\n                                            >\n                                            <a\n                                                href=\"#!\"\n                                                class=\"text-danger\"\n                                                data-tooltip=\"Eliminar\"\n                                                on:click|preventDefault={() => eliminarDiagnostico(i)}\n                                                ><i\n                                                    class=\"mdi-18px mdi mdi-trash-can-outline\"\n                                                /></a\n                                            >\n                                        </div>\n                                        {#if item.comentario !== undefined}\n                                            <div class=\"row mt-3\">\n                                                <div class=\"col\">\n                                                    <input {disabled} type=\"text\" on:blur={guardarHistoria} bind:value={item.comentario} class=\"form-control border-primary\" placeholder=\"Comentario\">\n                                                </div>\n                                            </div>\n                                        {/if}\n                                    </li>\n                                {/each}\n                                {#if diagnosticosSeleccionados.length === 0}\n                                    <div class=\"row\">\n                                        <div class=\"col-md-12\">\n                                            <div\n                                                class=\"alert border alert-light\"\n                                                role=\"alert\"\n                                            >\n                                                <p\n                                                    class=\"alert-body text-center mt-3\"\n                                                >\n                                                    No tienes agregado ningún\n                                                    diagnostico\n                                                </p>\n                                            </div>\n                                            <ul\n                                                class=\"list-info\"\n                                                data-bind=\"foreach: estudios\"\n                                            />\n                                        </div>\n                                    </div>\n                                {/if}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <OrdenesMedicas\n                {disabled}\n                bind:idHistoria={params.idHistoria}\n                bind:idPaciente={params.idPaciente}\n                bind:estudiosSeleccionados={estudiosSeleccionados}\n                bind:medicamentosSeleccionados={medicamentosSeleccionados}\n                bind:sltBuscarMedicamentos={sltBuscarMedicamentos}\n                bind:sltBuscarEstudios={sltBuscarEstudios}\n                bind:medicamentos={medicamentos}\n                bind:instrucciones={historia.instrucciones}\n                bind:estudios={estudios}\n                on:eliminarEstudio={eliminarEstudios}\n                on:agregarEstudio={agregarEstudio}\n                on:buscandoEstudios={searchEstudios}\n                on:modificado={guardarHistoria}\n                on:buscarMedicamentos={searchMedicamentos}\n                on:agregarMedicamento={agregarMedicamento}\n                on:eliminarMedicamento={eliminarMedicamento}\n            />\n\n            <div class=\"card m-b-20 margen-mobile autosave\">\n                <div class=\"card-header\">\n                    <div class=\"card-title\">Observaciones</div>\n                </div>\n                <div class=\"card-body\">\n                    <textarea\n                        {disabled}\n                        class=\"form-control\"\n                        style=\"width: 100%; display: block; height: 150px;\"\n                        rows=\"3\"\n                        on:blur={guardarHistoria}\n                        bind:value={historia.observaciones}\n                    />\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-lg-6\">\n                    <div class=\"card m-b-20\">\n                        <div class=\"card-header\">\n                            <div class=\"card-title\">Fecha y hora</div>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"form-row\">\n                                <div\n                                    class=\"form-group floating-label col-md-6 show-label\"\n                                >\n                                    <label for=\"\">Fecha</label>\n                                    <input\n                                        type=\"date\"\n                                        class=\"form-control\"\n                                        placeholder=\"Fecha\"\n                                        bind:value={fecha}\n                                        disabled\n                                    />\n                                </div>\n                                <div\n                                    class=\"form-group floating-label col-md-6 show-label\"\n                                >\n                                    <label for=\"\">Hora</label>\n                                    <input\n                                        type=\"time\"\n                                        placeholder=\"Hora\"\n                                        class=\"form-control\"\n                                        on:blur={() => console.log(hora)}\n                                        bind:value={hora}\n                                        disabled\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</main>\n\n<ModalDatosPaciente {paciente} {edad} {seguro} />\n<ModalTratamientos />\n<ModalInterconsulta />\n<ModalAntecedentes />\n<ModalNuevaCita\n    {pacienteSeleccionado}\n/>\n\n<style>\n    .flotante{\n        position: fixed;\n        right: 30px;\n        bottom: 20px;\n    }\n    .cargando{\n        z-index: 1000;\n    }\n</style>",
    "<script>\n    import axios from \"axios\";\n    import { onMount } from \"svelte\";\n    import { url, user } from \"../../util/index\";\n\n    import Header from \"../../Layout/Header.svelte\";\n    import Aside from \"../../Layout/Aside.svelte\";\n    import ErrorConexion from \"../../componentes/ErrorConexion.svelte\";\n    import NoConexion from \"../../componentes/NoConexion.svelte\";\n    import Loading from \"../../componentes/Loading.svelte\";\nimport ModalAgregarHorario from \"../../componentes/Modals/ModalAgregarHorario.svelte\";\n\n    const Toast = Swal.mixin({\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true,\n        didOpen: (toast) => {\n            toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n            toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        },\n    });\n\n    let errorServer = false;\n    let serverConexion = false;\n    let msgError = \"\";\n    let empresa = {};\n    let logo = \"\";\n    let avatar;\n    let cargando = false;\n    const dia = {\n        0: 'Lunes',\n        1: 'Martes',\n        2: 'Miercoles',\n        3: 'Jueves',\n        4: 'Viernes',\n        5: 'Sabado',\n        6: 'Domingo'\n    }\n    let horarios = [];\n\n    const eliminarHorario = (idHorario) => {\n        const config = {\n            method: 'delete',\n            url: `${url}/horarioscitas/${idHorario}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        Swal.fire({\n            title: 'Estas seguro?',\n            text: \"El horario se va a eliminar definitivamente, pero puedes volver a agregarlo con los cambios que desees!\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Si, Eliminar!',\n            cancelButtonText: 'Cancelar'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                axios(config)\n                    .then(res => {\n                        if(res.status === 200) {\n                            Toast.fire({\n                                icon: 'success',\n                                title: 'Se ha eliminado el horario'\n                            })\n                            console.log(res.data)\n                            cargarHorariosCitas()\n                        }\n                    })\n                    .catch(err => {\n                        console.error(err)\n                    })\n            }\n        })\n    }\n\n    const cargarHorariosCitas = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/horarioscitas`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        axios(config)\n            .then(res => {\n                horarios = res.data\n                console.log(res.data)\n            })\n            .catch(err =>{\n                console.error(err)\n            })\n    };\n\n    const cambiarImagenEmpresa = (e) => {\n        let image = e.target.files[0];\n        const form = new FormData();\n        form.append(\"logo\", image);\n        const config = {\n            method: \"put\",\n            url: `${url}/empresas/${user().empresa}/imagen`,\n            data: form,\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        axios(config)\n            .then((res) => {\n                if (res.status === 200) {\n                    Toast.fire({\n                        icon: \"success\",\n                        title: \"Se ha cambiado la imagen correctamente\",\n                    });\n                    cargarEmpresa();\n                }\n            })\n            .catch((err) => {\n                console.error(err);\n            });\n    };\n\n    const editarEmpresa = () => {\n        const data = {\n            nombre: empresa.nombre,\n            especialidades: empresa.especialidades,\n            telefono: empresa.telefono,\n            correo: empresa.correo,\n            direccion: empresa.direccion,\n            historiaGinecologica: empresa.historiaGinecologica,\n            signosVitales: empresa.signosVitales,\n            otrosParametros: empresa.otrosParametros,\n            exploracionFisica: empresa.exploracionFisica,\n        };\n        const config = {\n            method: \"put\",\n            url: `${url}/empresas/${user().empresa}`,\n            data,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        axios(config)\n            .then((res) => {\n                if (res.status === 200) {\n                    Toast.fire({\n                        icon: \"success\",\n                        title: \"Empresa actualizada\",\n                    });\n                    cargarEmpresa();\n                }\n            })\n            .catch((err) => {\n                console.error(err);\n            });\n    };\n\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\n        const config = {\n            method: \"get\",\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\n            responseType: \"blob\",\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        axios(config)\n            .then((res) => {\n                return (logo = URL.createObjectURL(res.data));\n            })\n            .catch((err) => {\n                console.error(err);\n            });\n    };\n\n    const cargarEmpresa = () => {\n        cargando = true;\n        const config = {\n            method: \"get\",\n            url: `${url}/empresas/${user().empresa}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        axios(config)\n            .then((res) => {\n                cargando = false;\n                if (res.status === 200) {\n                    empresa = res.data;\n                    cargarImagenEmpresa(empresa.id, empresa.logo);\n                } else {\n                    serverConexion = true;\n                }\n            })\n            .catch((err) => {\n                cargando = false;\n                serverConexion = true;\n                console.error(err);\n            });\n    };\n\n    onMount(() => {\n        cargarEmpresa();\n        cargarHorariosCitas()\n    });\n</script>\n\n<Aside />\n\n<main class=\"admin-main\">\n    <Header />\n    {#if serverConexion}\n        <NoConexion />\n    {/if}\n    {#if cargando}\n        <div class=\"cargando\">\n            <Loading />\n        </div>\n    {/if}\n    <section class=\"admin-content\">\n        <button\n            type=\"button\"\n            class=\"btn m-b-15 ml-2 mr-2 btn-lg btn-rounded-circle btn-success\"\n            style=\"position: fixed; bottom: 30px; right: 30px; z-index: 1000\"\n            on:click={editarEmpresa}\n        >\n            <i class=\"mdi mdi-content-save\" />\n        </button>\n        <div class=\"p-2\">\n            <div class=\"col-12\">\n                <div class=\"row\">\n                    <div class=\"col-12 m-b-20 m-t-20\">\n                        <h5><i class=\"mdi mdi-medical-bag\" /> Consultorio</h5>\n                    </div>\n                    <div class=\"col-12\">\n                        <div class=\"card m-b-30\">\n                            <div class=\"card-header\">\n                                <h4 class=\"card-title\">Informaci&oacute;n</h4>\n                            </div>\n                            <div class=\"card-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-lg-3\">\n                                        <img\n                                            src={logo}\n                                            class=\"logo-emp\"\n                                            alt=\"logo empresa\"\n                                        />\n                                        <div class=\"col-12 text-center mt-2\">\n                                            <label\n                                                class=\"btn btn-primary btn-sm\"\n                                                for=\"inpSubirImagen\"\n                                            >\n                                                <i class=\"mdi mdi-refresh\" /> Cambiar\n                                                imagen\n                                            </label>\n                                            <input\n                                                style=\"display: none;\"\n                                                on:change={cambiarImagenEmpresa}\n                                                type=\"file\"\n                                                id=\"inpSubirImagen\"\n                                                accept=\"image/png, image/jpeg\"\n                                            />\n                                        </div>\n                                    </div>\n                                    <div class=\"col-lg-9\">\n                                        <div class=\"row\">\n                                            <div class=\"col-lg-12\">\n                                                <div class=\"form-group\">\n                                                    <label for=\"\"\n                                                        >Nombre consultorio</label\n                                                    >\n                                                    <input\n                                                        type=\"text\"\n                                                        class=\"form-control\"\n                                                        bind:value={empresa.nombre}\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div class=\"col-lg-12\">\n                                                <div class=\"form-group\">\n                                                    <label for=\"\"\n                                                        >Especialidades</label\n                                                    >\n                                                    <input\n                                                        type=\"text\"\n                                                        class=\"form-control\"\n                                                        bind:value={empresa.especialidades}\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div class=\"col-lg-6\">\n                                                <div class=\"form-group\">\n                                                    <label for=\"\"\n                                                        >Telefono</label\n                                                    >\n                                                    <input\n                                                        type=\"tel\"\n                                                        class=\"form-control\"\n                                                        bind:value={empresa.telefono}\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div class=\"col-lg-6\">\n                                                <div class=\"form-group\">\n                                                    <label for=\"\">Correo</label>\n                                                    <input\n                                                        type=\"email\"\n                                                        class=\"form-control\"\n                                                        bind:value={empresa.correo}\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div class=\"col-lg-12\">\n                                                <div class=\"form-group\">\n                                                    <label for=\"\"\n                                                        >Direccion</label\n                                                    >\n                                                    <input\n                                                        type=\"text\"\n                                                        class=\"form-control\"\n                                                        bind:value={empresa.direccion}\n                                                    />\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-lg-12\">\n                        <div class=\"card m-b-30\">\n                            <div class=\"card-header\">\n                                <div class=\"card-title\">\n                                    <strong>Configurci&oacute;n</strong>\n                                </div>\n                            </div>\n                            <div class=\"card-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-3\">\n                                        <div\n                                            class=\"nav flex-column nav-pills\"\n                                            id=\"v-pills-tab\"\n                                            role=\"tablist\"\n                                            aria-orientation=\"vertical\"\n                                        >\n                                            <a\n                                                class=\"nav-link active\"\n                                                id=\"v-pills-profile-tab\"\n                                                data-toggle=\"pill\"\n                                                href=\"#v-pills-profile\"\n                                                role=\"tab\"\n                                                aria-controls=\"v-pills-profile\"\n                                                aria-selected=\"false\"\n                                                ><i\n                                                    class=\"mdi mdi-calendar-plus\"\n                                                /> Horarios de citas</a\n                                            >\n                                            <a\n                                                class=\"nav-link\"\n                                                id=\"v-pills-home-tab\"\n                                                data-toggle=\"pill\"\n                                                href=\"#v-pills-home\"\n                                                role=\"tab\"\n                                                aria-controls=\"v-pills-home\"\n                                                aria-selected=\"true\"\n                                                ><i\n                                                    class=\"mdi mdi-square-edit-outline\"\n                                                /> Historia Clinica</a\n                                            >\n                                            <!-- <a\n                                                class=\"nav-link\"\n                                                id=\"v-pills-messages-tab\"\n                                                data-toggle=\"pill\"\n                                                href=\"#v-pills-messages\"\n                                                role=\"tab\"\n                                                aria-controls=\"v-pills-messages\"\n                                                aria-selected=\"false\"\n                                                >Messages</a\n                                            >\n                                            <a\n                                                class=\"nav-link\"\n                                                id=\"v-pills-settings-tab\"\n                                                data-toggle=\"pill\"\n                                                href=\"#v-pills-settings\"\n                                                role=\"tab\"\n                                                aria-controls=\"v-pills-settings\"\n                                                aria-selected=\"false\"\n                                                >Settings</a\n                                            > -->\n                                        </div>\n                                    </div>\n                                    <div class=\"col-9\">\n                                        <div\n                                            class=\"tab-content\"\n                                            id=\"v-pills-tabContent\"\n                                        >\n                                            <div\n                                                class=\"tab-pane fade\"\n                                                id=\"v-pills-home\"\n                                                role=\"tabpanel\"\n                                                aria-labelledby=\"v-pills-home-tab\"\n                                            >\n                                                <div class=\"row\">\n                                                    <div class=\"col-12\">\n                                                        <div class=\" m-b-10\">\n                                                            <label\n                                                                class=\"cstm-switch\"\n                                                            >\n                                                                <input\n                                                                    type=\"checkbox\"\n                                                                    bind:checked={empresa.historiaGinecologica}\n                                                                    name=\"option\"\n                                                                    value=\"1\"\n                                                                    class=\"cstm-switch-input\"\n                                                                />\n                                                                <span\n                                                                    class=\"cstm-switch-indicator bg-success \"\n                                                                />\n                                                                <span\n                                                                    class=\"cstm-switch-description\"\n                                                                    >Historia\n                                                                    Ginecologica</span\n                                                                >\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-12\">\n                                                        <div class=\" m-b-10\">\n                                                            <label\n                                                                class=\"cstm-switch\"\n                                                            >\n                                                                <input\n                                                                    type=\"checkbox\"\n                                                                    bind:checked={empresa.signosVitales}\n                                                                    name=\"option\"\n                                                                    value=\"1\"\n                                                                    class=\"cstm-switch-input\"\n                                                                />\n                                                                <span\n                                                                    class=\"cstm-switch-indicator bg-success \"\n                                                                />\n                                                                <span\n                                                                    class=\"cstm-switch-description\"\n                                                                    >Signos\n                                                                    Vitales</span\n                                                                >\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-12\">\n                                                        <div class=\" m-b-10\">\n                                                            <label\n                                                                class=\"cstm-switch\"\n                                                            >\n                                                                <input\n                                                                    type=\"checkbox\"\n                                                                    bind:checked={empresa.otrosParametros}\n                                                                    name=\"option\"\n                                                                    value=\"1\"\n                                                                    class=\"cstm-switch-input\"\n                                                                />\n                                                                <span\n                                                                    class=\"cstm-switch-indicator bg-success \"\n                                                                />\n                                                                <span\n                                                                    class=\"cstm-switch-description\"\n                                                                    >Otros\n                                                                    Parametros</span\n                                                                >\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-12\">\n                                                        <div class=\" m-b-10\">\n                                                            <label\n                                                                class=\"cstm-switch\"\n                                                            >\n                                                                <input\n                                                                    type=\"checkbox\"\n                                                                    bind:checked={empresa.exploracionFisica}\n                                                                    name=\"option\"\n                                                                    value=\"1\"\n                                                                    class=\"cstm-switch-input\"\n                                                                />\n                                                                <span\n                                                                    class=\"cstm-switch-indicator bg-success \"\n                                                                />\n                                                                <span\n                                                                    class=\"cstm-switch-description\"\n                                                                    >Exploraci&oacute;n\n                                                                    Fisica</span\n                                                                >\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div\n                                                class=\"tab-pane fade show active\"\n                                                id=\"v-pills-profile\"\n                                                role=\"tabpanel\"\n                                                aria-labelledby=\"v-pills-profile-tab\"\n                                            >\n                                                <div class=\"col-lg-12 mt-3\">\n                                                    <div class=\"row\">\n                                                        <div class=\"col-12 text-right\">\n                                                            <button\n                                                                class=\"btn btn-outline-primary btn-sm mb-2\"\n                                                                data-toggle=\"modal\"\n                                                                data-target=\"#modalAgregarHorario\"\n                                                            ><i class=\"mdi mdi-plus\"></i> AGREGAR HORARIO</button>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"table-responsive\">\n                                                        <table class=\"table table-hover\">\n                                                            <thead>\n                                                                <tr>\n                                                                    <th>Dia</th>\n                                                                    <th>Tanda</th>\n                                                                    <th>Cupos</th>\n                                                                    <th></th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody>\n                                                                {#each horarios as horario}\n                                                                     <tr>\n                                                                         <td>{dia[horario.dia]}</td>\n                                                                         <td>{horario.tanda === 'M' ? 'Mañana' : 'Tarde'}</td>\n                                                                         <td>{horario.cantidadCitas} personas</td>\n                                                                         <td class=\"text-right\">\n                                                                             <button\n                                                                                title=\"Eliminar\"\n                                                                                on:click|preventDefault={() => eliminarHorario(horario.id)} \n                                                                                class=\"btn btn-outline-danger btn-sm\">\n                                                                                 <i class=\"mdi mdi-trash-can-outline\"></i>\n                                                                             </button>\n                                                                         </td>\n                                                                     </tr>\n                                                                {/each}\n                                                            </tbody>\n                                                        </table>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <!-- <div\n                                                class=\"tab-pane fade\"\n                                                id=\"v-pills-messages\"\n                                                role=\"tabpanel\"\n                                                aria-labelledby=\"v-pills-messages-tab\"\n                                            >\n                                                <p class=\"opacity-75\">\n                                                    Fugiat id quis dolor culpa\n                                                    eiusmod anim velit excepteur\n                                                    proident dolor aute qui\n                                                    magna. Ad proident laboris\n                                                    ullamco esse anim Lorem\n                                                    Lorem veniam quis Lorem\n                                                    irure occaecat velit nostrud\n                                                    magna nulla. Velit et et\n                                                    proident Lorem do ea tempor\n                                                    officia dolor. Reprehenderit\n                                                    Lorem aliquip labore est\n                                                    magna commodo est ea veniam\n                                                    consectetur.\n                                                </p>\n                                            </div>\n                                            <div\n                                                class=\"tab-pane fade\"\n                                                id=\"v-pills-settings\"\n                                                role=\"tabpanel\"\n                                                aria-labelledby=\"v-pills-settings-tab\"\n                                            >\n                                                <p class=\"opacity-75\">\n                                                    Eu dolore ea ullamco dolore\n                                                    Lorem id cupidatat excepteur\n                                                    reprehenderit consectetur\n                                                    elit id dolor proident in\n                                                    cupidatat officia. Voluptate\n                                                    excepteur commodo labore\n                                                    nisi cillum duis aliqua do.\n                                                    Aliqua amet qui mollit\n                                                    consectetur nulla mollit\n                                                    velit aliqua veniam nisi id\n                                                    do Lorem deserunt amet.\n                                                    Culpa ullamco sit\n                                                    adipisicing labore officia\n                                                    magna elit nisi in aute\n                                                    tempor commodo eiusmod.\n                                                </p>\n                                            </div> -->\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section><br><br>\n</main>\n<ModalAgregarHorario/>\n<style>\n    .logo-emp {\n        width: 100%;\n        height: 200px;\n        object-fit: cover;\n        border-radius: 10px;\n    }\n</style>\n",
    "<script>\n  import { fade } from \"svelte/transition\";\n  import { push } from \"svelte-spa-router\";\n  import axios from \"axios\";\n  import { onMount, tick } from \"svelte\";\n  import { url } from \"../../util/index\";\n\n  import Header from \"../../Layout/Header.svelte\";\n  import Aside from \"../../Layout/Aside.svelte\";\n  import Evoluciones from \"../../componentes/Evoluciones.svelte\";\n  import UltimosVitales from \"../../componentes/UltimosVitales.svelte\";\n  import Loading from \"../../componentes/Loading.svelte\";\n  import CabeceraPerfil from \"../../componentes/CabeceraPerfil.svelte\";\n  import ModalDatosPaciente from \"../../componentes/Modals/ModalDatosPaciente.svelte\";\n  import TarjetaAntecedentes from \"../../componentes/TarjetaAntecedentes.svelte\";\n\n  export let params = \"\";\n  let cargando = false;\n  let paciente = {};\n  let edad = \"\";\n  let seguro = \"\";\n  let categoriasAntecedentes = [];\n  let antecedentes = [];\n  let historiasPaciente = [];\n  let peso = 0;\n  let tipoPeso = '';\n  let temperatura = '';\n  let tipoTemperatura = '';\n  let frecuenciaRespiratoria = '';\n  let frecuenciaCardiaca = '';\n  let presionAlterial = '';\n\n  const cargarHistoriasPaciente = async () => {\n    try {\n      const config = {\n      method: \"get\",\n      url: `${url}/historias/paciente/${params.id}`,\n      headers: {\n        'Authorization': `${localStorage.getItem('auth')}` \n      }\n    };\n    let promesa = await axios(config)\n        historiasPaciente = promesa.data;\n        if(historiasPaciente.length !== 0){          \n          peso = promesa.data[0].peso.valor;\n          tipoPeso = promesa.data[0].peso.tipo;\n          temperatura = promesa.data[0].temperatura.valor;\n          tipoTemperatura = promesa.data[0].temperatura.tipo;\n          frecuenciaRespiratoria = promesa.data[0].frecuenciaRespiratoria;\n          frecuenciaCardiaca = promesa.data[0].frecuenciaCardiaca;\n          presionAlterial = `${promesa.data[0].presionAlterial.mm}/${promesa.data[0].presionAlterial.Hg}`;\n        }else{\n          return false\n        }\n    } catch (error) {\n      console.log(error)\n    }\n  };\n\n  function actualizarAntecedentesPaciente() {\n    paciente.antecedentes = antecedentes;\n    const config = {\n      method: \"put\",\n      url: `${url}/pacientes/${paciente.id}`,\n      data: paciente,\n      headers: {\n        'Authorization': `${localStorage.getItem('auth')}` \n      }\n    };\n    axios(config)\n      .then((res) => {\n        console.log(res.data);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  const combinarAntecedentes = () => {\n    for (const ant of paciente.antecedentes) {\n      if (ant.activo == true) {\n        const index = antecedentes.findIndex((x) => x.id === ant.id);\n        antecedentes[index].activo = ant.activo;\n        antecedentes[index].descripcion = ant.descripcion;\n      }\n    }\n  };\n\n  function eliminarAntecedente(idAntecedente) {\n    const index = antecedentes.findIndex((x) => x.id === idAntecedente);\n    antecedentes[index].activo = false;\n    actualizarAntecedentesPaciente();\n  }\n\n  function cambiarEstadoAntecedente(idAntecedente) {\n    const index = antecedentes.findIndex((x) => x.id === idAntecedente);\n    antecedentes[index].activo = true;\n    actualizarAntecedentesPaciente();\n  }\n\n  async function cargarAntecedentes() {\n    const config = {\n      method: \"get\",\n      url: `${url}/antecedentes`,\n      headers: {\n        'Authorization': `${localStorage.getItem('auth')}` \n      }\n    };\n    let promesa = await axios(config);\n    if (promesa.status == 200) {\n      antecedentes = promesa.data;\n    } else {\n      console.error(promesa.statusText);\n    }\n  }\n\n  function cargarCategoriasAntecedentes() {\n    const config = {\n      method: \"get\",\n      url: `${url}/categorias/antecedentes`,\n      headers: {\n        'Authorization': `${localStorage.getItem('auth')}` \n      }\n    };\n    axios(config).then((res) => {\n      categoriasAntecedentes = res.data;\n    });\n  }\n\n  async function cargarPaciente() {\n    cargando = true;\n    const config = {\n      method: \"get\",\n      url: `${url}/pacientes/${params.id}`,\n      headers: {\n        'Authorization': `${localStorage.getItem('auth')}` \n      }\n    };\n    try {\n      let promesa = await axios(config);\n      if (promesa.status == 200) {\n        cargando = false;\n        paciente = promesa.data;\n        edad = calcularEdad(paciente.fechaNacimiento);\n        if(paciente.seguroMedico.length !== 0) {\n          seguro = paciente.seguroMedico[0].nombre;\n        }\n        else\n        {\n          seguro = \"N/A\"\n        }\n      }\n    } catch (error) {\n      cargando = false;\n      console.error(error);\n    }\n  }\n\n  function calcularEdad(fecha) {\n    var hoy = new Date();\n    var cumpleanos = new Date(fecha);\n    var edad = hoy.getFullYear() - cumpleanos.getFullYear();\n    var m = hoy.getMonth() - cumpleanos.getMonth();\n\n    if (m < 0 || (m === 0 && hoy.getDate() < cumpleanos.getDate())) {\n      edad--;\n    }\n\n    return edad;\n  }\n\n  onMount(async () => {\n    jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n    await cargarPaciente();\n    await cargarAntecedentes();\n    await cargarHistoriasPaciente();\n    cargarCategoriasAntecedentes();\n    combinarAntecedentes();\n  });\n</script>\n\n<Aside />\n\n<main class=\"admin-main\" in:fade={{ duration: 300 }}>\n  {#if cargando}\n    <div class=\"cargando\">\n      <Loading/>\n    </div>\n  {/if}\n  <Header />\n  <section class=\"admin-content\">\n    <section class=\"admin-content\">\n      <CabeceraPerfil\n        bind:cargando={cargando}\n        bind:edad\n        bind:nombres={paciente.nombres}\n        bind:apellidos={paciente.apellidos}\n        bind:cedula={paciente.cedula}\n        bind:id={paciente.id}\n        {paciente}\n      />\n      <div class=\"pull-up\">\n        <div class=\"col-md-12\">\n          <div class=\"row\">\n            <div class=\"col-lg-3 order-lg-1 order-sm-3\">\n              <UltimosVitales\n                peso={peso ?? 0}\n                tipoPeso={tipoPeso}\n                temperatura={temperatura}\n                tipoTemperatura={tipoTemperatura}\n                {frecuenciaRespiratoria}\n                {frecuenciaCardiaca}\n                {presionAlterial}\n              /><!--.signos vitales-->\n              <!-- <div class=\"card m-b-30\">\n                <div class=\"card-header\">\n                  <h5 class=\"m-b-0\">Archivos o Documentos</h5>\n                  <p class=\"m-b-0 mt-2 text-muted\">\n                    Puede subir documentos del paciente, como fotos de\n                    laboratorios, recetas entre otros.\n                  </p>\n                </div>\n                <div class=\"card-body\">\n                  <form class=\"dropzone dz-clickable\" action=\"/\">\n                    <div class=\"dz-message\">\n                      <h1 class=\"display-4\">\n                        <i class=\" mdi mdi-progress-upload\" />\n                      </h1>\n                      Puede arrastrar el documento a esta zona.<br />\n                      <div class=\"p-t-5\">\n                        <a href=\"#!\" class=\"btn btn-lg btn-primary\"\n                          >Subir Archivo</a\n                        >\n                      </div>\n                    </div>\n                  </form>\n                  <br />\n\n                  <div class=\"list-group list-group-flush \">\n                    <div class=\"list-group-item d-flex  align-items-center\">\n                      <div class=\"m-r-20\">\n                        <div class=\"avatar avatar-sm \">\n                          <div class=\"avatar-title bg-dark rounded\">\n                            <i class=\"mdi mdi-24px mdi-file-pdf\" />\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"\">\n                        <div>SRS Document</div>\n                        <div class=\"text-muted\">25.5 Mb</div>\n                      </div>\n\n                      <div class=\"ml-auto\">\n                        <div class=\"dropdown\">\n                          <a\n                            href=\"#!\"\n                            data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\"\n                            aria-expanded=\"false\"\n                          >\n                            <i class=\"mdi  mdi-dots-vertical mdi-18px\" />\n                          </a>\n\n                          <div class=\"dropdown-menu dropdown-menu-right\">\n                            <button class=\"dropdown-item\" type=\"button\"\n                              >Action</button\n                            >\n                            <button class=\"dropdown-item\" type=\"button\"\n                              >Another action</button\n                            >\n                            <button class=\"dropdown-item\" type=\"button\"\n                              >Something else here</button\n                            >\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"list-group-item d-flex  align-items-center\">\n                      <div class=\"m-r-20\">\n                        <div class=\"avatar avatar-sm \">\n                          <div class=\"avatar-title bg-dark rounded\">\n                            <i class=\"mdi mdi-24px mdi-file-document-box\" />\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"\">\n                        <div>Design Guide.pdf</div>\n                        <div class=\"text-muted\">9 Mb</div>\n                      </div>\n\n                      <div class=\"ml-auto\">\n                        <div class=\"dropdown\">\n                          <a\n                            href=\"#!\"\n                            data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\"\n                            aria-expanded=\"false\"\n                          >\n                            <i class=\"mdi  mdi-dots-vertical mdi-18px\" />\n                          </a>\n\n                          <div class=\"dropdown-menu dropdown-menu-right\">\n                            <button class=\"dropdown-item\" type=\"button\"\n                              >Action</button\n                            >\n                            <button class=\"dropdown-item\" type=\"button\"\n                              >Another action</button\n                            >\n                            <button class=\"dropdown-item\" type=\"button\"\n                              >Something else here</button\n                            >\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div> -->\n            </div>\n\n            <div class=\"col-md-5 order-2 order-sm-1\">\n              <div class=\"card m-b-30\">\n                <div class=\"card-header\">\n                  <div class=\"avatar mr-2 avatar-xs\">\n                    <div class=\"avatar-title bg-dark rounded-circle\">\n                      <i class=\"mdi mdi-progress-check mdi-18px\" />\n                    </div>\n                  </div>\n                  Historial atenciones\n                </div>\n                <div class=\"card-body\">\n                  {#each historiasPaciente as historia}\n                    {#if historia.activo}\n                      <!-- content here -->\n                      <Evoluciones\n                        usuario={historia.usuario}\n                        idPaciente={paciente.id}\n                        id={historia.id}\n                        fecha={historia.fechaHora}\n                        motivo={historia.motivoConsulta}\n                        historia={historia.historiaEnfermedad}\n                      />\n                    {/if}\n                  {/each}\n                </div>\n              </div>\n            </div>\n            <!--.antecedentes columna-->\n\n            <div class=\"col-md-4 order-lg-12 order-sm-2\">\n              <div class=\"card m-b-30\">\n                <div class=\"card-header\">\n                  <div class=\"avatar mr-2 avatar-xs\">\n                    <div class=\"avatar-title bg-dark rounded-circle\">\n                      <i\n                        on:click={combinarAntecedentes}\n                        class=\"mdi mdi-history mdi-18px\"\n                      />\n                    </div>\n                  </div>\n                  <span>Antecedentes &nbsp;</span><button\n                    class=\"btn btn-outline-primary btn-sm\"\n                    data-toggle=\"modal\"\n                    data-target=\"#modalAntecedentes\"\n                    ><i class=\"mdi mdi-plus\" /> CAMBIAR &nbsp;\n                  </button>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"atenciones-vnc mb-3\">\n                    {#each categoriasAntecedentes as categoria}\n                      <!-- content here -->\n                      <TarjetaAntecedentes\n                        bind:id={categoria.id}\n                        bind:nombre={categoria.nombre}\n                        bind:antecedentes={paciente.antecedentes}\n                      />\n                    {/each}\n                  </div>\n                </div>\n              </div>\n\n              <!-- <div class=\"card m-b-30\">\n                <div class=\" card-header\">\n                  <div class=\"avatar mr-2 avatar-xs\">\n                    <div class=\"avatar-title bg-dark rounded-circle\">\n                      <i class=\"mdi mdi-comment-account-outline mdi-18px\" />\n                    </div>\n                  </div>\n                  Medicamentos en uso\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"form-group buscardor dropdown\">\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      name=\"\"\n                      id=\"\"\n                      data-toggle=\"dropdown\"\n                      aria-haspopup=\"true\"\n                      aria-expanded=\"false\"\n                    />\n                    <ul class=\"lista-buscador dropdown-menu\" id=\"buscador\">\n                      <div class=\"contenidoLista\">\n                        <li>\n                          <a href=\"#!\">Metrocaps</a>\n                        </li>\n                        <li>\n                          <a href=\"#!\">Albendazol</a>\n                        </li>\n                      </div>\n                      <li class=\"defecto\">\n                        <a href=\"#!\"\n                          ><i class=\"mdi mdi-plus\" /> Agregar manualmente</a\n                        >\n                      </li>\n                    </ul>\n                  </div>\n                  <div\n                    class=\"alert alert-secondary alert-dismissible fade show\"\n                    role=\"alert\"\n                  >\n                    AirPlus\n                    <button\n                      type=\"button\"\n                      class=\"close\"\n                      data-dismiss=\"alert\"\n                      aria-label=\"Close\"\n                    >\n                      <span aria-hidden=\"true\">×</span>\n                    </button>\n                  </div>\n                </div>\n              </div> -->\n            </div>\n            <!--.citas columna-->\n          </div>\n        </div>\n      </div>\n      <!--.pull-on-->\n    </section>\n\n    <ModalDatosPaciente {paciente} {edad} {seguro} />\n\n    <!--modal antecedentes-->\n    <div\n      class=\"modal fade modal-slide-right\"\n      id=\"modalAntecedentes\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"modalAntecedentes\"\n      style=\"display: none;\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"modalAntecedentes\">Antecedentes</h5>\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">×</span>\n            </button>\n            <div style=\"margin-right: 40px;\">\n              <div class=\"guardar-documento\">\n                <div\n                  class=\"guardando mr-2 text-success\"\n                  data-bind=\"html: content, class: contentClass\"\n                >\n                  <i class=\"mdi mdi-check-all\" /> <i>listo y guardado</i>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\" data-bind=\"foreach: gruposAntecedentes\">\n                {#each categoriasAntecedentes as categoria}\n                  <div\n                    class=\"card  m-b-30\"\n                    style=\"box-shadow: none; border: #32325d solid 1px;\"\n                  >\n                    <div class=\"card-header\">\n                      <div class=\"card-title\" data-bind=\"text: nombre\">\n                        {categoria.nombre}\n                      </div>\n                    </div>\n                    <div class=\"card-body\">\n                      <div\n                        class=\"botones-antecedentes\"\n                        data-bind=\"foreach: tiposAntecedentesFiltrados\"\n                      >\n                        {#each antecedentes as antecedente}\n                          {#if antecedente.categoria.id === categoria.id}\n                            {#if antecedente.activo === false}\n                              <!-- content here -->\n                              <button\n                                type=\"button\"\n                                class=\"btn btn-outline-primary btn-sm mb-1 mr-2\"\n                                style=\"box-shadow: none;\"\n                                on:click={() =>\n                                  cambiarEstadoAntecedente(antecedente.id)}\n                                ><i class=\"mdi mdi-plus\" />\n                                <span data-bind=\"text: nombre\"\n                                  >{antecedente.nombre}</span\n                                >\n                              </button>\n                            {/if}\n                          {/if}\n                        {/each}\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-12\">\n                          <div class=\"row\">\n                            <div\n                              class=\"col-lg-12\"\n                              data-bind=\"foreach: antecedentesFiltrados\"\n                            >\n                              {#each antecedentes as antecedente}\n                                {#if antecedente.categoria.id === categoria.id}\n                                  {#if antecedente.activo === true}\n                                    <!-- content here -->\n                                    <div\n                                      class=\"card m-b-20 mt-3\"\n                                      style=\"box-shadow: none; border: 1px grey solid;\"\n                                    >\n                                      <div class=\"card-header\">\n                                        <div class=\"card-title\">\n                                          <i class=\"mdi mdi-history mdi-18px\" />\n                                          <span data-bind=\"text: nombre\"\n                                            >{antecedente.nombre}</span\n                                          >\n                                        </div>\n                                      </div>\n                                      <div class=\"card-controls\">\n                                        <div class=\"dropdown\">\n                                          <a\n                                            href=\"/\"\n                                            data-toggle=\"dropdown\"\n                                            aria-haspopup=\"true\"\n                                            aria-expanded=\"false\"\n                                          >\n                                            <i\n                                              class=\"icon mdi  mdi-dots-vertical\"\n                                            />\n                                          </a>\n                                          <div\n                                            class=\"dropdown-menu dropdown-menu-right\"\n                                          >\n                                            <button\n                                              class=\"dropdown-item text-danger\"\n                                              on:click={() =>\n                                                eliminarAntecedente(\n                                                  antecedente.id\n                                                )}\n                                              type=\"button\"\n                                              ><i\n                                                class=\"mdi mdi-trash-can-outline\"\n                                              />\n                                              Eliminar</button\n                                            >\n                                          </div>\n                                        </div>\n                                      </div>\n                                      <div class=\"card-body\">\n                                        <textarea\n                                          class=\"form-control\"\n                                          bind:value={antecedente.descripcion}\n                                          on:blur={actualizarAntecedentesPaciente}\n                                          style=\"width: 100%; display: block; height: 100px;\"\n                                          id=\"exampleFormControlTextarea1\"\n                                          rows=\"5\"\n                                          name=\"Comentario\"\n                                        />\n                                      </div>\n                                    </div>\n                                  {/if}\n                                {/if}\n                              {/each}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                {/each}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!--.modal antecedentes-->\n  </section>\n</main>\n\n<style>\n  .cargando{\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(255, 255, 255, 0.9);\n    z-index: 1000;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .lista-buscador {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    background-color: white;\n    width: 100% !important;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n  }\n</style>\n",
    "<script>\n    import axios from \"axios\";\n    import { onMount } from \"svelte\";\n    import { calcularEdad, url, user } from \"../../util/index\";\n  \n    import Header from \"../../Layout/Header.svelte\";\n    import Aside from \"../../Layout/Aside.svelte\";\n    import ErrorConexion from '../../componentes/ErrorConexion.svelte';\n\n    export let params;\n\n    let errorServer = false;\n    let paciente = {};\n    let historia = {};\n    let empresa = {};\n    let estudios = [];\n    let logo = '';\n\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\n        const config = {\n            method: 'get',\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\n            responseType:\"blob\", \n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n        .then(res => {\n            logo = URL.createObjectURL(res.data)\n            console.log(logo)\n        })\n        .catch(err => {\n            console.error(err)\n        })\n    }\n\n    const cargarPaciente = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/pacientes/${params.idPaciente}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                paciente = res.data;\n                console.log(paciente)\n            })\n    }\n\n    const cargarHistoria = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/historias/${params.idHistoria}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                historia = res.data;\n                estudios = res.data.estudios;\n                console.log(historia)\n            })\n    }\n\n    const cargarEmpresa = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/empresas/${user().empresa}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                empresa = res.data;\n                cargarImagenEmpresa(empresa.id, empresa.logo)\n                console.log(empresa)\n            })\n    }\n  \n    onMount(() => {\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n        cargarPaciente()\n        cargarHistoria()\n        cargarEmpresa()\n        window.onafterprint = (event) => {\n            location.reload()\n        };\n    });\n  </script>\n  \n  <Aside />\n  \n  <main class=\"admin-main\">\n    <Header />\n    {#if errorServer}\n      <ErrorConexion msgError={'msgError'}/>\n    {/if}\n    <section class=\"admin-content \">\n        <div class=\"bg-dark m-b-30\">\n            <div class=\"container\">\n                <div class=\"row p-b-60 p-t-60\">\n\n                    <div class=\"col-md-6 text-white p-b-30\">\n                        <div class=\"media\">\n                            <div class=\"avatar avatar mr-3\">\n                                <div class=\"avatar-title bg-success rounded-circle mdi mdi-receipt  \">\n\n                                </div>\n                            </div>\n                            <div class=\"media-body\">\n                                <div class=\"opacity-75\">Para:</div>\n                                <h4 class=\"m-b-0\">{paciente.nombres} {paciente.apellidos} </h4>\n                                <p class=\"opacity-75\">\n                                    ID Consulta #{historia.id} <br>\n                                    Fecha Consulta : {new Date(historia.createdAt).toLocaleDateString('es-DO')}\n                                </p>\n                                <button class=\"btn btn-white-translucent\" id=\"printDiv\"> <i class=\"mdi\n                                mdi-printer\"></i>\n                                    Imprimir</button>\n                            </div>\n                        </div>\n\n                    </div>\n                    <!-- <div class=\"col-md-5 text-center m-b-30 ml-auto\">\n                        <div class=\"rounded text-white bg-white-translucent\">\n                            <div class=\"p-all-15\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6 my-2 m-md-0\">\n                                        <div class=\"text-overline    opacity-75\">amount received</div>\n                                        <h3 class=\"m-0 text-success\">$1500</h3>\n                                    </div>\n                                    <div class=\"col-md-6 my-2 m-md-0\">\n\n                                        <div class=\"text-overline    opacity-75\">amount pending</div>\n                                        <h3 class=\"m-0 text-danger\">$32,590</h3>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div> -->\n\n\n                </div>\n            </div>\n        </div>\n        <div class=\"pull-up\">\n            <div class=\"container\" id=\"printableArea\">\n                <div class=\"row\">\n                    <div class=\"col-md-12 m-b-40\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <img src={logo} class=\"logo\" alt=\"\">\n                                        <address class=\"m-t-10\">\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\n                                            {empresa.especialidades || ''} <br>\n                                            {empresa.direccion} <br>\n                                            Tel.: {empresa.telefono} <br>\n                                            {empresa.correo} <br>\n\n\n                                        </address>\n                                    </div>\n                                </div>\n                                <div class=\"bg-light cabecera\">\n                                    <div>Estudios de laboratorios</div>\n                                </div>\n                                <hr style=\"margin: 0\">\n                                <div class=\"col-12\">\n                                   <div class=\"row mt-3 mb-3 contenedor-estudios\">\n                                       {#each estudios as estudio}\n                                           {#if estudio.tipo === 'LAB'}\n                                               <div class=\"col-lg-3 mb-3 estudio\">\n                                                   {estudio.descripcion}\n                                               </div>\n                                           {/if}\n                                       {/each}\n                                   </div>\n                                </div>\n                                {#if historia.instrucciones}\n                                <div class=\"bg-light pie\">\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\n                                </div>\n                                {/if}\n\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n\n                                    </div>\n                                    <div class=\"col-md-6 text-right my-auto\">\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\n                                    </div>\n                                </div>\n                                <div class=\"firma\">\n                                    <hr>\n                                    <p>Firma del especialista</p>\n                                    <p><strong>{user().title}. {user().name}</strong></p>\n                                </div>\n                                <div class=\"p-t-10 p-b-20\">\n\n                                    <hr>\n                                    <div class=\"text-center opacity-75\">\n                                        © nextcom {new Date().getFullYear()}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </section>\n  </main>\n  <style>\n      .logo{\n          max-height: 150px !important;\n      }\n      .firma{\n          margin: 0 auto;\n          text-align: center;\n          width: 200px;\n          margin-top: 80px;\n      }\n      .cabecera, .pie{\n          padding: 10px;\n      }\n      .cabecera{\n          font-size: 1.1rem;\n          font-weight: bold;\n      }\n      .pie{\n          margin-bottom: 50px;\n      }\n      @media print{\n        .contenedor-estudios{\n            display: flex;\n            flex-direction: row;\n        }\n        .estudio{\n            width: 25%;\n        }\n        html, body{\n            background-color: transparent !important;\n        }\n      }\n  </style>",
    "<script>\n    import axios from \"axios\";\n    import { onMount } from \"svelte\";\n    import { calcularEdad, url, user } from \"../../util/index\";\n  \n    import Header from \"../../Layout/Header.svelte\";\n    import Aside from \"../../Layout/Aside.svelte\";\n    import ErrorConexion from '../../componentes/ErrorConexion.svelte';\n\n    export let params;\n\n    let errorServer = false;\n    let paciente = {};\n    let historia = {};\n    let empresa = {};\n    let estudios = [];\n    let logo = '';\n\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\n        const config = {\n            method: 'get',\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\n            responseType:\"blob\", \n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n        .then(res => {\n            logo = URL.createObjectURL(res.data)\n            console.log(logo)\n        })\n        .catch(err => {\n            console.error(err)\n        })\n    }\n\n    const cargarPaciente = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/pacientes/${params.idPaciente}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                paciente = res.data;\n                console.log(paciente)\n            })\n    }\n\n    const cargarHistoria = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/historias/${params.idHistoria}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                historia = res.data;\n                estudios = res.data.estudios;\n                console.log(historia)\n            })\n    }\n\n    const cargarEmpresa = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/empresas/${user().empresa}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                empresa = res.data;\n                cargarImagenEmpresa(empresa.id, empresa.logo)\n                console.log(empresa)\n            })\n    }\n  \n    onMount(() => {\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n        cargarPaciente()\n        cargarHistoria()\n        cargarEmpresa()\n        window.onafterprint = (event) => {\n            location.reload()\n        };\n    });\n  </script>\n  \n  <Aside />\n  \n  <main class=\"admin-main\">\n    <Header />\n    {#if errorServer}\n      <ErrorConexion msgError={'msgError'}/>\n    {/if}\n    <section class=\"admin-content \">\n        <div class=\"bg-dark m-b-30\">\n            <div class=\"container\">\n                <div class=\"row p-b-60 p-t-60\">\n\n                    <div class=\"col-md-6 text-white p-b-30\">\n                        <div class=\"media\">\n                            <div class=\"avatar avatar mr-3\">\n                                <div class=\"avatar-title bg-success rounded-circle mdi mdi-receipt  \">\n\n                                </div>\n                            </div>\n                            <div class=\"media-body\">\n                                <div class=\"opacity-75\">Para:</div>\n                                <h4 class=\"m-b-0\">{paciente.nombres} {paciente.apellidos} </h4>\n                                <p class=\"opacity-75\">\n                                    ID Consulta #{historia.id} <br>\n                                    Fecha Consulta : {new Date(historia.createdAt).toLocaleDateString('es-DO')}\n                                </p>\n                                <button class=\"btn btn-white-translucent\" id=\"printDiv\"> <i class=\"mdi\n                                mdi-printer\"></i>\n                                    Imprimir</button>\n                            </div>\n                        </div>\n\n                    </div>\n                    <!-- <div class=\"col-md-5 text-center m-b-30 ml-auto\">\n                        <div class=\"rounded text-white bg-white-translucent\">\n                            <div class=\"p-all-15\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6 my-2 m-md-0\">\n                                        <div class=\"text-overline    opacity-75\">amount received</div>\n                                        <h3 class=\"m-0 text-success\">$1500</h3>\n                                    </div>\n                                    <div class=\"col-md-6 my-2 m-md-0\">\n\n                                        <div class=\"text-overline    opacity-75\">amount pending</div>\n                                        <h3 class=\"m-0 text-danger\">$32,590</h3>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div> -->\n\n\n                </div>\n            </div>\n        </div>\n        <div class=\"pull-up\">\n            <div class=\"container\" id=\"printableArea\">\n                <div class=\"row\">\n                    <div class=\"col-md-12 m-b-40\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <img src={logo} class=\"logo\" alt=\"\">\n                                        <address class=\"m-t-10\">\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\n                                            {empresa.especialidades || ''} <br>\n                                            {empresa.direccion} <br>\n                                            Tel.: {empresa.telefono} <br>\n                                            {empresa.correo} <br>\n\n\n                                        </address>\n                                    </div>\n                                </div>\n                                <div class=\"bg-light cabecera\">\n                                    <div>Estudios de imagenes</div>\n                                </div>\n                                <hr style=\"margin: 0\">\n                                <div class=\"col-12\">\n                                   <div class=\"row mt-3 mb-3 contenedor-estudios\">\n                                       {#each estudios as estudio}\n                                           {#if estudio.tipo === 'IMG'}\n                                               <div class=\"col-lg-3 mb-3 estudio\">\n                                                   {estudio.descripcion}\n                                               </div>\n                                           {/if}\n                                       {/each}\n                                   </div>\n                                </div>\n                                {#if historia.instrucciones}\n                                <div class=\"bg-light pie\">\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\n                                </div>\n                                {/if}\n\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n\n                                    </div>\n                                    <div class=\"col-md-6 text-right my-auto\">\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\n                                    </div>\n                                </div>\n                                <div class=\"firma\">\n                                    <hr>\n                                    <p>Firma del especialista</p>\n                                    <p><strong>{user().title}. {user().name}</strong></p>\n                                </div>\n                                <div class=\"p-t-10 p-b-20\">\n\n                                    <hr>\n                                    <div class=\"text-center opacity-75\">\n                                        © nextcom {new Date().getFullYear()}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </section>\n  </main>\n  <style>\n    .logo{\n          max-height: 150px !important;\n      }\n      .firma{\n          margin: 0 auto;\n          text-align: center;\n          width: 200px;\n          margin-top: 80px;\n      }\n      .cabecera, .pie{\n          padding: 10px;\n      }\n      .cabecera{\n          font-size: 1.1rem;\n          font-weight: bold;\n      }\n      .pie{\n          margin-bottom: 50px;\n      }\n      @media print{\n        .contenedor-estudios{\n            display: flex;\n            flex-direction: row;\n        }\n        .estudio{\n            width: 25%;\n        }\n        html, body{\n            background-color: transparent !important;\n        }\n      }\n  </style>",
    "<script>\n    import axios from \"axios\";\n    import { onMount } from \"svelte\";\n    import { calcularEdad, url, user } from \"../../util/index\";\n  \n    import Header from \"../../Layout/Header.svelte\";\n    import Aside from \"../../Layout/Aside.svelte\";\n    import ErrorConexion from '../../componentes/ErrorConexion.svelte';\n\n    export let params;\n\n    let errorServer = false;\n    let paciente = {};\n    let historia = {};\n    let empresa = {};\n    let estudios = [];\n    let medicamentos = [];\n    let logo = '';\n\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\n        const config = {\n            method: 'get',\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\n            responseType:\"blob\", \n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n        .then(res => {\n            logo = URL.createObjectURL(res.data)\n            console.log(logo)\n        })\n        .catch(err => {\n            console.error(err)\n        })\n    }\n\n    const cargarPaciente = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/pacientes/${params.idPaciente}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                paciente = res.data;\n                console.log(paciente)\n            })\n    }\n\n    const cargarHistoria = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/historias/${params.idHistoria}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                historia = res.data;\n                estudios = res.data.estudios;\n                medicamentos = res.data.medicamentos\n                console.log(historia)\n            })\n    }\n\n    const cargarEmpresa = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/empresas/${user().empresa}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                empresa = res.data;\n                cargarImagenEmpresa(empresa.id, empresa.logo)\n                console.log(empresa)\n            })\n    }\n  \n    onMount(() => {\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n        cargarPaciente()\n        cargarHistoria()\n        cargarEmpresa()\n        window.onafterprint = (event) => {\n            location.reload()\n        };\n    });\n  </script>\n  \n  <Aside />\n  \n  <main class=\"admin-main\">\n    <Header />\n    {#if errorServer}\n      <ErrorConexion msgError={'msgError'}/>\n    {/if}\n    <section class=\"admin-content \">\n        <div class=\"bg-dark m-b-30\">\n            <div class=\"container\">\n                <div class=\"row p-b-60 p-t-60\">\n\n                    <div class=\"col-md-6 text-white p-b-30\">\n                        <div class=\"media\">\n                            <div class=\"avatar avatar mr-3\">\n                                <div class=\"avatar-title bg-success rounded-circle mdi mdi-receipt  \">\n\n                                </div>\n                            </div>\n                            <div class=\"media-body\">\n                                <div class=\"opacity-75\">Para:</div>\n                                <h4 class=\"m-b-0\">{paciente.nombres} {paciente.apellidos} </h4>\n                                <p class=\"opacity-75\">\n                                    ID Consulta #{historia.id} <br>\n                                    Fecha Consulta : {new Date(historia.createdAt).toLocaleDateString('es-DO')}\n                                </p>\n                                <button class=\"btn btn-white-translucent\" id=\"printDiv\"> <i class=\"mdi\n                                mdi-printer\"></i>\n                                    Imprimir</button>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"pull-up\">\n            <div class=\"container\" id=\"printableArea\">\n                <div class=\"row\">\n                    <div class=\"col-md-12 m-b-40\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <img src={logo} class=\"logo\" alt=\"\">\n                                        <address class=\"m-t-10\">\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\n                                            {empresa.especialidades || ''} <br>\n                                            {empresa.direccion} <br>\n                                            Tel.: {empresa.telefono} <br>\n                                            {empresa.correo} <br>\n\n\n                                        </address>\n                                    </div>\n                                </div>\n                                <div class=\"bg-light cabecera\">\n                                    <div>Estudios de laboratorios</div>\n                                </div>\n                                <hr style=\"margin: 0\">\n                                <div class=\"col-12\">\n                                   <div class=\"row mt-3 mb-3 contenedor-estudios\">\n                                       {#each estudios as estudio}\n                                           {#if estudio.tipo === 'LAB'}\n                                               <div class=\"col-lg-3 mb-3 estudio\">\n                                                   {estudio.descripcion}\n                                               </div>\n                                           {/if}\n                                       {/each}\n                                   </div>\n                                </div>\n                                {#if historia.instrucciones}\n                                <div class=\"bg-light pie\">\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\n                                </div>\n                                {/if}\n\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n\n                                    </div>\n                                    <div class=\"col-md-6 text-right my-auto\">\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\n                                    </div>\n                                </div>\n                                <div class=\"firma\">\n                                    <hr>\n                                    <p>Firma del especialista</p>\n                                    <p><strong>{user().title}. {user().name}</strong></p>\n                                </div>\n                                <div class=\"p-t-10 p-b-20\">\n\n                                    <hr>\n                                    <div class=\"text-center opacity-75\">\n                                        © nextcom {new Date().getFullYear()}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"saltopagina\"></div>\n\n                <div class=\"row\">\n                    <div class=\"col-md-12 m-b-40\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <img src={logo} class=\"logo\" alt=\"\">\n                                        <address class=\"m-t-10\">\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\n                                            {empresa.especialidades || ''} <br>\n                                            {empresa.direccion} <br>\n                                            Tel.: {empresa.telefono} <br>\n                                            {empresa.correo} <br>\n\n\n                                        </address>\n                                    </div>\n                                </div>\n                                <div class=\"bg-light cabecera\">\n                                    <div>Estudios de imagenes</div>\n                                </div>\n                                <hr style=\"margin: 0\">\n                                <div class=\"col-12\">\n                                   <div class=\"row mt-3 mb-3 contenedor-estudios\">\n                                       {#each estudios as estudio}\n                                           {#if estudio.tipo === 'IMG'}\n                                               <div class=\"col-lg-3 mb-3 estudio\">\n                                                   {estudio.descripcion}\n                                               </div>\n                                           {/if}\n                                       {/each}\n                                   </div>\n                                </div>\n                                {#if historia.instrucciones}\n                                <div class=\"bg-light pie\">\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\n                                </div>\n                                {/if}\n\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n\n                                    </div>\n                                    <div class=\"col-md-6 text-right my-auto\">\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\n                                    </div>\n                                </div>\n                                <div class=\"firma\">\n                                    <hr>\n                                    <p>Firma del especialista</p>\n                                    <p><strong>{user().title}. {user().name}</strong></p>\n                                </div>\n                                <div class=\"p-t-10 p-b-20\">\n\n                                    <hr>\n                                    <div class=\"text-center opacity-75\">\n                                        © nextcom {new Date().getFullYear()}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"saltopagina\"></div>\n\n                <div class=\"row\">\n                    <div class=\"col-md-12 m-b-40\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <img src={logo} class=\"logo\" alt=\"\">\n                                        <address class=\"m-t-10\">\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\n                                            {empresa.especialidades || ''} <br>\n                                            {empresa.direccion} <br>\n                                            Tel.: {empresa.telefono} <br>\n                                            {empresa.correo} <br>\n\n\n                                        </address>\n                                    </div>\n                                </div>\n                                <div class=\"bg-light cabecera\">\n                                    <div>Receta</div>\n                                </div>\n                                <hr style=\"margin: 0\">\n                                <div class=\"table-responsive \">\n                                    <table class=\"table m-t-50\">\n                                        <thead>\n                                        <tr>\n                                            <th class=\"\">Medicamento</th>\n                                            <th class=\"text-center\">Cantidad</th>\n                                            <th class=\"text-center\">Frecuencia</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        {#each medicamentos as medicamento}\n                                            <tr>\n                                                <td class=\"\">\n                                                    <p class=\"text-black m-0\">{medicamento.nombre}</p>\n                                                    <p class=\"text-muted\" style=\"padding-bottom: 0; margin-bottom: 0;\">\n                                                        De {medicamento.concentracion}\n                                                    </p>\n                                                </td>\n                                                <td class=\"text-center\">{medicamento.cantidad}</td>\n                                                <td class=\"text-center\">{medicamento.frecuencia}</td>\n                                            </tr>\n                                        {/each}\n                                        </tbody>\n                                    </table>\n                                </div>\n                                {#if historia.instrucciones}\n                                <div class=\"bg-light pie\">\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\n                                </div>\n                                {/if}\n\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n\n                                    </div>\n                                    <div class=\"col-md-6 text-right my-auto\">\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\n                                    </div>\n                                </div>\n                                <div class=\"firma\">\n                                    <hr>\n                                    <p>Firma del especialista</p>\n                                    <p><strong>{user().title}. {user().name}</strong></p>\n                                </div>\n                                <div class=\"p-t-10 p-b-20\">\n\n                                    <hr>\n                                    <div class=\"text-center opacity-75\">\n                                        © nextcom {new Date().getFullYear()}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n\n        </div>\n    </section>\n\n    \n  </main>\n  <style>\n@media all {\n    div.saltopagina{\n        display: none;\n    }\n}\n        \n@media print{\n    div.saltopagina{\n        display:block;\n        page-break-before:always;\n    }\n}\n.logo{\n    max-height: 150px !important;\n}\n.firma{\n    margin: 0 auto;\n    text-align: center;\n    width: 200px;\n    margin-top: 80px;\n}\n.cabecera, .pie{\n    padding: 10px;\n}\n.cabecera{\n    font-size: 1.1rem;\n    font-weight: bold;\n}\n.pie{\n    margin-bottom: 50px;\n}\n@media print{\n  .contenedor-estudios{\n      display: flex;\n      flex-direction: row;\n  }\n  .estudio{\n      width: 25%;\n  }\n  html, body{\n      background-color: transparent !important;\n  }\n}\n  </style>",
    "<script>\n    import axios from \"axios\";\n    import { onMount } from \"svelte\";\n    import { calcularEdad, url, user } from \"../../util/index\";\n  \n    import Header from \"../../Layout/Header.svelte\";\n    import Aside from \"../../Layout/Aside.svelte\";\n    import ErrorConexion from '../../componentes/ErrorConexion.svelte';\n\n    export let params;\n\n    let errorServer = false;\n    let paciente = {};\n    let historia = {};\n    let empresa = {};\n    let medicamentos = [];\n    let logo = '';\n\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\n        const config = {\n            method: 'get',\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\n            responseType:\"blob\", \n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n        .then(res => {\n            logo = URL.createObjectURL(res.data)\n            console.log(logo)\n        })\n        .catch(err => {\n            console.error(err)\n        })\n    }\n\n    const cargarPaciente = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/pacientes/${params.idPaciente}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                paciente = res.data;\n                console.log(paciente)\n            })\n    }\n\n    const cargarHistoria = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/historias/${params.idHistoria}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                historia = res.data;\n                medicamentos = res.data.medicamentos;\n                console.log(historia)\n            })\n    }\n\n    const cargarEmpresa = () => {\n        const config = {\n            method: 'get',\n            url: `${url}/empresas/${user().empresa}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        }\n        axios(config)\n            .then(res => {\n                empresa = res.data;\n                cargarImagenEmpresa(empresa.id, empresa.logo)\n                console.log(empresa)\n            })\n    }\n  \n    onMount(() => {\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n        cargarPaciente()\n        cargarHistoria()\n        cargarEmpresa()\n        window.onafterprint = (event) => {\n            location.reload()\n        };\n    });\n  </script>\n  \n  <Aside />\n  \n  <main class=\"admin-main\">\n    <Header />\n    {#if errorServer}\n      <ErrorConexion msgError={'msgError'}/>\n    {/if}\n    <section class=\"admin-content \">\n        <div class=\"bg-dark m-b-30\">\n            <div class=\"container\">\n                <div class=\"row p-b-60 p-t-60\">\n\n                    <div class=\"col-md-6 text-white p-b-30\">\n                        <div class=\"media\">\n                            <div class=\"avatar avatar mr-3\">\n                                <div class=\"avatar-title bg-success rounded-circle mdi mdi-receipt  \">\n\n                                </div>\n                            </div>\n                            <div class=\"media-body\">\n                                <div class=\"opacity-75\">Para:</div>\n                                <h4 class=\"m-b-0\">{paciente.nombres} {paciente.apellidos} </h4>\n                                <p class=\"opacity-75\">\n                                    ID Consulta #{historia.id} <br>\n                                    Fecha Consulta : {new Date(historia.createdAt).toLocaleDateString('es-DO')}\n                                </p>\n                                <button class=\"btn btn-white-translucent\" id=\"printDiv\"> <i class=\"mdi\n                                mdi-printer\"></i>\n                                    Imprimir</button>\n                            </div>\n                        </div>\n\n                    </div>\n                    <!-- <div class=\"col-md-5 text-center m-b-30 ml-auto\">\n                        <div class=\"rounded text-white bg-white-translucent\">\n                            <div class=\"p-all-15\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6 my-2 m-md-0\">\n                                        <div class=\"text-overline    opacity-75\">amount received</div>\n                                        <h3 class=\"m-0 text-success\">$1500</h3>\n                                    </div>\n                                    <div class=\"col-md-6 my-2 m-md-0\">\n\n                                        <div class=\"text-overline    opacity-75\">amount pending</div>\n                                        <h3 class=\"m-0 text-danger\">$32,590</h3>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div> -->\n\n\n                </div>\n            </div>\n        </div>\n        <div class=\"pull-up\">\n            <div class=\"container\" id=\"printableArea\">\n                <div class=\"row\">\n                    <div class=\"col-md-12 m-b-40\">\n                        <div class=\"card\">\n                            <div class=\"card-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <img src={logo} class=\"logo\" alt=\"\">\n                                        <address class=\"m-t-10\">\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\n                                            {empresa.especialidades || ''} <br>\n                                            {empresa.direccion} <br>\n                                            Tel.: {empresa.telefono} <br>\n                                            {empresa.correo} <br>\n\n\n                                        </address>\n                                    </div>\n                                </div>\n\n                                <div class=\"table-responsive \">\n                                    <table class=\"table m-t-50\">\n                                        <thead>\n                                        <tr>\n                                            <th class=\"\">Medicamento</th>\n                                            <th class=\"text-center\">Cantidad</th>\n                                            <th class=\"text-center\">Frecuencia</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        {#each medicamentos as medicamento}\n                                            <tr>\n                                                <td class=\"\">\n                                                    <p class=\"text-black m-0\">{medicamento.nombre}</p>\n                                                    <p class=\"text-muted\" style=\"padding-bottom: 0; margin-bottom: 0;\">\n                                                        De {medicamento.concentracion}\n                                                    </p>\n                                                </td>\n                                                <td class=\"text-center\">{medicamento.cantidad}</td>\n                                                <td class=\"text-center\">{medicamento.frecuencia}</td>\n                                            </tr>\n                                        {/each}\n                                        </tbody>\n                                    </table>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n\n                                    </div>\n                                    <div class=\"col-md-6 text-right my-auto\">\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\n                                    </div>\n                                </div>\n                                <div class=\"firma\">\n                                    <hr>\n                                    <p>Firma del especialista</p>\n                                    <p><strong>{user().title}. {user().name}</strong></p>\n                                </div>\n                                <div class=\"p-t-10 p-b-20\">\n\n                                    <hr>\n                                    <div class=\"text-center opacity-75\">\n                                        © nextcom {new Date().getFullYear()}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </section>\n  </main>\n  <style>\n    .logo{\n          max-height: 150px !important;\n      }\n      .firma{\n          margin: 0 auto;\n          text-align: center;\n          width: 200px;\n          margin-top: 80px;\n      }\n      td{\n          padding: 10px;\n      }\n  </style>",
    "<div class=\"lds-ripple\">\n    <div />\n    <div />\n</div>\n\n<style>\n    .lds-ripple {\n        display: inline-block;\n        position: relative;\n        width: 80px;\n        height: 80px;\n    }\n    .lds-ripple div {\n        position: absolute;\n        border: 4px solid #212841;\n        opacity: 1;\n        border-radius: 50%;\n        animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n    }\n    .lds-ripple div:nth-child(2) {\n        animation-delay: -0.5s;\n    }\n    @keyframes lds-ripple {\n        0% {\n            top: 36px;\n            left: 36px;\n            width: 0;\n            height: 0;\n            opacity: 1;\n        }\n        100% {\n            top: 0px;\n            left: 0px;\n            width: 72px;\n            height: 72px;\n            opacity: 0;\n        }\n    }\n</style>\n",
    "<script>\n    import axios from \"axios\";\n    import { onMount } from \"svelte\";\n    import { url } from \"../../util\";\n\n    import Loading from '../../componentes/Loading.svelte';\n\n    let fechaMinima = new Date().toISOString().split(\"T\")[0];\n    export let pacienteSeleccionado;\n\n    let tandas = [];\n    let citas = [];\n    let fechaCita = \"\";\n    let tandaCita = \"\";\n    let msgError = \"\";\n    let observaciones = \"\";\n    let meses = {\n        0: \"Enero\",\n        1: \"Febrero\",\n        2: \"Marzo\",\n        3: \"Abril\",\n        4: \"Mayo\",\n        5: \"Junio\",\n        6: \"Julio\",\n        7: \"Agosto\",\n        8: \"Septiembre\",\n        9: \"Octubre\",\n        10: \"Noviembre\",\n        11: \"Diciembre\",\n    };\n    let cargando = false;\n    let tiempoCita = '';\n\n    $: if (pacienteSeleccionado) {\n        cargarCitasPorPaciente();\n    }\n\n    $: if(tiempoCita === 'S') {\n        let fecha = new Date();\n        fecha.setDate(fecha.getDate()+7);\n        fechaCita = fecha.toISOString().split('T')[0]\n    } else if(tiempoCita === 'D'){\n        let fecha = new Date();\n        fecha.setDate(fecha.getDate()+15);\n        fechaCita = fecha.toISOString().split('T')[0]\n    } else if(tiempoCita === 'M'){\n        let fecha = new Date();\n        fecha.setMonth(fecha.getMonth()+1);\n        fechaCita = fecha.toISOString().split('T')[0]\n    } else if(tiempoCita === 'T'){\n        let fecha = new Date();\n        fecha.setMonth(fecha.getMonth()+6);\n        fechaCita = fecha.toISOString().split('T')[0]\n    } else if(tiempoCita === 'A'){\n        let fecha = new Date();\n        fecha.setFullYear(fecha.getFullYear()+1);\n        fechaCita = fecha.toISOString().split('T')[0]\n    }\n\n    const cargarCitasPorPaciente = () => {\n        const config = {\n            method: \"get\",\n            url: `${url}/citas/paciente/${pacienteSeleccionado.id}`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        axios(config)\n            .then((res) => {\n                citas = res.data;\n                console.log(res.data);\n            })\n            .catch((err) => {\n                console.error(err);\n            });\n    };\n\n    const cargarTandas = () => {\n        const config = {\n            method: \"get\",\n            url: `${url}/tandas`,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        axios(config)\n            .then((res) => {\n                tandas = res.data;\n                console.log(res.data);\n            })\n            .catch((err) => {\n                console.error(err);\n            });\n    };\n\n    const crearCita = () => {\n        cargando = true;\n        msgError = \"\";\n        const data = {\n            fechaCita,\n            tanda: tandaCita,\n            observaciones,\n            paciente: pacienteSeleccionado,\n        };\n        const config = {\n            method: \"post\",\n            url: `${url}/citas`,\n            data,\n            headers: {\n                Authorization: `${localStorage.getItem(\"auth\")}`,\n            },\n        };\n        if (!fechaCita || !tandaCita || !observaciones) {\n            return (msgError = \"Algunos campos estan vacios\");\n        }\n        axios(config)\n            .then((res) => {\n                cargando = false;\n                if (res.status === 200) {\n                    console.log(res.data);\n                    fechaCita = \"\";\n                    tandaCita = \"\";\n                    observaciones = \"\";\n                    cargarCitasPorPaciente()\n                }\n            })\n            .catch((err) => {\n                fechaCita = \"\";\n                tandaCita = \"\";\n                observaciones = \"\";\n                tiempoCita = \"\";\n                cargando = false;\n                if(err){\n                    msgError = \"Ocurrio un error al registrar la cita, intentalo de nuevo mas tarde o comunicate con el administrador\"\n                }\n                \n                if(err.response.data !== undefined) {\n                    if (err.response.data.err === 900) {\n                        msgError = \"No hay horarios disponibles para este consultorio\";\n                    }\n                    if (err.response.data.err === 800) {\n                        msgError = \"No hay cupos disponibles\";\n                    }\n                }\n\n            });\n    };\n    onMount(() => {\n        console.log(fechaMinima);\n        cargarTandas();\n    });\n</script>\n\n<form class=\"col-md-12\" on:submit|preventDefault={() => crearCita()}>\n    <div\n        class=\"modal fade modal-slide-right\"\n        id=\"modalNuevaCita\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"modalInterconsulta\"\n        style=\"display: none; padding-right: 16px;\"\n        aria-modal=\"true\"\n    >\n        <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"modalInterconsulta\">\n                        {pacienteSeleccionado.nombres} {pacienteSeleccionado.apellidos} \n                        <span class=\"badge bg-primary text-white\">Citas</span>\n                    </h5>\n                    <button\n                        type=\"button\"\n                        class=\"close\"\n                        data-dismiss=\"modal\"\n                        aria-label=\"Close\"\n                    >\n                        <span aria-hidden=\"true\">×</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    {#if cargando}\n                        <div class=\"cargando\">\n                            <Loading/>\n                        </div>\n                    {/if}\n                    <div class=\"form-row\">\n                        <div class=\"form-group col-md-12\">\n                            <label for=\"\" class=\"text-primary\">Proxima cita</label>\n                            <select\n                                class=\"form-control\"\n                                bind:value={tiempoCita}\n                            >\n                                <option value=\"\">\n                                    - seleccionar tiempo -\n                                </option>\n                                <option value=\"S\">En una semana</option>\n                                <option value=\"D\">En 15 dias</option>\n                                <option value=\"M\">En un mes</option>\n                                <option value=\"T\">En 6 meses</option>\n                                <option value=\"A\">En un año</option>\n                            </select>\n                        </div>\n                        <div class=\"form-group col-md-12\">\n                            <label for=\"\" class=\"text-primary\"\n                                >Fecha de la cita</label\n                            >\n                            <input\n                                type=\"date\"\n                                class=\"form-control\"\n                                bind:value={fechaCita}\n                                min={fechaMinima}\n                                required\n                            />\n                        </div>\n                        <div class=\"form-group col-md-12\">\n                            <label for=\"\" class=\"text-primary\">Tanda</label>\n                            <select\n                                class=\"form-control\"\n                                required\n                                bind:value={tandaCita}\n                            >\n                                <option value=\"\">\n                                    - seleccionar tanda -\n                                </option>\n                                {#each tandas as tanda}\n                                    <option value={tanda.id}\n                                        >{tanda.descripcion}</option\n                                    >\n                                {/each}\n                            </select>\n                        </div>\n                        <div class=\"form-group col-md-12\">\n                            <label for=\"\" class=\"text-primary\"\n                                >Observaciones</label\n                            >\n                            <textarea\n                                class=\"form-control\"\n                                rows=\"3\"\n                                bind:value={observaciones}\n                            />\n                        </div>\n                    </div>\n\n                    {#if msgError}\n                        <div class=\"alert alert-danger\" role=\"alert\">\n                            {msgError}\n                        </div>\n                    {/if}\n                    <br />\n\n                    {#each citas as cita}\n                        <div\n                            class=\"alert alert-dismissible fade show\"\n                            role=\"alert\"\n                            class:alert-border-success={cita.estado === \"R\"}\n                            class:alert-border-danger={cita.estado === \"X\"}\n                            class:alert-border-info={cita.estado === \"N\"}\n                        >\n                            <div class=\"d-flex\">\n                                <div class=\"icon\">\n                                    {#if cita.estado === \"R\"}\n                                        <i\n                                            class=\"icon mdi mdi-check-circle-outline\"\n                                        />\n                                    {/if}\n                                    {#if cita.estado === \"X\"}\n                                        <i\n                                            class=\"icon mdi mdi-alert-octagram\"\n                                        />\n                                    {/if}\n                                    {#if cita.estado === \"N\"}\n                                        <i\n                                            class=\"icon mdi mdi-alert-circle-outline\"\n                                        />\n                                    {/if}\n                                </div>\n                                <div class=\"content\">\n                                    <div class=\"calendar\">\n                                        <div class=\"fecha\">\n                                            <span\n                                                >{new Date(\n                                                    cita.fechaCita\n                                                ).getDate() + 1}</span\n                                            >\n                                            <span\n                                                >{meses[\n                                                    new Date(\n                                                        cita.fechaCita\n                                                    ).getMonth()\n                                                ]}</span\n                                            >\n                                            <span\n                                                >{new Date(\n                                                    cita.fechaCita\n                                                ).getFullYear()}</span\n                                            >\n                                        </div>\n                                        <div class=\"observaciones\">\n                                            {cita.observaciones}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    {/each}\n                </div>\n                <div class=\"modal-footer\">\n                    <div class=\"row text-center p-b-10\">\n                        <div class=\"col\">\n                            <a\n                                href=\"/\"\n                                class=\"text-danger\"\n                                data-dismiss=\"modal\"\n                            >\n                                <!-- svelte-ignore a11y-missing-content -->\n                                <h3 class=\"mdi mdi-close-outline\" />\n                                <div class=\"text-overline\">Cerrar</div>\n                            </a>\n                        </div>\n                        <div class=\"col\">\n                            <button\n                                class=\"text-success\"\n                                style=\"border: none; background-color: transparent;\"\n                            >\n                                <!-- svelte-ignore a11y-missing-content -->\n                                <h3 class=\"mdi mdi-send\" />\n                                <div class=\"text-overline\">Crear</div>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>\n\n<style>\n    .calendar {\n        display: flex;\n        flex-direction: row;\n    }\n    .calendar .fecha {\n        display: flex;\n        flex-direction: column;\n    }\n    .calendar .fecha span:first-child {\n        font-weight: bold;\n        font-size: 2.5rem;\n        margin-bottom: 0;\n        padding-bottom: 0;\n        margin-top: -10px;\n    }\n\n    .calendar .fecha span:nth-child(2) {\n        margin-top: -10px;\n        text-transform: uppercase;\n        font-size: 0.7rem;\n    }\n\n    .calendar .fecha span:last-child {\n        letter-spacing: 3px;\n    }\n\n    .calendar .observaciones {\n        padding: 10px;\n        padding-top: 0;\n        padding-left: 15px;\n    }\n</style>\n",
    "<div class=\"cargando\">\n    <img class=\"imagen-error\" src=\"./assets/img/error.svg\" alt=\"\">\n    <h3>Ocurrió un error al comunicarnos con el servidor</h3>\n    <p>Si el problema persiste, contacte al administrador. Disculpe los inconvenientes</p>\n    <button\n        class=\"btn btn-outline-primary\"\n        on:click={()=>location.reload()}\n    >\n        <i class=\"mdi mdi-refresh\"></i> Recargar\n    </button>\n</div>\n<style>\n    .cargando{\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        z-index: 10000;\n    }\n    .imagen-error{\n        width: 200px;\n    }\n    h3{\n        color: #e5646e;\n        text-align: center;\n    }\n    p{\n        width: 400px;\n        text-align: center;\n    }\n</style>",
    "<script>\n    import { createEventDispatcher } from \"svelte\";\n    import { link } from 'svelte-spa-router';\n    let dispatch = createEventDispatcher();\n\n    export let instrucciones;\n    export let medicamentos;\n    export let sltBuscarMedicamentos;\n    export let sltBuscarEstudios;\n    export let medicamentosSeleccionados;\n    export let estudios;\n    export let estudiosSeleccionados;\n    export let idHistoria;\n    export let idPaciente;\n    export let disabled;\n\n</script>\n\n<div class=\"alert alert-secondary\" role=\"alert\">\n    <h4 class=\"alert-heading\">Receta</h4>\n    <a\n        href={`/pacientes/${idPaciente}/historias/${idHistoria}/imprimir/estudios`}\n        use:link\n        class=\"btn btn-outline-primary btn-sm btn-receta\"\n    > <i class=\"mdi mdi-printer\"></i> \n        Imprimir todas las recetas\n    </a>\n    <div class=\"card m-b-20 mt-3\">\n        <div class=\"card-header\">\n            <div class=\"card-title\">Medicamentos</div>\n            <div class=\"card-controls\">\n                <a\n                    href={`/impresion/pacientes/${idPaciente}/historias/${idHistoria}/medicamentos`}\n                    use:link class=\"btn btn-outline-primary btn-sm\"\n                    data-tooltip=\"Imprimir\"\n                >\n                    <i class=\"mdi mdi-printer\"></i>\n                </a>\n            </div>\n        </div>\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-md-12 mb-2\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-6\">\n                            <div class=\"dropdown\">\n                                <input\n                                    {disabled}\n                                    type=\"text\"\n                                    class=\"form-control\"\n                                    data-toggle=\"dropdown\"\n                                    aria-haspopup=\"true\"\n                                    aria-expanded=\"true\"\n                                    placeholder=\"Buscar medicamentos\"\n                                    bind:value={sltBuscarMedicamentos}\n                                    on:input={() => dispatch(\"buscarMedicamentos\")}\n                                />\n                                <ul\n                                    class=\"lista-buscador dropdown-menu\"\n                                    id=\"buscador\"\n                                    x-placement=\"top-start\"\n                                    style=\"position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, -128px, 0px); border-radius: 5px;\"\n                                >\n                                    <div class=\"contenidoLista\">\n                                        {#each medicamentos as medicamento}\n                                            <li>\n                                                <div\n                                                    class=\"p-2\"\n                                                    style=\"cursor: pointer;\"\n                                                    on:click={() => dispatch(\"agregarMedicamento\",medicamento.descripcion)}\n                                                >\n                                                    {medicamento.descripcion}\n                                                </div>\n                                            </li>\n                                        {/each}\n                                    </div>\n                                    <li class=\"defecto\">\n                                        <a href=\"#!\"\n                                        on:click|preventDefault={() => dispatch(\"agregarMedicamento\",sltBuscarMedicamentos)}\n                                            ><i\n                                                class=\"mdi mdi-plus\"\n                                            />Agregar manualmente</a\n                                        >\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-12\">\n                            {#each medicamentosSeleccionados as med, i}\n                                 <!-- content here -->\n                                 <div\n                                     class=\"col-lg-12 border border-primary rounded mt-3\"\n                                 >\n                                     <div class=\"row\">\n                                         <div\n                                             class=\"col p-3\"\n                                             style=\"display: flex; align-items: center; justify-content: left;\"\n                                         >\n                                             <p\n                                                 class=\"text-primary\"\n                                                 style=\"margin: 0;\"\n                                             >\n                                                 {med.nombre}\n                                             </p>\n                                         </div>\n                                         <div class=\"col mt-2\">\n                                             <div class=\"mb-2\">\n                                                 <!-- svelte-ignore a11y-label-has-associated-control -->\n                                                 <label\n                                                     style=\"margin: 0;\"\n                                                     class=\"form-label text-primary\"\n                                                     >Concentraci&oacute;n</label\n                                                 >\n                                                 <input\n                                                    {disabled}\n                                                     type=\"text\"\n                                                     class=\"form-control\"\n                                                     on:blur={() => dispatch(\"modificado\")}\n                                                     bind:value={med.concentracion}\n                                                 />\n                                             </div>\n                                         </div>\n                                         <div class=\"col mt-2\">\n                                             <div class=\"mb-2\">\n                                                 <!-- svelte-ignore a11y-label-has-associated-control -->\n                                                 <label\n                                                     style=\"margin: 0;\"\n                                                     class=\"form-label text-primary\"\n                                                     >Cantidad</label\n                                                 >\n                                                 <input\n                                                    {disabled}\n                                                     type=\"text\"\n                                                     class=\"form-control\"\n                                                     on:blur={() => dispatch(\"modificado\")}\n                                                     bind:value={med.cantidad}\n                                                 />\n                                             </div>\n                                         </div>\n                                         <div class=\"col mt-2\">\n                                             <div class=\"mb-2\">\n                                                 <!-- svelte-ignore a11y-label-has-associated-control -->\n                                                 <label\n                                                     style=\"margin: 0;\"\n                                                     class=\"form-label text-primary\"\n                                                     >Frecuencia</label\n                                                 >\n                                                 <input\n                                                    {disabled}\n                                                    type=\"text\"\n                                                    class=\"form-control\"\n                                                    on:blur={() => dispatch(\"modificado\")}\n                                                    bind:value={med.frecuencia}\n                                                 />\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"icon-borrar\" data-tooltip=\"Eliminar\">\n                                            <i class=\"mdi mdi-close text-red\" on:click={() => dispatch(\"eliminarMedicamento\",i)}></i>\n                                        </div>\n                                 </div>\n                                 {:else}\n                                 <div class=\"row\">\n                                    <div class=\"col-md-12 mt-3\">\n                                        <div class=\"alert border alert-light\" role=\"alert\">\n                                            <p class=\"alert-body text-center mt-3\">\n                                                No tienes medicamentos agregados\n                                            </p>\n                                        </div>\n                                        <ul class=\"list-info\" data-bind=\"foreach: estudios\" />\n                                    </div>\n                                 </div>\n                            {/each}\n\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"card m-b-20\">\n        <div class=\"card-header\">\n            <div class=\"card-title\">Estudios</div>\n            <div class=\"card-controls\">\n                <a\n                    href={`/impresion/pacientes/${idPaciente}/historias/${idHistoria}/estudios/laboratorios`}\n                    use:link class=\"btn btn-outline-primary btn-sm\"\n                    data-tooltip=\"Imprimir\"\n                >\n                    <i class=\"mdi mdi-printer\"></i> Laboratorios\n                </a>\n                <a\n                    href={`/impresion/pacientes/${idPaciente}/historias/${idHistoria}/estudios/imagenes`}\n                    use:link class=\"btn btn-outline-primary btn-sm\"\n                    data-tooltip=\"Imprimir\"\n                >\n                    <i class=\"mdi mdi-printer\"></i> Imagenes\n                </a>\n            </div>\n        </div>\n\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-12 row\">\n                        <div class=\"col-lg-6 col-md-12\">\n                            <div\n                                class=\"form-group buscardor dropdown dropdown-vnc\"\n                            >\n                                <input\n                                    {disabled}\n                                    type=\"text\"\n                                    class=\"form-control\"\n                                    bind:value={sltBuscarEstudios}\n                                    on:input={() => dispatch(\"buscandoEstudios\")}\n                                    data-toggle=\"dropdown\"\n                                    aria-haspopup=\"true\"\n                                    aria-expanded=\"false\"\n                                    placeholder=\"Buscar estudios\"\n                                />\n                                <ul\n                                    class=\"lista-buscador dropdown-menu\"\n                                    id=\"buscador\"\n                                    x-placement=\"bottom-start\"\n                                    style=\"position: absolute; will-change: transform; border-radius: 5px; top: 0px; left: 0px; transform: translate3d(0px, 36px, 0px);\"\n                                >\n                                    <div\n                                        class=\"contenidoLista\"\n                                        data-bind=\"foreach: listado\"\n                                    >\n                                    {#each estudios as estudio}\n                                        <li \n                                            on:click={() => dispatch(\"agregarEstudio\",{id: estudio.id, descripcion: estudio.descripcion, tipo: estudio.tipo})}>\n                                            <div\n                                                class=\"p-2\"\n                                                style=\"cursor: pointer;\"\n                                            >\n                                            {#if estudio.tipo === 'LAB'}\n                                                <span class=\"badge badge-primary\">\n                                                    <i class=\"mdi mdi-microscope\"></i>\n                                                </span>\n                                                {:else}\n                                                <span class=\"badge badge-primary\">\n                                                    <i class=\"mdi mdi-image\"></i>\n                                                </span>\n                                            {/if}   \n                                            {estudio.descripcion}\n                                            </div>\n                                        </li>\n                                    {/each}\n                                    </div>\n                                    <li class=\"defecto\">\n                                        <a\n                                            href=\"/\"\n                                            data-bind=\"click: agregarManualmente\"\n                                            ><i class=\"mdi mdi-plus\" /> Agregar manualmente</a\n                                        >\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                </div>\n\n                <div class=\"col-12\">\n                    <ul class=\"list-info\">\n                        {#each estudiosSeleccionados.reverse() as item, i}\n                            <li>\n                                {#if item.tipo === 'LAB'}\n                                        <span class=\"badge badge-primary\"\n                                            ><i class=\"mdi mdi-microscope\"></i></span\n                                        >\n                                     {:else}\n                                     <span class=\"badge badge-primary\"\n                                         ><i class=\"mdi mdi-image\"></i></span\n                                     >\n                                {/if}\n                                &nbsp;<span>{item.descripcion}</span>\n                                <div\n                                    style=\"position: absolute; top: 0; right: 0;padding: 10px; background-color: white; border-bottom-left-radius: 5px;\"\n                                >\n                                    <!-- <a\n                                        href=\"#!\"\n                                        class=\"text-primary\"\n                                        title=\"Agregar comentarios\"\n                                        ><i\n                                            class=\"mdi-18px mdi mdi-comment-plus-outline\"\n                                        /></a\n                                    > -->\n                                    <a\n                                        href=\"#!\"\n                                        on:click|preventDefault={() => dispatch(\"eliminarEstudio\", i)}\n                                        class=\"text-danger\"\n                                        data-toggle=\"tooltip\"\n                                        data-placement=\"top\"\n                                        data-original-title=\"Eliminar diagnostico\"\n                                        ><i\n                                            class=\"mdi-18px mdi mdi-trash-can-outline\"\n                                        /></a\n                                    >\n                                </div>\n                            </li>\n                        {/each}\n                        {#if estudiosSeleccionados.length === 0}\n                            <div class=\"row\">\n                                <div class=\"col-md-12\">\n                                    <div\n                                        class=\"alert border alert-light\"\n                                        role=\"alert\"\n                                    >\n                                        <p\n                                            class=\"alert-body text-center mt-3\"\n                                        >\n                                            No tienes agregado ningún\n                                            estudio\n                                        </p>\n                                    </div>\n                                    <ul\n                                        class=\"list-info\"\n                                        data-bind=\"foreach: estudios\"\n                                    />\n                                </div>\n                            </div>\n                        {/if}\n                    </ul>\n                </div>\n\n            </div>\n        </div>\n    </div>\n\n    <div class=\"card m-b-20\">\n        <div class=\"card-header\">\n            <div class=\"card-title\">Instrucciones</div>\n        </div>\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <textarea\n                        {disabled}\n                        bind:value={instrucciones}\n                        on:blur={() => dispatch(\"modificado\")}\n                        class=\"form-control\"\n                        style=\"width: 100%;\"\n                        rows=\"5\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<style>\n    .btn-receta{\n        position: absolute;\n        right: 20px;\n        top: 15px;\n    }\n    .icon-borrar{\n        position: absolute;\n        right: 3px;\n        top: 3px;\n    }\n    .icon-borrar i {\n        cursor: pointer;\n    }\n</style>"
  ],
  "names": [],
  "mappings": "AAm0CI,wBAAS,CAAC,AACN,QAAQ,CAAE,KAAK,CACf,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AAChB,CAAC,AACD,wBAAS,CAAC,AACN,OAAO,CAAE,IAAI,AACjB,CAAC;AC3uBD,SAAS,eAAC,CAAC,AACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,KAAK,CACb,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,IAAI,AACvB,CAAC;ACZH,uBAAS,CAAC,AACR,QAAQ,CAAE,KAAK,CACf,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC1C,OAAO,CAAE,IAAI,CACb,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,AACrB,CAAC;ACpYG,oBAAK,CAAC,AACF,UAAU,CAAE,KAAK,CAAC,UAAU,AAChC,CAAC,AACD,qBAAM,CAAC,AACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,wBAAS,CAAE,mBAAI,CAAC,AACZ,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,wBAAS,CAAC,AACN,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,IAAI,AACrB,CAAC,AACD,mBAAI,CAAC,AACD,aAAa,CAAE,IAAI,AACvB,CAAC,AACD,OAAO,KAAK,CAAC,AACX,mCAAoB,CAAC,AACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,uBAAQ,CAAC,AACL,KAAK,CAAE,GAAG,AACd,CAAC,AAIH,CAAC;AC9BH,oBAAK,CAAC,AACA,UAAU,CAAE,KAAK,CAAC,UAAU,AAChC,CAAC,AACD,qBAAM,CAAC,AACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,wBAAS,CAAE,mBAAI,CAAC,AACZ,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,wBAAS,CAAC,AACN,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,IAAI,AACrB,CAAC,AACD,mBAAI,CAAC,AACD,aAAa,CAAE,IAAI,AACvB,CAAC,AACD,OAAO,KAAK,CAAC,AACX,mCAAoB,CAAC,AACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,uBAAQ,CAAC,AACL,KAAK,CAAE,GAAG,AACd,CAAC,AAIH,CAAC;AC0GP,OAAO,GAAG,AAAC,CAAC,AACR,GAAG,2BAAY,CAAC,AACZ,OAAO,CAAE,IAAI,AACjB,CAAC,AACL,CAAC,AAED,OAAO,KAAK,CAAC,AACT,GAAG,2BAAY,CAAC,AACZ,QAAQ,KAAK,CACb,kBAAkB,MAAM,AAC5B,CAAC,AACL,CAAC,AACD,oBAAK,CAAC,AACF,UAAU,CAAE,KAAK,CAAC,UAAU,AAChC,CAAC,AACD,qBAAM,CAAC,AACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,wBAAS,CAAE,mBAAI,CAAC,AACZ,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,wBAAS,CAAC,AACN,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,IAAI,AACrB,CAAC,AACD,mBAAI,CAAC,AACD,aAAa,CAAE,IAAI,AACvB,CAAC,AACD,OAAO,KAAK,CAAC,AACX,mCAAoB,CAAC,AACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,uBAAQ,CAAC,AACL,KAAK,CAAE,GAAG,AACd,CAAC,AAIH,CAAC;AC7KG,oBAAK,CAAC,AACA,UAAU,CAAE,KAAK,CAAC,UAAU,AAChC,CAAC,AACD,qBAAM,CAAC,AACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,iBAAE,CAAC,AACC,OAAO,CAAE,IAAI,AACjB,CAAC;ACzOH,WAAW,4BAAC,CAAC,AACT,OAAO,CAAE,YAAY,CACrB,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AAChB,CAAC,AACD,yBAAW,CAAC,GAAG,cAAC,CAAC,AACb,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,OAAO,CAAE,CAAC,CACV,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,wBAAU,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,AAClE,CAAC,AACD,yBAAW,CAAC,iBAAG,WAAW,CAAC,CAAC,AAAC,CAAC,AAC1B,eAAe,CAAE,KAAK,AAC1B,CAAC,AACD,WAAW,wBAAW,CAAC,AACnB,EAAE,AAAC,CAAC,AACA,GAAG,CAAE,IAAI,CACT,IAAI,CAAE,IAAI,CACV,KAAK,CAAE,CAAC,CACR,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,AACd,CAAC,AACD,IAAI,AAAC,CAAC,AACF,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,CAAC,AACd,CAAC,AACL,CAAC;AC4SD,SAAS,4BAAC,CAAC,AACP,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,uBAAS,CAAC,MAAM,cAAC,CAAC,AACd,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,AAC1B,CAAC,AACD,uBAAS,CAAC,MAAM,CAAC,kBAAI,YAAY,AAAC,CAAC,AAC/B,WAAW,CAAE,IAAI,CACjB,SAAS,CAAE,MAAM,CACjB,aAAa,CAAE,CAAC,CAChB,cAAc,CAAE,CAAC,CACjB,UAAU,CAAE,KAAK,AACrB,CAAC,AAED,uBAAS,CAAC,MAAM,CAAC,kBAAI,WAAW,CAAC,CAAC,AAAC,CAAC,AAChC,UAAU,CAAE,KAAK,CACjB,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,MAAM,AACrB,CAAC,AAED,uBAAS,CAAC,MAAM,CAAC,kBAAI,WAAW,AAAC,CAAC,AAC9B,cAAc,CAAE,GAAG,AACvB,CAAC,AAED,uBAAS,CAAC,cAAc,cAAC,CAAC,AACtB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,CAAC,CACd,YAAY,CAAE,IAAI,AACtB,CAAC;ACnWD,wBAAS,CAAC,AACN,QAAQ,CAAE,KAAK,CACf,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,OAAO,CAAE,KAAK,AAClB,CAAC,AACD,4BAAa,CAAC,AACV,KAAK,CAAE,KAAK,AAChB,CAAC,AACD,iBAAE,CAAC,AACC,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,MAAM,AACtB,CAAC,AACD,gBAAC,CAAC,AACE,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,MAAM,AACtB,CAAC;ACgUD,uCAAW,CAAC,AACR,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,GAAG,CAAE,IAAI,AACb,CAAC,AACD,wCAAY,CAAC,AACT,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,GAAG,CACV,GAAG,CAAE,GAAG,AACZ,CAAC,AACD,0BAAY,CAAC,CAAC,cAAC,CAAC,AACZ,MAAM,CAAE,OAAO,AACnB,CAAC"
}