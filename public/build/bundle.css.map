{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "HistoriaClinica.svelte",
    "Detalle.svelte",
    "PacientePerfil.svelte",
    "Estudios.svelte",
    "Imagenes.svelte",
    "ImprimirRecetas.svelte",
    "Medicamentos.svelte",
    "Actual.svelte",
    "Loading.svelte",
    "ModalCitaCalendario.svelte",
    "ModalNuevaCita.svelte",
    "NoConexion.svelte",
    "OrdenesMedicas.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n    import { link, push } from \"svelte-spa-router\";\r\n    import Loading from \"../../componentes/Loading.svelte\";\r\n    import axios from \"axios\";\r\n    import { onMount } from \"svelte\";\r\n    import { url, user } from \"../../util/index\";\r\n    import { v4 as uuid } from \"uuid\";\r\n\r\n    import Header from \"../../Layout/Header.svelte\";\r\n    import AsideAtencion from \"../../Layout/AsideAtencion.svelte\";\r\n    import ModalDatosPaciente from \"../../componentes/Modals/ModalDatosPaciente.svelte\";\r\n    import ModalTratamientos from \"../../componentes/Modals/ModalTratamientos.svelte\";\r\n    import ModalInterconsulta from \"../../componentes/Modals/ModalInterconsulta.svelte\";\r\n    import ModalAntecedentes from \"../../componentes/Modals/ModalAntecedentes.svelte\";\r\n    import OrdenesMedicas from \"../../componentes/OrdenesMedicas.svelte\";\r\n    import SignosVitales from \"../../componentes/SignosVitales.svelte\";\r\n    import ErrorServer from \"../../componentes/ErrorConexion.svelte\";\r\n    import NoConexion from \"../../componentes/NoConexion.svelte\";\r\n    import ErrorConexion from \"../../componentes/ErrorConexion.svelte\";\r\n    import ModalNuevaCita from \"../../componentes/Modals/ModalNuevaCita.svelte\";\r\n\r\n    const Toast = Swal.mixin({\r\n        toast: true,\r\n        position: \"top-end\",\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n        timerProgressBar: true,\r\n        didOpen: (toast) => {\r\n            toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n            toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n        },\r\n    });\r\n\r\n    export let params = \"\";\r\n    let paciente = {};\r\n    let edad = \"\";\r\n    let seguro = \"\";\r\n    let diagnosticos = [];\r\n    let inpBuscarDiagnostico = \"\";\r\n    let diagnosticosSeleccionados = [];\r\n    let medicamentos = [];\r\n    let historia = {};\r\n    let temperatura = {};\r\n    let presionAlterial = {};\r\n    let peso = {};\r\n    let timeout = null;\r\n    let fecha = \"\";\r\n    let hora = \"\";\r\n    let cargando = false;\r\n    let sltBuscarMedicamentos = \"\";\r\n    let medicamentosSeleccionados = [];\r\n    let sltBuscarEstudios = \"\";\r\n    let estudios = [];\r\n    let estudiosSeleccionados = [];\r\n    let historiaGinecologica = {};\r\n    let errorServer = false;\r\n    let empresa = {};\r\n    let exploracionFisica = [];\r\n    let serverConexion = false;\r\n    let cargandoHistoria = false;\r\n    let pacienteSeleccionado = {};\r\n    let disabled = false;\r\n\r\n    $: if (historia.estado === \"C\") {\r\n        disabled = true;\r\n    } else {\r\n        disabled = false;\r\n    }\r\n\r\n    const cargarEmpresa = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                empresa = res.data;\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const abrirHistoria = (id) => {\r\n        Swal.fire({\r\n            title: \"¿Estás seguro?\",\r\n            text: \"Se abrir la historia y tendra acceso a modificarla de nuevo!\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Si, Abirla!\",\r\n            cancelButtonText: \"Cancelar\",\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                const config = {\r\n                    method: \"put\",\r\n                    url: `${url}/historias/${id}/abrir`,\r\n                    headers: {\r\n                        Authorization: `${localStorage.getItem(\"auth\")}`,\r\n                    },\r\n                };\r\n                axios(config)\r\n                    .then((res) => {\r\n                        if (res.status === 200) {\r\n                            cargarHistoria();\r\n                        }\r\n                    })\r\n                    .catch((err) => {});\r\n            }\r\n        });\r\n    };\r\n\r\n    const cerrarHistoria = (id) => {\r\n        Swal.fire({\r\n            title: \"¿Estás seguro?\",\r\n            text: \"Se cerrara la historia y no podra modificarla en el futuro!\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Si, Cerrarla!\",\r\n            cancelButtonText: \"Cancelar\",\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                const config = {\r\n                    method: \"put\",\r\n                    url: `${url}/historias/${id}/cerrar`,\r\n                    headers: {\r\n                        Authorization: `${localStorage.getItem(\"auth\")}`,\r\n                    },\r\n                };\r\n                axios(config)\r\n                    .then((res) => {\r\n                        if (res.status === 200) {\r\n                            cargarHistoria();\r\n                        }\r\n                    })\r\n                    .catch((err) => {});\r\n            }\r\n        });\r\n    };\r\n\r\n    const eliminarHistoria = (id) => {\r\n        Swal.fire({\r\n            title: \"¿Estás seguro?\",\r\n            text: \"Se eliminará esta historia clínica, sin embargo, los datos no se perderán, puedes recuperarlos en el futuro!\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Si, Eliminarlo!\",\r\n            cancelButtonText: \"Cancelar\",\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                const config = {\r\n                    method: \"delete\",\r\n                    url: `${url}/historias/${id}`,\r\n                    headers: {\r\n                        Authorization: `${localStorage.getItem(\"auth\")}`,\r\n                    },\r\n                };\r\n                axios(config)\r\n                    .then((res) => {\r\n                        if (res.status === 200) {\r\n                            push(`/pacientes/perfil/${params.idPaciente}`);\r\n                        }\r\n                    })\r\n                    .catch((err) => {});\r\n            }\r\n        });\r\n    };\r\n\r\n    const searchMedicamentos = () => {\r\n        if (timeout) {\r\n            window.clearTimeout(timeout);\r\n        }\r\n\r\n        timeout = setTimeout(function () {\r\n            cargarMedicamentos();\r\n        }, 300);\r\n    };\r\n\r\n    function searchDiagnosticos() {\r\n        if (timeout) {\r\n            window.clearTimeout(timeout);\r\n        }\r\n\r\n        timeout = setTimeout(function () {\r\n            cargarDiagnosticos();\r\n        }, 300);\r\n    }\r\n\r\n    const searchEstudios = () => {\r\n        if (timeout) {\r\n            window.clearTimeout(timeout);\r\n        }\r\n\r\n        timeout = setTimeout(function () {\r\n            cargarEstudios();\r\n        }, 300);\r\n    };\r\n\r\n    const agregarEstudio = (obj) => {\r\n        estudiosSeleccionados = [...estudiosSeleccionados, obj.detail];\r\n        historia.estudios = estudiosSeleccionados;\r\n        guardarHistoria();\r\n        sltBuscarEstudios = \"\";\r\n    };\r\n\r\n    const agregarDiagnosticoPersonalizado = (nombre) => {\r\n        const diagnostico = {\r\n            d: nombre,\r\n            c: \"PERS\",\r\n            id: uuid(),\r\n        };\r\n        diagnosticosSeleccionados = [...diagnosticosSeleccionados, diagnostico];\r\n        guardarHistoria();\r\n    };\r\n\r\n    const agregarComentarioDiagnostico = (position) => {\r\n        if (diagnosticosSeleccionados[position].comentario === undefined) {\r\n            diagnosticosSeleccionados[position].comentario = \"\";\r\n            historia.diagnosticos = diagnosticosSeleccionados;\r\n            guardarHistoria();\r\n        } else {\r\n            delete diagnosticosSeleccionados[position].comentario;\r\n            diagnosticosSeleccionados = diagnosticosSeleccionados;\r\n            historia.diagnosticos = diagnosticosSeleccionados;\r\n            guardarHistoria();\r\n        }\r\n    };\r\n\r\n    const eliminarMedicamento = (event) => {\r\n        if (confirm(\"Desea eliminar el medicamento?\")) {\r\n            medicamentosSeleccionados.splice(event.detail, 1);\r\n            medicamentosSeleccionados = medicamentosSeleccionados;\r\n            historia.medicamentos = medicamentosSeleccionados;\r\n            guardarHistoria();\r\n        }\r\n    };\r\n\r\n    const eliminarDiagnostico = (position) => {\r\n        Swal.fire({\r\n            title: \"¿Esta seguro?\",\r\n            text: \"Esta acción eliminara el diagnostico de la consulta, pero puede agregarlo nuevamente luego.!\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Si, Eliminar!\",\r\n            cancelButtonText: \"Cancelar\",\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                diagnosticosSeleccionados.splice(position, 1);\r\n                diagnosticosSeleccionados = diagnosticosSeleccionados;\r\n                historia.diagnosticos = diagnosticosSeleccionados;\r\n                guardarHistoria();\r\n                Toast.fire({\r\n                    icon: \"success\",\r\n                    title: \"Se ha eliminado correctamente\",\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const eliminarEstudios = (event) => {\r\n        estudiosSeleccionados = estudiosSeleccionados.filter(\r\n            (estudio) => estudio.id !== event.detail\r\n        );\r\n        historia.estudios = estudiosSeleccionados;\r\n        guardarHistoria();\r\n        Toast.fire({\r\n            icon: \"success\",\r\n            title: \"Se ha eliminado correctamente\",\r\n        });\r\n    };\r\n\r\n    const agregarMedicamento = (event) => {\r\n        if (!event.detail) {\r\n            return false;\r\n        }\r\n        const medicamento = {\r\n            nombre: event.detail,\r\n            concentracion: \"\",\r\n            cantidad: \"\",\r\n            frecuencia: \"\",\r\n        };\r\n        medicamentosSeleccionados = [...medicamentosSeleccionados, medicamento];\r\n        historia.medicamentos = medicamentosSeleccionados;\r\n        sltBuscarMedicamentos = \"\";\r\n        guardarHistoria();\r\n    };\r\n\r\n    const cargarEstudios = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/estudios?b=${sltBuscarEstudios}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                estudios = res.data;\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const cargarMedicamentos = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/medicamentos?b=${sltBuscarMedicamentos}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                medicamentos = res.data;\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    };\r\n\r\n    const guardarHistoria = () => {\r\n        errorServer = false;\r\n        cargando = true;\r\n        historia.diagnosticos = diagnosticosSeleccionados;\r\n        delete historia.id;\r\n        const config = {\r\n            method: \"put\",\r\n            url: `${url}/historias/${params.idHistoria}`,\r\n            data: historia,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        try {\r\n            axios(config)\r\n                .then((res) => {\r\n                    cargando = false;\r\n                    if (res.status !== 200) {\r\n                        errorServer = true;\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    if (error) {\r\n                        errorServer = true;\r\n                        cargando = false;\r\n                    }\r\n                    cargando = false;\r\n                    console.error(error);\r\n                });\r\n        } catch (error) {\r\n            errorServer = true;\r\n            cargando = false;\r\n        }\r\n    };\r\n\r\n    async function cargarPaciente() {\r\n        cargandoHistoria = true;\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/pacientes/${params.idPaciente}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        try {\r\n            let promesa = await axios(config);\r\n            cargandoHistoria = false;\r\n            if (promesa.status == 200) {\r\n                paciente = await promesa.data;\r\n                edad = calcularEdad(paciente.fechaNacimiento);\r\n                if (paciente.seguroMedico.length !== 0) {\r\n                    seguro = paciente.seguroMedico[0].nombre;\r\n                } else {\r\n                    seguro = \"N/A\";\r\n                }\r\n            } else {\r\n                serverConexion = true;\r\n                console.error(promesa.statusText);\r\n            }\r\n        } catch (error) {\r\n            cargandoHistoria = false;\r\n            serverConexion = true;\r\n            console.error(promesa.statusText);\r\n        }\r\n    }\r\n\r\n    const cargarHistoria = async () => {\r\n        try {\r\n            const config = {\r\n                method: \"get\",\r\n                url: `${url}/historias/${params.idHistoria}`,\r\n                headers: {\r\n                    Authorization: `${localStorage.getItem(\"auth\")}`,\r\n                },\r\n            };\r\n\r\n            let promesa = await axios(config);\r\n            historia = promesa.data;\r\n            temperatura = promesa.data.temperatura;\r\n            presionAlterial = promesa.data.presionAlterial;\r\n            peso = promesa.data.peso;\r\n            diagnosticosSeleccionados = promesa.data.diagnosticos;\r\n            fecha = promesa.data.fechaHora.split(\"T\")[0];\r\n            medicamentosSeleccionados = promesa.data.medicamentos;\r\n            estudiosSeleccionados = promesa.data.estudios;\r\n            historiaGinecologica = promesa.data.historiaGinecologica;\r\n            exploracionFisica = promesa.data.exploracionFisica || [];\r\n            let obtenerHora = promesa.data.fechaHora\r\n                .split(\"T\")[1]\r\n                .split(\"Z\")[0]\r\n                .split(\".\")[0]\r\n                .split(\":\");\r\n            hora = obtenerHora[0] + \":\" + obtenerHora[1];\r\n        } catch (error) {\r\n            serverConexion = true;\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    $: filtroDiagnostico = diagnosticos;\r\n\r\n    function cargarDiagnosticos() {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/diagnosticos?b=${inpBuscarDiagnostico}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        setTimeout(() => {\r\n            axios(config)\r\n                .then((res) => {\r\n                    diagnosticos = res.data;\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                });\r\n        }, 1000);\r\n    }\r\n\r\n    function seleccionarDiagnostico(id) {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/diagnosticos/${id}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config).then((res) => {\r\n            diagnosticosSeleccionados = [\r\n                ...diagnosticosSeleccionados,\r\n                res.data,\r\n            ];\r\n            guardarHistoria();\r\n        });\r\n        inpBuscarDiagnostico = \"\";\r\n    }\r\n\r\n    function calcularEdad(fecha) {\r\n        var hoy = new Date();\r\n        var cumpleanos = new Date(fecha);\r\n        var edad = hoy.getFullYear() - cumpleanos.getFullYear();\r\n        var m = hoy.getMonth() - cumpleanos.getMonth();\r\n\r\n        if (m < 0 || (m === 0 && hoy.getDate() < cumpleanos.getDate())) {\r\n            edad--;\r\n        }\r\n\r\n        return edad;\r\n    }\r\n\r\n    onMount(async () => {\r\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n        await cargarPaciente();\r\n        await cargarHistoria();\r\n        cargarDiagnosticos();\r\n        cargarMedicamentos();\r\n        cargarEstudios();\r\n        cargarEmpresa();\r\n    });\r\n</script>\r\n\r\n<AsideAtencion />\r\n\r\n<div class=\"contenedor-datos\" id=\"divHeaderBar\">\r\n    {#if errorServer}\r\n        <ErrorServer\r\n            msgError={\"Ocurrio un error en la conexion con el servidor, vuelva a intentarlo o llame al administrador\"}\r\n        />\r\n    {/if}\r\n    {#if serverConexion}\r\n        <NoConexion />\r\n    {/if}\r\n    {#if cargandoHistoria}\r\n        <div class=\"cargando\">\r\n            <Loading />\r\n        </div>\r\n    {/if}\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <h5>\r\n                <span class=\"badge badge-primary\" data-bind=\"text: titulo\"\r\n                    >Historia Clinica</span\r\n                >\r\n                <span data-bind=\"text: paciente().nombreParaMostrar\"\r\n                    >{paciente.nombres} {paciente.apellidos}\r\n                </span>\r\n            </h5>\r\n        </div>\r\n        <div class=\"col-md-6\" style=\"text-align: right;\">\r\n            <div class=\"guardar-documento\">\r\n                {#if !cargando && !errorServer}\r\n                    <div class=\"guardando mr-2 text-success\">\r\n                        <i class=\"mdi mdi-check-all\" /> <i>listo y guardado</i>\r\n                    </div>\r\n                {/if}\r\n                {#if errorServer}\r\n                    <div class=\"guardando mr-2 text-danger\">\r\n                        <i class=\"mdi mdi-close\" /> <i>error al guardar</i>\r\n                    </div>\r\n                {/if}\r\n                {#if cargando && !errorServer}\r\n                    <div class=\"guardando mr-2 text-secondary\">\r\n                        <i class=\"mdi mdi-cached mdi-spin\" /> Guardando\r\n                    </div>\r\n                {/if}\r\n            </div>\r\n        </div>\r\n        {#if historia.estado === \"A\"}\r\n            <button\r\n                type=\"button\"\r\n                class=\"btn m-b-15 ml-2 mr-2 btn-lg btn-rounded-circle btn-success flotante\"\r\n                data-tooltip=\"Guardar\"\r\n                on:click={guardarHistoria}\r\n            >\r\n                <i class=\"mdi mdi-content-save-outline\" />\r\n            </button>\r\n        {/if}\r\n        <div class=\"col-lg-12\">\r\n            <div class=\"dropdown\" data-bind=\"foreach: actionButtons\">\r\n                <button\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#modalDatosPersonales\"\r\n                    style=\"box-shadow:none;\"\r\n                    class=\"btn btn-outline-secondary btn-sm\"\r\n                >\r\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-comment-eye\" />\r\n                    <sapn data-bind=\"text: text\">Datos del Paciente</sapn>\r\n                </button>\r\n                {#if user().roles.includes(\"admin\")}\r\n                    {#if historia.estado === \"C\"}\r\n                        <button\r\n                            on:click={() => abrirHistoria(params.idHistoria)}\r\n                            style=\"box-shadow:none;\"\r\n                            class=\"btn btn-outline-danger btn-sm\"\r\n                        >\r\n                            <i class=\"mdi mdi-playlist-plus\" />\r\n                            Abrir Historia\r\n                        </button>\r\n                    {/if}\r\n                    {#if historia.estado === \"A\"}\r\n                        <button\r\n                            on:click={() => cerrarHistoria(params.idHistoria)}\r\n                            style=\"box-shadow:none;\"\r\n                            class=\"btn btn-success btn-sm\"\r\n                        >\r\n                            <i class=\"mdi mdi-playlist-remove\" />\r\n                            Cerrar Historia\r\n                        </button>\r\n                    {/if}\r\n                {/if}\r\n\r\n                <!-- <button\r\n                    data-bind=\" class: itemClass,click: clickEvent\"\r\n                    style=\"box-shadow:none;\"\r\n                    class=\"btn btn-outline-dark btn-sm\"\r\n                >\r\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-text\" />\r\n                    <sapn data-bind=\"text: text\">Agregar Campo</sapn>\r\n                </button> -->\r\n\r\n                <!-- <button\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#modalInterconsulta\"\r\n                    style=\"box-shadow:none;\"\r\n                    class=\"btn btn-outline-dark btn-sm\"\r\n                >\r\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-repeat\" />\r\n                    <sapn data-bind=\"text: text\">Registrar Interconsulta</sapn>\r\n                </button> -->\r\n\r\n                <a\r\n                    href={`/#/pacientes/${params.idPaciente}/historias/${params.idHistoria}/imprimir`}\r\n                    target=\"_blank\"\r\n                    style=\"box-shadow:none;\"\r\n                    class=\"btn btn-outline-dark btn-sm btn-hover-white\"\r\n                >\r\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-printer\" />\r\n                    <sapn data-bind=\"text: text\">Imprimir</sapn>\r\n                </a>\r\n\r\n                <button\r\n                    style=\"box-shadow:none;\"\r\n                    class=\"btn btn-outline-success btn-sm btn-hover-white\"\r\n                    on:click|preventDefault={() =>\r\n                        (pacienteSeleccionado = {\r\n                            id: paciente.id,\r\n                            nombres: paciente.nombres,\r\n                            apellidos: paciente.apellidos,\r\n                            sexo: paciente.sexo,\r\n                            fechaNacimiento: paciente.fechaNacimiento,\r\n                            nacionalidad: paciente.nacionalidad,\r\n                            telefono: paciente.telefono,\r\n                            celular: paciente.celular,\r\n                            cedula: paciente.cedula,\r\n                        })}\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#modalNuevaCita\"\r\n                >\r\n                    <i class=\"mdi mdi-calendar-multiselect\" />\r\n                    Nueva cita\r\n                </button>\r\n\r\n                <!-- <button\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#modalAntecedentes\"\r\n                    style=\"box-shadow:none;\"\r\n                    class=\"btn btn-outline-dark btn-sm\"\r\n                >\r\n                    <i data-bind=\"class: icon\" class=\"mdi mdi-account-clock\" />\r\n                    <sapn data-bind=\"text: text\">Antecedentes</sapn>\r\n                </button> -->\r\n                {#if historia.estado === \"A\"}\r\n                    <button\r\n                        on:click={() => eliminarHistoria(params.idHistoria)}\r\n                        style=\"box-shadow:none;\"\r\n                        class=\"btn btn-danger btn-sm\"\r\n                    >\r\n                        <i data-bind=\"class: icon\" class=\"mdi mdi-delete\" />\r\n                        <sapn data-bind=\"text: text\">Anular</sapn>\r\n                    </button>\r\n                {/if}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<Header />\r\n<main class=\"admin-main\">\r\n    <div class=\"container m-b-30\">\r\n        <div class=\"col-lg-12\" style=\"margin-top: 150px\">\r\n            <div\r\n                data-bind=\"if: perfil().motivoConsulta\"\r\n                class=\"card m-b-20 margen-mobile\"\r\n            >\r\n                <div class=\"card-header\">\r\n                    <div class=\"card-title\">Motivo de consulta</div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <textarea\r\n                        {disabled}\r\n                        on:blur={guardarHistoria}\r\n                        bind:value={historia.motivoConsulta}\r\n                        class=\"form-control\"\r\n                        style=\"width: 100%; display: block; height: 150px;\"\r\n                        rows=\"3\"\r\n                        name=\"Comentario\"\r\n                        data-bind=\"value: atencionMedica.motivoConsulta\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div class=\"card m-b-20 autosave\">\r\n                <div class=\"card-header\">\r\n                    <div class=\"card-title\">Historial Cl&iacute;nico (Historia de la enfermedad)</div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <textarea\r\n                        {disabled}\r\n                        on:blur={guardarHistoria}\r\n                        bind:value={historia.historiaEnfermedad}\r\n                        class=\"form-control\"\r\n                        data-bind=\"value: atencionMedica.historiaEnfermedad\"\r\n                        style=\"width: 100%; display: block; height: 150px;\"\r\n                        rows=\"3\"\r\n                        name=\"Comentario\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            {#if empresa.historiaGinecologica}\r\n                <!-- Historia ginecologica -->\r\n                <div class=\"card m-b-20 border border-primary\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title text-primary\">\r\n                            Historia Ginecologica\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        >Fecha ultima menstruaci&oacute;n</label\r\n                                    >\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"date\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.fechaUltimaMenstruacion}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Fecha ultimo pap</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"date\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.fechaUltimoPap}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Fecha ultimo parto</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"date\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.fechaUltimoParto}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Fecha ultimo aborto</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"date\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.fechaUltimoAborto}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        >Fecha ultima ces&aacute;rea</label\r\n                                    >\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"date\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.fechaUltimoCesarea}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        >Intervalo flujo menstrual</label\r\n                                    >\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        placeholder=\"Dias\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.intervaloFlujoMenstrual}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        >Cantidad flujo menstrual</label\r\n                                    >\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        placeholder=\"Dias\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.cantidadFlujoMenstrual}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        >Duracion flujo menstrual</label\r\n                                    >\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        placeholder=\"Dias\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.duracionFlujoMenstrual}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n                        <div class=\"row\">\r\n                            <div class=\"col\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Gesta</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.gesta}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Para</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.para}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Abortos</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.abortos}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Ces&aacute;reas</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.cesareas}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Espont&aacute;neos</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.espontaneos}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Provocados</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.provocados}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Legrados</label>\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"number\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={guardarHistoria}\r\n                                        bind:value={historiaGinecologica.legrados}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <h5 class=\"mt-3\">Planificaci&oacute;n</h5>\r\n                        <hr />\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12\">\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.sangradoVaginal}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >Sangrado Vaginal</span\r\n                                    >\r\n                                </label>\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.vidaSexualActiva}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >Vida Sexual Activa</span\r\n                                    >\r\n                                </label>\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.anticonceptivosOrales}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >Anticonceptivos Orales</span\r\n                                    >\r\n                                </label>\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.diu}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >DIU</span\r\n                                    >\r\n                                </label>\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.aqv}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >AQV</span\r\n                                    >\r\n                                </label>\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.condon}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >Cond&oacute;n</span\r\n                                    >\r\n                                </label>\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.norplant}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >Norplant</span\r\n                                    >\r\n                                </label>\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.ritmo}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >Ritmo</span\r\n                                    >\r\n                                </label>\r\n                                <label class=\"cstm-switch mr-4 mb-4\">\r\n                                    <input\r\n                                        {disabled}\r\n                                        type=\"checkbox\"\r\n                                        on:change={guardarHistoria}\r\n                                        bind:checked={historiaGinecologica.coitoInterruptus}\r\n                                        name=\"option\"\r\n                                        value=\"1\"\r\n                                        class=\"cstm-switch-input\"\r\n                                    />\r\n                                    <span\r\n                                        class=\"cstm-switch-indicator bg-success \"\r\n                                    />\r\n                                    <span class=\"cstm-switch-description\"\r\n                                        >Coito Interruptus</span\r\n                                    >\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!-- .Historia ginecologica -->\r\n            {/if}\r\n            {#if empresa.signosVitales}\r\n                <!-- content here -->\r\n                <div class=\"card m-b-20 margen-mobile autosave\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">Signos vitales</div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        ><i\r\n                                            class=\"mdi mdi-thermometer mdi-18px\"\r\n                                        /> Temperatura</label\r\n                                    >\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-7\">\r\n                                            <input\r\n                                                {disabled}\r\n                                                type=\"number\"\r\n                                                class=\"form-control\"\r\n                                                on:blur={guardarHistoria}\r\n                                                bind:value={temperatura.valor}\r\n                                            />\r\n                                        </div>\r\n                                        <div class=\"col-lg-5\">\r\n                                            <!-- svelte-ignore a11y-no-onchange -->\r\n                                            <select\r\n                                                class=\"form-control\"\r\n                                                {disabled}\r\n                                                on:change={guardarHistoria}\r\n                                                bind:value={temperatura.tipo}\r\n                                            >\r\n                                                <option value=\"C\" selected\r\n                                                    >°C</option\r\n                                                >\r\n                                                <option value=\"K\">°K</option>\r\n                                                <option value=\"F\">°F</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        ><i\r\n                                            class=\"mdi mdi-chart-line mdi-18px\"\r\n                                        /> Frecuencia respiratoria</label\r\n                                    >\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12\">\r\n                                            <input\r\n                                                {disabled}\r\n                                                type=\"number\"\r\n                                                class=\"form-control\"\r\n                                                on:blur={guardarHistoria}\r\n                                                bind:value={historia.frecuenciaRespiratoria}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        ><i\r\n                                            class=\"mdi mdi-heart-pulse mdi-18px\"\r\n                                        /> Frecuencia cardiaca</label\r\n                                    >\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12\">\r\n                                            <input\r\n                                                {disabled}\r\n                                                type=\"number\"\r\n                                                class=\"form-control\"\r\n                                                on:blur={guardarHistoria}\r\n                                                bind:value={historia.frecuenciaCardiaca}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        ><i\r\n                                            class=\"mdi mdi-heart-pulse mdi-18px\"\r\n                                        /> Presion alterial (mmHg)</label\r\n                                    >\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-6\">\r\n                                            <input\r\n                                                {disabled}\r\n                                                type=\"number\"\r\n                                                class=\"form-control\"\r\n                                                on:blur={guardarHistoria}\r\n                                                bind:value={presionAlterial.mm}\r\n                                            />\r\n                                        </div>\r\n                                        <div class=\"col-lg-6\">\r\n                                            <input\r\n                                                {disabled}\r\n                                                type=\"number\"\r\n                                                class=\"form-control\"\r\n                                                on:blur={guardarHistoria}\r\n                                                bind:value={presionAlterial.Hg}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            {/if}\r\n            {#if empresa.otrosParametros}\r\n                <div class=\"card m-b-20\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">Otros Parametros</div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        ><i class=\"mdi mdi-weight-pound\" /> Peso</label\r\n                                    >\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-7\">\r\n                                            <input\r\n                                                {disabled}\r\n                                                type=\"number\"\r\n                                                class=\"form-control\"\r\n                                                on:blur={guardarHistoria}\r\n                                                bind:value={peso.valor}\r\n                                            />\r\n                                        </div>\r\n                                        <div class=\"col-lg-5\">\r\n                                            <!-- svelte-ignore a11y-no-onchange -->\r\n                                            <select\r\n                                                class=\"form-control\"\r\n                                                {disabled}\r\n                                                on:change={guardarHistoria}\r\n                                                bind:value={peso.tipo}\r\n                                            >\r\n                                                <option value=\"Lb\">Lb</option>\r\n                                                <option value=\"Kg\">Kg</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        ><i class=\"mdi mdi-human\" /> Escala de glasgow</label\r\n                                    >\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12\">\r\n                                            <div\r\n                                                class=\"input-group\"\r\n                                                style=\"width: 100% !important; float: right;\"\r\n                                            >\r\n                                                <input\r\n                                                    {disabled}\r\n                                                    type=\"number\"\r\n                                                    class=\"form-control\"\r\n                                                    max=\"15\"\r\n                                                    maxlength=\"2\"\r\n                                                    aria-label=\"Recipient's username\"\r\n                                                    aria-describedby=\"basic-addon2\"\r\n                                                    on:blur={guardarHistoria}\r\n                                                    bind:value={historia.escalaGalsgow}\r\n                                                />\r\n                                                <div class=\"input-group-append\">\r\n                                                    <span\r\n                                                        class=\"input-group-text\"\r\n                                                        id=\"basic-addon2\"\r\n                                                        >/ 15</span\r\n                                                    >\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        ><i class=\"mdi mdi-emoticon-happy\" /> Escala\r\n                                        de dolor</label\r\n                                    >\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12\">\r\n                                            <div\r\n                                                class=\"input-group\"\r\n                                                style=\"width: 100% !important; float: right;\"\r\n                                            >\r\n                                                <input\r\n                                                    {disabled}\r\n                                                    type=\"number\"\r\n                                                    class=\"form-control\"\r\n                                                    max=\"10\"\r\n                                                    maxlength=\"2\"\r\n                                                    aria-label=\"Recipient's username\"\r\n                                                    aria-describedby=\"basic-addon2\"\r\n                                                    on:blur={guardarHistoria}\r\n                                                    bind:value={historia.escalaDolor}\r\n                                                />\r\n                                                <div class=\"input-group-append\">\r\n                                                    <span\r\n                                                        class=\"input-group-text\"\r\n                                                        id=\"basic-addon2\"\r\n                                                        >/ 10</span\r\n                                                    >\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\"\r\n                                        ><i class=\"mdi mdi-opacity\" /> Saturaci&oacute;n\r\n                                        de oxigeno</label\r\n                                    >\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12\">\r\n                                            <input\r\n                                                {disabled}\r\n                                                type=\"number\"\r\n                                                class=\"form-control\"\r\n                                                on:blur={guardarHistoria}\r\n                                                bind:value={historia.saturacionOxigeno}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Otros</label>\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12\">\r\n                                            <input\r\n                                                {disabled}\r\n                                                type=\"text\"\r\n                                                class=\"form-control\"\r\n                                                on:blur={guardarHistoria}\r\n                                                bind:value={historia.otrosParametros}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            {/if}\r\n\r\n            <div class=\"card m-b-20 autosave\">\r\n                <div class=\"card-header\">\r\n                    <div class=\"card-title\">Examen Cl&iacute;nico (Examen Fisico)</div>\r\n                </div>\r\n                <div class=\"card-controls\">\r\n                    <div class=\"dropdown\">\r\n                        <a\r\n                            href=\"/\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                        >\r\n                            <i class=\"icon mdi  mdi-dots-vertical\" />\r\n                        </a>\r\n                        <div class=\"dropdown-menu dropdown-menu-right\">\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                                >Action</button\r\n                            >\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                                >Another action</button\r\n                            >\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                                >Something else here</button\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <textarea\r\n                        {disabled}\r\n                        class=\"form-control\"\r\n                        style=\"width: 100%; display: block;\"\r\n                        on:blur={guardarHistoria}\r\n                        bind:value={historia.examenFisico}\r\n                        rows=\"5\"\r\n                        name=\"Comentario\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {#if empresa.exploracionFisica}\r\n                <div class=\"card m-b-20\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">Exploraci&oacute;n Fisica</div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                {#each exploracionFisica as item}\r\n                                    {#if !item.activo}\r\n                                        <button\r\n                                            class=\"btn btn-outline-primary mr-2\"\r\n                                            {disabled}\r\n                                            on:click={() => {\r\n                                                item.activo = true;\r\n                                                guardarHistoria();\r\n                                            }}>{item.nombre}</button\r\n                                        >\r\n                                    {/if}\r\n                                {/each}\r\n                            </div>\r\n                            <hr />\r\n                            <div class=\"col-12\">\r\n                                <div class=\"row mt-2\">\r\n                                    {#each exploracionFisica as item}\r\n                                        {#if item.activo}\r\n                                            <div class=\"col-lg-4\">\r\n                                                <div\r\n                                                    class=\"card m-t-10 m-b-20 border border-primary\"\r\n                                                >\r\n                                                    <div class=\"card-header\">\r\n                                                        <div class=\"card-title\">\r\n                                                            {item.nombre}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"card-body\">\r\n                                                        <textarea\r\n                                                            {disabled}\r\n                                                            bind:value={item.text}\r\n                                                            on:blur={guardarHistoria}\r\n                                                            class=\"form-control\"\r\n                                                            rows=\"5\"\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        {/if}\r\n                                    {/each}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            {/if}\r\n\r\n            <div class=\"card m-b-20\">\r\n                <div class=\"card-header\">\r\n                    <div class=\"card-title\">Diagnosticos</div>\r\n                </div>\r\n                <div class=\"card-controls\">\r\n                    <div class=\"dropdown\">\r\n                        <a\r\n                            href=\"/\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                        >\r\n                            <i class=\"icon mdi  mdi-dots-vertical\" />\r\n                        </a>\r\n                        <div class=\"dropdown-menu dropdown-menu-right\">\r\n                            <button\r\n                                class=\"dropdown-item text-success\"\r\n                                type=\"button\"\r\n                                ><i class=\"mdi mdi-plus\" />\r\n                                Agregar nuevo diagnostico</button\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12\">\r\n                            <div\r\n                                class=\"form-group buscardor dropdown dropdown-vnc\"\r\n                            >\r\n                                <input\r\n                                    {disabled}\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    on:keyup={searchDiagnosticos}\r\n                                    id=\"txtBusquedaProblemaMedico\"\r\n                                    data-toggle=\"dropdown\"\r\n                                    aria-haspopup=\"true\"\r\n                                    aria-expanded=\"true\"\r\n                                    autocomplete=\"off\"\r\n                                    bind:value={inpBuscarDiagnostico}\r\n                                />\r\n                                <ul\r\n                                    class=\"lista-buscador dropdown-menu\"\r\n                                    id=\"buscador\"\r\n                                    x-placement=\"top-start\"\r\n                                    style=\"position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, -128px, 0px); border-radius: 5px;\"\r\n                                >\r\n                                    <div class=\"contenidoLista\">\r\n                                        {#each filtroDiagnostico as diagnostico}\r\n                                            <li>\r\n                                                <div\r\n                                                    class=\"p-2\"\r\n                                                    on:click={() =>\r\n                                                        seleccionarDiagnostico(\r\n                                                            diagnostico.c\r\n                                                        )}\r\n                                                >\r\n                                                    <span\r\n                                                        class=\"badge badge-primary\"\r\n                                                        >{diagnostico.c}</span\r\n                                                    >\r\n                                                    {diagnostico.d}\r\n                                                </div>\r\n                                            </li>\r\n                                        {/each}\r\n                                        <li class=\"defecto\">\r\n                                            <a\r\n                                                href=\"#!\"\r\n                                                on:click|preventDefault={() =>\r\n                                                    agregarDiagnosticoPersonalizado(\r\n                                                        inpBuscarDiagnostico\r\n                                                    )}\r\n                                                ><i\r\n                                                    class=\"mdi mdi-plus\"\r\n                                                />Agregar manualmente</a\r\n                                            >\r\n                                        </li>\r\n                                    </div>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"col-md-12\">\r\n                            <ul class=\"list-info\">\r\n                                {#each diagnosticosSeleccionados as item, i}\r\n                                    <li>\r\n                                        <span class=\"badge badge-primary\"\r\n                                            >{item.c}</span\r\n                                        >&nbsp;<span>{item.d}</span>\r\n                                        {#if !disabled}\r\n                                            <!-- content here -->\r\n                                            <div\r\n                                                style=\"position: absolute; top: 0; right: 0;padding: 10px; background-color: white; border-bottom-left-radius: 5px;\"\r\n                                            >\r\n                                                <a\r\n                                                    href=\"#!\"\r\n                                                    class=\"text-primary\"\r\n                                                    data-tooltip=\"Comentar\"\r\n                                                    on:click|preventDefault={() =>\r\n                                                        agregarComentarioDiagnostico(\r\n                                                            i\r\n                                                        )}\r\n                                                    ><i\r\n                                                        class=\"mdi-18px mdi mdi-comment-plus-outline\"\r\n                                                    /></a\r\n                                                >\r\n                                                <a\r\n                                                    href=\"#!\"\r\n                                                    class=\"text-danger\"\r\n                                                    data-tooltip=\"Eliminar\"\r\n                                                    on:click|preventDefault={() =>\r\n                                                        eliminarDiagnostico(i)}\r\n                                                    ><i\r\n                                                        class=\"mdi-18px mdi mdi-trash-can-outline\"\r\n                                                    /></a\r\n                                                >\r\n                                            </div>\r\n                                        {/if}\r\n                                        {#if item.comentario !== undefined}\r\n                                            <div class=\"row mt-3\">\r\n                                                <div class=\"col\">\r\n                                                    <input\r\n                                                        {disabled}\r\n                                                        type=\"text\"\r\n                                                        on:blur={guardarHistoria}\r\n                                                        bind:value={item.comentario}\r\n                                                        class=\"form-control border-primary\"\r\n                                                        placeholder=\"Comentario\"\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        {/if}\r\n                                    </li>\r\n                                {/each}\r\n                                {#if diagnosticosSeleccionados.length === 0}\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-12\">\r\n                                            <div\r\n                                                class=\"alert border alert-light\"\r\n                                                role=\"alert\"\r\n                                            >\r\n                                                <p\r\n                                                    class=\"alert-body text-center mt-3\"\r\n                                                >\r\n                                                    No tienes agregado ningún\r\n                                                    diagnostico\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                {/if}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <OrdenesMedicas\r\n                {disabled}\r\n                bind:idHistoria={params.idHistoria}\r\n                bind:idPaciente={params.idPaciente}\r\n                bind:estudiosSeleccionados\r\n                bind:medicamentosSeleccionados\r\n                bind:sltBuscarMedicamentos\r\n                bind:sltBuscarEstudios\r\n                bind:medicamentos\r\n                bind:instrucciones={historia.instrucciones}\r\n                bind:estudios\r\n                on:eliminarEstudio={eliminarEstudios}\r\n                on:agregarEstudio={agregarEstudio}\r\n                on:buscandoEstudios={searchEstudios}\r\n                on:modificado={guardarHistoria}\r\n                on:buscarMedicamentos={searchMedicamentos}\r\n                on:agregarMedicamento={agregarMedicamento}\r\n                on:eliminarMedicamento={eliminarMedicamento}\r\n            />\r\n\r\n            <div class=\"card m-b-20 margen-mobile autosave\">\r\n                <div class=\"card-header\">\r\n                    <div class=\"card-title\">Observaciones</div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <textarea\r\n                        {disabled}\r\n                        class=\"form-control\"\r\n                        style=\"width: 100%; display: block; height: 150px;\"\r\n                        rows=\"3\"\r\n                        on:blur={guardarHistoria}\r\n                        bind:value={historia.observaciones}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6\">\r\n                    <div class=\"card m-b-20\">\r\n                        <div class=\"card-header\">\r\n                            <div class=\"card-title\">Fecha y hora</div>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"form-row\">\r\n                                <div\r\n                                    class=\"form-group floating-label col-md-6 show-label\"\r\n                                >\r\n                                    <label for=\"\">Fecha</label>\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        class=\"form-control\"\r\n                                        placeholder=\"Fecha\"\r\n                                        bind:value={fecha}\r\n                                        disabled\r\n                                    />\r\n                                </div>\r\n                                <div\r\n                                    class=\"form-group floating-label col-md-6 show-label\"\r\n                                >\r\n                                    <label for=\"\">Hora</label>\r\n                                    <input\r\n                                        type=\"time\"\r\n                                        placeholder=\"Hora\"\r\n                                        class=\"form-control\"\r\n                                        on:blur={() => console.log(hora)}\r\n                                        bind:value={hora}\r\n                                        disabled\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>\r\n\r\n<ModalDatosPaciente {paciente} {edad} {seguro} />\r\n<ModalTratamientos />\r\n<ModalInterconsulta />\r\n<ModalAntecedentes />\r\n<ModalNuevaCita {pacienteSeleccionado} />\r\n\r\n<style>\r\n    .flotante {\r\n        position: fixed;\r\n        right: 30px;\r\n        bottom: 20px;\r\n    }\r\n    .cargando {\r\n        z-index: 1000;\r\n    }\r\n</style>\r\n",
    "<script>\r\n    import axios from \"axios\";\r\n    import { onMount } from \"svelte\";\r\n    import { url, user } from \"../../util/index\";\r\n\r\n    import Header from \"../../Layout/Header.svelte\";\r\n    import Aside from \"../../Layout/Aside.svelte\";\r\n    import ErrorConexion from \"../../componentes/ErrorConexion.svelte\";\r\n    import NoConexion from \"../../componentes/NoConexion.svelte\";\r\n    import Loading from \"../../componentes/Loading.svelte\";\r\nimport ModalAgregarHorario from \"../../componentes/Modals/ModalAgregarHorario.svelte\";\r\n\r\n    const Toast = Swal.mixin({\r\n        toast: true,\r\n        position: \"top-end\",\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n        timerProgressBar: true,\r\n        didOpen: (toast) => {\r\n            toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n            toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n        },\r\n    });\r\n\r\n    let errorServer = false;\r\n    let serverConexion = false;\r\n    let msgError = \"\";\r\n    let empresa = {};\r\n    let logo = \"\";\r\n    let avatar;\r\n    let cargando = false;\r\n    const dia = {\r\n        0: 'Lunes',\r\n        1: 'Martes',\r\n        2: 'Miercoles',\r\n        3: 'Jueves',\r\n        4: 'Viernes',\r\n        5: 'Sabado',\r\n        6: 'Domingo'\r\n    }\r\n    let horarios = [];\r\n\r\n    const eliminarHorario = (idHorario) => {\r\n        const config = {\r\n            method: 'delete',\r\n            url: `${url}/horarioscitas/${idHorario}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        Swal.fire({\r\n            title: 'Estas seguro?',\r\n            text: \"El horario se va a eliminar definitivamente, pero puedes volver a agregarlo con los cambios que desees!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Si, Eliminar!',\r\n            cancelButtonText: 'Cancelar'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                axios(config)\r\n                    .then(res => {\r\n                        if(res.status === 200) {\r\n                            Toast.fire({\r\n                                icon: 'success',\r\n                                title: 'Se ha eliminado el horario'\r\n                            })\r\n                            cargarHorariosCitas()\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        console.error(err)\r\n                    })\r\n            }\r\n        })\r\n    }\r\n\r\n    const cargarHorariosCitas = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/horarioscitas`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then(res => {\r\n                horarios = res.data\r\n            })\r\n            .catch(err =>{\r\n                console.error(err)\r\n            })\r\n    };\r\n\r\n    const cambiarImagenEmpresa = (e) => {\r\n        let image = e.target.files[0];\r\n        const form = new FormData();\r\n        form.append(\"logo\", image);\r\n        const config = {\r\n            method: \"put\",\r\n            url: `${url}/empresas/${user().empresa}/imagen`,\r\n            data: form,\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    Toast.fire({\r\n                        icon: \"success\",\r\n                        title: \"Se ha cambiado la imagen correctamente\",\r\n                    });\r\n                    cargarEmpresa();\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const editarEmpresa = () => {\r\n        const data = {\r\n            nombre: empresa.nombre,\r\n            especialidades: empresa.especialidades,\r\n            telefono: empresa.telefono,\r\n            correo: empresa.correo,\r\n            direccion: empresa.direccion,\r\n            historiaGinecologica: empresa.historiaGinecologica,\r\n            signosVitales: empresa.signosVitales,\r\n            otrosParametros: empresa.otrosParametros,\r\n            exploracionFisica: empresa.exploracionFisica,\r\n        };\r\n        const config = {\r\n            method: \"put\",\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            data,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    Toast.fire({\r\n                        icon: \"success\",\r\n                        title: \"Empresa actualizada\",\r\n                    });\r\n                    cargarEmpresa();\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\r\n            responseType: \"blob\",\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                return (logo = URL.createObjectURL(res.data));\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const cargarEmpresa = () => {\r\n        cargando = true;\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                cargando = false;\r\n                if (res.status === 200) {\r\n                    empresa = res.data;\r\n                    cargarImagenEmpresa(empresa.id, empresa.logo);\r\n                } else {\r\n                    serverConexion = true;\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                cargando = false;\r\n                serverConexion = true;\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    onMount(() => {\r\n        cargarEmpresa();\r\n        cargarHorariosCitas()\r\n    });\r\n</script>\r\n\r\n<Aside />\r\n\r\n<main class=\"admin-main\">\r\n    <Header />\r\n    {#if serverConexion}\r\n        <NoConexion />\r\n    {/if}\r\n    {#if cargando}\r\n        <div class=\"cargando\">\r\n            <Loading />\r\n        </div>\r\n    {/if}\r\n    <section class=\"admin-content\">\r\n        <button\r\n            type=\"button\"\r\n            class=\"btn m-b-15 ml-2 mr-2 btn-lg btn-rounded-circle btn-success\"\r\n            style=\"position: fixed; bottom: 30px; right: 30px; z-index: 1000\"\r\n            on:click={editarEmpresa}\r\n        >\r\n            <i class=\"mdi mdi-content-save\" />\r\n        </button>\r\n        <div class=\"p-2\">\r\n            <div class=\"col-12\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-12 m-b-20 m-t-20\">\r\n                        <h5><i class=\"mdi mdi-medical-bag\" /> Consultorio</h5>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                        <div class=\"card m-b-30\">\r\n                            <div class=\"card-header\">\r\n                                <h4 class=\"card-title\">Informaci&oacute;n</h4>\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-lg-3\">\r\n                                        <img\r\n                                            src={logo}\r\n                                            class=\"logo-emp\"\r\n                                            alt=\"logo empresa\"\r\n                                        />\r\n                                        <div class=\"col-12 text-center mt-2\">\r\n                                            <label\r\n                                                class=\"btn btn-primary btn-sm\"\r\n                                                for=\"inpSubirImagen\"\r\n                                            >\r\n                                                <i class=\"mdi mdi-refresh\" /> Cambiar\r\n                                                imagen\r\n                                            </label>\r\n                                            <input\r\n                                                style=\"display: none;\"\r\n                                                on:change={cambiarImagenEmpresa}\r\n                                                type=\"file\"\r\n                                                id=\"inpSubirImagen\"\r\n                                                accept=\"image/png, image/jpeg\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-lg-9\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-lg-12\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label for=\"\"\r\n                                                        >Nombre consultorio</label\r\n                                                    >\r\n                                                    <input\r\n                                                        type=\"text\"\r\n                                                        class=\"form-control\"\r\n                                                        bind:value={empresa.nombre}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-lg-12\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label for=\"\"\r\n                                                        >Especialidades</label\r\n                                                    >\r\n                                                    <input\r\n                                                        type=\"text\"\r\n                                                        class=\"form-control\"\r\n                                                        bind:value={empresa.especialidades}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-lg-6\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label for=\"\"\r\n                                                        >Telefono</label\r\n                                                    >\r\n                                                    <input\r\n                                                        type=\"tel\"\r\n                                                        class=\"form-control\"\r\n                                                        bind:value={empresa.telefono}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-lg-6\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label for=\"\">Correo</label>\r\n                                                    <input\r\n                                                        type=\"email\"\r\n                                                        class=\"form-control\"\r\n                                                        bind:value={empresa.correo}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-lg-12\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label for=\"\"\r\n                                                        >Direccion</label\r\n                                                    >\r\n                                                    <input\r\n                                                        type=\"text\"\r\n                                                        class=\"form-control\"\r\n                                                        bind:value={empresa.direccion}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-12\">\r\n                        <div class=\"card m-b-30\">\r\n                            <div class=\"card-header\">\r\n                                <div class=\"card-title\">\r\n                                    <strong>Configurci&oacute;n</strong>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-3\">\r\n                                        <div\r\n                                            class=\"nav flex-column nav-pills\"\r\n                                            id=\"v-pills-tab\"\r\n                                            role=\"tablist\"\r\n                                            aria-orientation=\"vertical\"\r\n                                        >\r\n                                            <a\r\n                                                class=\"nav-link active\"\r\n                                                id=\"v-pills-profile-tab\"\r\n                                                data-toggle=\"pill\"\r\n                                                href=\"#v-pills-profile\"\r\n                                                role=\"tab\"\r\n                                                aria-controls=\"v-pills-profile\"\r\n                                                aria-selected=\"false\"\r\n                                                ><i\r\n                                                    class=\"mdi mdi-calendar-plus\"\r\n                                                /> Horarios de citas</a\r\n                                            >\r\n                                            <a\r\n                                                class=\"nav-link\"\r\n                                                id=\"v-pills-home-tab\"\r\n                                                data-toggle=\"pill\"\r\n                                                href=\"#v-pills-home\"\r\n                                                role=\"tab\"\r\n                                                aria-controls=\"v-pills-home\"\r\n                                                aria-selected=\"true\"\r\n                                                ><i\r\n                                                    class=\"mdi mdi-square-edit-outline\"\r\n                                                /> Historia Clinica</a\r\n                                            >\r\n                                            <!-- <a\r\n                                                class=\"nav-link\"\r\n                                                id=\"v-pills-messages-tab\"\r\n                                                data-toggle=\"pill\"\r\n                                                href=\"#v-pills-messages\"\r\n                                                role=\"tab\"\r\n                                                aria-controls=\"v-pills-messages\"\r\n                                                aria-selected=\"false\"\r\n                                                >Messages</a\r\n                                            >\r\n                                            <a\r\n                                                class=\"nav-link\"\r\n                                                id=\"v-pills-settings-tab\"\r\n                                                data-toggle=\"pill\"\r\n                                                href=\"#v-pills-settings\"\r\n                                                role=\"tab\"\r\n                                                aria-controls=\"v-pills-settings\"\r\n                                                aria-selected=\"false\"\r\n                                                >Settings</a\r\n                                            > -->\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-9\">\r\n                                        <div\r\n                                            class=\"tab-content\"\r\n                                            id=\"v-pills-tabContent\"\r\n                                        >\r\n                                            <div\r\n                                                class=\"tab-pane fade\"\r\n                                                id=\"v-pills-home\"\r\n                                                role=\"tabpanel\"\r\n                                                aria-labelledby=\"v-pills-home-tab\"\r\n                                            >\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-12\">\r\n                                                        <div class=\" m-b-10\">\r\n                                                            <label\r\n                                                                class=\"cstm-switch\"\r\n                                                            >\r\n                                                                <input\r\n                                                                    type=\"checkbox\"\r\n                                                                    bind:checked={empresa.historiaGinecologica}\r\n                                                                    name=\"option\"\r\n                                                                    value=\"1\"\r\n                                                                    class=\"cstm-switch-input\"\r\n                                                                />\r\n                                                                <span\r\n                                                                    class=\"cstm-switch-indicator bg-success \"\r\n                                                                />\r\n                                                                <span\r\n                                                                    class=\"cstm-switch-description\"\r\n                                                                    >Historia\r\n                                                                    Ginecologica</span\r\n                                                                >\r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"col-12\">\r\n                                                        <div class=\" m-b-10\">\r\n                                                            <label\r\n                                                                class=\"cstm-switch\"\r\n                                                            >\r\n                                                                <input\r\n                                                                    type=\"checkbox\"\r\n                                                                    bind:checked={empresa.signosVitales}\r\n                                                                    name=\"option\"\r\n                                                                    value=\"1\"\r\n                                                                    class=\"cstm-switch-input\"\r\n                                                                />\r\n                                                                <span\r\n                                                                    class=\"cstm-switch-indicator bg-success \"\r\n                                                                />\r\n                                                                <span\r\n                                                                    class=\"cstm-switch-description\"\r\n                                                                    >Signos\r\n                                                                    Vitales</span\r\n                                                                >\r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"col-12\">\r\n                                                        <div class=\" m-b-10\">\r\n                                                            <label\r\n                                                                class=\"cstm-switch\"\r\n                                                            >\r\n                                                                <input\r\n                                                                    type=\"checkbox\"\r\n                                                                    bind:checked={empresa.otrosParametros}\r\n                                                                    name=\"option\"\r\n                                                                    value=\"1\"\r\n                                                                    class=\"cstm-switch-input\"\r\n                                                                />\r\n                                                                <span\r\n                                                                    class=\"cstm-switch-indicator bg-success \"\r\n                                                                />\r\n                                                                <span\r\n                                                                    class=\"cstm-switch-description\"\r\n                                                                    >Otros\r\n                                                                    Parametros</span\r\n                                                                >\r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"col-12\">\r\n                                                        <div class=\" m-b-10\">\r\n                                                            <label\r\n                                                                class=\"cstm-switch\"\r\n                                                            >\r\n                                                                <input\r\n                                                                    type=\"checkbox\"\r\n                                                                    bind:checked={empresa.exploracionFisica}\r\n                                                                    name=\"option\"\r\n                                                                    value=\"1\"\r\n                                                                    class=\"cstm-switch-input\"\r\n                                                                />\r\n                                                                <span\r\n                                                                    class=\"cstm-switch-indicator bg-success \"\r\n                                                                />\r\n                                                                <span\r\n                                                                    class=\"cstm-switch-description\"\r\n                                                                    >Exploraci&oacute;n\r\n                                                                    Fisica</span\r\n                                                                >\r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div\r\n                                                class=\"tab-pane fade show active\"\r\n                                                id=\"v-pills-profile\"\r\n                                                role=\"tabpanel\"\r\n                                                aria-labelledby=\"v-pills-profile-tab\"\r\n                                            >\r\n                                                <div class=\"col-lg-12 mt-3\">\r\n                                                    <div class=\"row\">\r\n                                                        <div class=\"col-12 text-right\">\r\n                                                            <button\r\n                                                                class=\"btn btn-outline-primary btn-sm mb-2\"\r\n                                                                data-toggle=\"modal\"\r\n                                                                data-target=\"#modalAgregarHorario\"\r\n                                                            ><i class=\"mdi mdi-plus\"></i> AGREGAR HORARIO</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"table-responsive\">\r\n                                                        <table class=\"table table-hover\">\r\n                                                            <thead>\r\n                                                                <tr>\r\n                                                                    <th>Dia</th>\r\n                                                                    <th>Tanda</th>\r\n                                                                    <th>Cupos</th>\r\n                                                                    <th></th>\r\n                                                                </tr>\r\n                                                            </thead>\r\n                                                            <tbody>\r\n                                                                {#each horarios as horario}\r\n                                                                     <tr>\r\n                                                                         <td>{dia[horario.dia]}</td>\r\n                                                                         <td>{horario.tanda === 'M' ? 'Mañana' : 'Tarde'}</td>\r\n                                                                         <td>{horario.cantidadCitas} personas</td>\r\n                                                                         <td class=\"text-right\">\r\n                                                                             <button\r\n                                                                                title=\"Eliminar\"\r\n                                                                                on:click|preventDefault={() => eliminarHorario(horario.id)} \r\n                                                                                class=\"btn btn-outline-danger btn-sm\">\r\n                                                                                 <i class=\"mdi mdi-trash-can-outline\"></i>\r\n                                                                             </button>\r\n                                                                         </td>\r\n                                                                     </tr>\r\n                                                                {/each}\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <!-- <div\r\n                                                class=\"tab-pane fade\"\r\n                                                id=\"v-pills-messages\"\r\n                                                role=\"tabpanel\"\r\n                                                aria-labelledby=\"v-pills-messages-tab\"\r\n                                            >\r\n                                                <p class=\"opacity-75\">\r\n                                                    Fugiat id quis dolor culpa\r\n                                                    eiusmod anim velit excepteur\r\n                                                    proident dolor aute qui\r\n                                                    magna. Ad proident laboris\r\n                                                    ullamco esse anim Lorem\r\n                                                    Lorem veniam quis Lorem\r\n                                                    irure occaecat velit nostrud\r\n                                                    magna nulla. Velit et et\r\n                                                    proident Lorem do ea tempor\r\n                                                    officia dolor. Reprehenderit\r\n                                                    Lorem aliquip labore est\r\n                                                    magna commodo est ea veniam\r\n                                                    consectetur.\r\n                                                </p>\r\n                                            </div>\r\n                                            <div\r\n                                                class=\"tab-pane fade\"\r\n                                                id=\"v-pills-settings\"\r\n                                                role=\"tabpanel\"\r\n                                                aria-labelledby=\"v-pills-settings-tab\"\r\n                                            >\r\n                                                <p class=\"opacity-75\">\r\n                                                    Eu dolore ea ullamco dolore\r\n                                                    Lorem id cupidatat excepteur\r\n                                                    reprehenderit consectetur\r\n                                                    elit id dolor proident in\r\n                                                    cupidatat officia. Voluptate\r\n                                                    excepteur commodo labore\r\n                                                    nisi cillum duis aliqua do.\r\n                                                    Aliqua amet qui mollit\r\n                                                    consectetur nulla mollit\r\n                                                    velit aliqua veniam nisi id\r\n                                                    do Lorem deserunt amet.\r\n                                                    Culpa ullamco sit\r\n                                                    adipisicing labore officia\r\n                                                    magna elit nisi in aute\r\n                                                    tempor commodo eiusmod.\r\n                                                </p>\r\n                                            </div> -->\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section><br><br>\r\n</main>\r\n<ModalAgregarHorario on:cargarHorariosCitas={cargarHorariosCitas}/>\r\n<style>\r\n    .logo-emp {\r\n        width: 100%;\r\n        height: 200px;\r\n        object-fit: cover;\r\n        border-radius: 10px;\r\n    }\r\n</style>\r\n",
    "<script>\r\n  import { fade } from \"svelte/transition\";\r\n  import { push } from \"svelte-spa-router\";\r\n  import axios from \"axios\";\r\n  import { onMount, tick } from \"svelte\";\r\n  import { url } from \"../../util/index\";\r\n\r\n  import Header from \"../../Layout/Header.svelte\";\r\n  import Aside from \"../../Layout/Aside.svelte\";\r\n  import Evoluciones from \"../../componentes/Evoluciones.svelte\";\r\n  import UltimosVitales from \"../../componentes/UltimosVitales.svelte\";\r\n  import Loading from \"../../componentes/Loading.svelte\";\r\n  import CabeceraPerfil from \"../../componentes/CabeceraPerfil.svelte\";\r\n  import ModalDatosPaciente from \"../../componentes/Modals/ModalDatosPaciente.svelte\";\r\n  import TarjetaAntecedentes from \"../../componentes/TarjetaAntecedentes.svelte\";\r\n\r\n  export let params = \"\";\r\n  let cargando = false;\r\n  let paciente = {};\r\n  let edad = \"\";\r\n  let seguro = \"\";\r\n  let categoriasAntecedentes = [];\r\n  let antecedentes = [];\r\n  let historiasPaciente = [];\r\n  let peso = 0;\r\n  let tipoPeso = '';\r\n  let temperatura = '';\r\n  let tipoTemperatura = '';\r\n  let frecuenciaRespiratoria = '';\r\n  let frecuenciaCardiaca = '';\r\n  let presionAlterial = '';\r\n\r\n  const cargarHistoriasPaciente = async () => {\r\n    try {\r\n      const config = {\r\n      method: \"get\",\r\n      url: `${url}/historias/paciente/${params.id}`,\r\n      headers: {\r\n        'Authorization': `${localStorage.getItem('auth')}` \r\n      }\r\n    };\r\n    let promesa = await axios(config)\r\n        historiasPaciente = promesa.data;\r\n        if(historiasPaciente.length !== 0){          \r\n          peso = promesa.data[0].peso.valor;\r\n          tipoPeso = promesa.data[0].peso.tipo;\r\n          temperatura = promesa.data[0].temperatura.valor;\r\n          tipoTemperatura = promesa.data[0].temperatura.tipo;\r\n          frecuenciaRespiratoria = promesa.data[0].frecuenciaRespiratoria;\r\n          frecuenciaCardiaca = promesa.data[0].frecuenciaCardiaca;\r\n          presionAlterial = `${promesa.data[0].presionAlterial.mm}/${promesa.data[0].presionAlterial.Hg}`;\r\n        }else{\r\n          return false\r\n        }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  };\r\n\r\n  function actualizarAntecedentesPaciente() {\r\n    paciente.antecedentes = antecedentes;\r\n    const config = {\r\n      method: \"put\",\r\n      url: `${url}/pacientes/${paciente.id}`,\r\n      data: paciente,\r\n      headers: {\r\n        'Authorization': `${localStorage.getItem('auth')}` \r\n      }\r\n    };\r\n    axios(config)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  const combinarAntecedentes = () => {\r\n    for (const ant of paciente.antecedentes) {\r\n      if (ant.activo == true) {\r\n        const index = antecedentes.findIndex((x) => x.id === ant.id);\r\n        antecedentes[index].activo = ant.activo;\r\n        antecedentes[index].descripcion = ant.descripcion;\r\n      }\r\n    }\r\n  };\r\n\r\n  function eliminarAntecedente(idAntecedente) {\r\n    const index = antecedentes.findIndex((x) => x.id === idAntecedente);\r\n    antecedentes[index].activo = false;\r\n    actualizarAntecedentesPaciente();\r\n  }\r\n\r\n  function cambiarEstadoAntecedente(idAntecedente) {\r\n    const index = antecedentes.findIndex((x) => x.id === idAntecedente);\r\n    antecedentes[index].activo = true;\r\n    actualizarAntecedentesPaciente();\r\n  }\r\n\r\n  async function cargarAntecedentes() {\r\n    const config = {\r\n      method: \"get\",\r\n      url: `${url}/antecedentes`,\r\n      headers: {\r\n        'Authorization': `${localStorage.getItem('auth')}` \r\n      }\r\n    };\r\n    let promesa = await axios(config);\r\n    if (promesa.status == 200) {\r\n      antecedentes = promesa.data;\r\n    } else {\r\n      console.error(promesa.statusText);\r\n    }\r\n  }\r\n\r\n  function cargarCategoriasAntecedentes() {\r\n    const config = {\r\n      method: \"get\",\r\n      url: `${url}/categorias/antecedentes`,\r\n      headers: {\r\n        'Authorization': `${localStorage.getItem('auth')}` \r\n      }\r\n    };\r\n    axios(config).then((res) => {\r\n      categoriasAntecedentes = res.data;\r\n    });\r\n  }\r\n\r\n  async function cargarPaciente() {\r\n    cargando = true;\r\n    const config = {\r\n      method: \"get\",\r\n      url: `${url}/pacientes/${params.id}`,\r\n      headers: {\r\n        'Authorization': `${localStorage.getItem('auth')}` \r\n      }\r\n    };\r\n    try {\r\n      let promesa = await axios(config);\r\n      if (promesa.status == 200) {\r\n        cargando = false;\r\n        paciente = promesa.data;\r\n        console.log(paciente)\r\n        edad = calcularEdad(paciente.fechaNacimiento);\r\n        if(paciente.seguroMedico.length !== 0) {\r\n          seguro = paciente.seguroMedico[0].nombre;\r\n        }\r\n        else\r\n        {\r\n          seguro = \"N/A\"\r\n        }\r\n      }\r\n    } catch (error) {\r\n      cargando = false;\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  function calcularEdad(fecha) {\r\n    var hoy = new Date();\r\n    var cumpleanos = new Date(fecha);\r\n    var edad = hoy.getFullYear() - cumpleanos.getFullYear();\r\n    var m = hoy.getMonth() - cumpleanos.getMonth();\r\n\r\n    if (m < 0 || (m === 0 && hoy.getDate() < cumpleanos.getDate())) {\r\n      edad--;\r\n    }\r\n\r\n    return edad;\r\n  }\r\n\r\n  onMount(async () => {\r\n    jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n    await cargarPaciente();\r\n    await cargarAntecedentes();\r\n    await cargarHistoriasPaciente();\r\n    cargarCategoriasAntecedentes();\r\n    combinarAntecedentes();\r\n  });\r\n</script>\r\n\r\n<Aside />\r\n\r\n<main class=\"admin-main\" in:fade={{ duration: 300 }}>\r\n  {#if cargando}\r\n    <div class=\"cargando\">\r\n      <Loading/>\r\n    </div>\r\n  {/if}\r\n  <Header />\r\n  <section class=\"admin-content\">\r\n    <section class=\"admin-content\">\r\n      <CabeceraPerfil\r\n        bind:cargando={cargando}\r\n        bind:edad\r\n        bind:nombres={paciente.nombres}\r\n        bind:apellidos={paciente.apellidos}\r\n        bind:cedula={paciente.cedula}\r\n        bind:id={paciente.id}\r\n        bind:sexo={paciente.sexo}\r\n        bind:embarazada={paciente.embarazada}\r\n        {paciente}\r\n      />\r\n      <div class=\"pull-up\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-3 order-lg-1 order-sm-3\">\r\n              <UltimosVitales\r\n                peso={peso ?? 0}\r\n                tipoPeso={tipoPeso}\r\n                temperatura={temperatura}\r\n                tipoTemperatura={tipoTemperatura}\r\n                {frecuenciaRespiratoria}\r\n                {frecuenciaCardiaca}\r\n                {presionAlterial}\r\n              /><!--.signos vitales-->\r\n              <!-- <div class=\"card m-b-30\">\r\n                <div class=\"card-header\">\r\n                  <h5 class=\"m-b-0\">Archivos o Documentos</h5>\r\n                  <p class=\"m-b-0 mt-2 text-muted\">\r\n                    Puede subir documentos del paciente, como fotos de\r\n                    laboratorios, recetas entre otros.\r\n                  </p>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  <form class=\"dropzone dz-clickable\" action=\"/\">\r\n                    <div class=\"dz-message\">\r\n                      <h1 class=\"display-4\">\r\n                        <i class=\" mdi mdi-progress-upload\" />\r\n                      </h1>\r\n                      Puede arrastrar el documento a esta zona.<br />\r\n                      <div class=\"p-t-5\">\r\n                        <a href=\"#!\" class=\"btn btn-lg btn-primary\"\r\n                          >Subir Archivo</a\r\n                        >\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                  <br />\r\n\r\n                  <div class=\"list-group list-group-flush \">\r\n                    <div class=\"list-group-item d-flex  align-items-center\">\r\n                      <div class=\"m-r-20\">\r\n                        <div class=\"avatar avatar-sm \">\r\n                          <div class=\"avatar-title bg-dark rounded\">\r\n                            <i class=\"mdi mdi-24px mdi-file-pdf\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"\">\r\n                        <div>SRS Document</div>\r\n                        <div class=\"text-muted\">25.5 Mb</div>\r\n                      </div>\r\n\r\n                      <div class=\"ml-auto\">\r\n                        <div class=\"dropdown\">\r\n                          <a\r\n                            href=\"#!\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                          >\r\n                            <i class=\"mdi  mdi-dots-vertical mdi-18px\" />\r\n                          </a>\r\n\r\n                          <div class=\"dropdown-menu dropdown-menu-right\">\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                              >Action</button\r\n                            >\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                              >Another action</button\r\n                            >\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                              >Something else here</button\r\n                            >\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"list-group-item d-flex  align-items-center\">\r\n                      <div class=\"m-r-20\">\r\n                        <div class=\"avatar avatar-sm \">\r\n                          <div class=\"avatar-title bg-dark rounded\">\r\n                            <i class=\"mdi mdi-24px mdi-file-document-box\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"\">\r\n                        <div>Design Guide.pdf</div>\r\n                        <div class=\"text-muted\">9 Mb</div>\r\n                      </div>\r\n\r\n                      <div class=\"ml-auto\">\r\n                        <div class=\"dropdown\">\r\n                          <a\r\n                            href=\"#!\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                          >\r\n                            <i class=\"mdi  mdi-dots-vertical mdi-18px\" />\r\n                          </a>\r\n\r\n                          <div class=\"dropdown-menu dropdown-menu-right\">\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                              >Action</button\r\n                            >\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                              >Another action</button\r\n                            >\r\n                            <button class=\"dropdown-item\" type=\"button\"\r\n                              >Something else here</button\r\n                            >\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div> -->\r\n            </div>\r\n\r\n            <div class=\"col-md-5 order-2 order-sm-1\">\r\n              <div class=\"card m-b-30\">\r\n                <div class=\"card-header\">\r\n                  <div class=\"avatar mr-2 avatar-xs\">\r\n                    <div class=\"avatar-title bg-dark rounded-circle\">\r\n                      <i class=\"mdi mdi-progress-check mdi-18px\" />\r\n                    </div>\r\n                  </div>\r\n                  Historial atenciones\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  {#each historiasPaciente as historia}\r\n                    {#if historia.activo}\r\n                      <!-- content here -->\r\n                      <Evoluciones\r\n                        usuario={historia.usuario}\r\n                        idPaciente={paciente.id}\r\n                        id={historia.id}\r\n                        fecha={historia.fechaHora}\r\n                        motivo={historia.motivoConsulta}\r\n                        historia={historia.historiaEnfermedad}\r\n                      />\r\n                    {/if}\r\n                  {/each}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!--.antecedentes columna-->\r\n\r\n            <div class=\"col-md-4 order-lg-12 order-sm-2\">\r\n              <div class=\"card m-b-30\">\r\n                <div class=\"card-header\">\r\n                  <div class=\"avatar mr-2 avatar-xs\">\r\n                    <div class=\"avatar-title bg-dark rounded-circle\">\r\n                      <i\r\n                        on:click={combinarAntecedentes}\r\n                        class=\"mdi mdi-history mdi-18px\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <span>Antecedentes &nbsp;</span><button\r\n                    class=\"btn btn-outline-primary btn-sm\"\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#modalAntecedentes\"\r\n                    ><i class=\"mdi mdi-plus\" /> CAMBIAR &nbsp;\r\n                  </button>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  <div class=\"atenciones-vnc mb-3\">\r\n                    {#each categoriasAntecedentes as categoria}\r\n                      <!-- content here -->\r\n                      <TarjetaAntecedentes\r\n                        bind:id={categoria.id}\r\n                        bind:nombre={categoria.nombre}\r\n                        bind:antecedentes={paciente.antecedentes}\r\n                      />\r\n                    {/each}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- <div class=\"card m-b-30\">\r\n                <div class=\" card-header\">\r\n                  <div class=\"avatar mr-2 avatar-xs\">\r\n                    <div class=\"avatar-title bg-dark rounded-circle\">\r\n                      <i class=\"mdi mdi-comment-account-outline mdi-18px\" />\r\n                    </div>\r\n                  </div>\r\n                  Medicamentos en uso\r\n                </div>\r\n\r\n                <div class=\"col-12\">\r\n                  <div class=\"form-group buscardor dropdown\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      name=\"\"\r\n                      id=\"\"\r\n                      data-toggle=\"dropdown\"\r\n                      aria-haspopup=\"true\"\r\n                      aria-expanded=\"false\"\r\n                    />\r\n                    <ul class=\"lista-buscador dropdown-menu\" id=\"buscador\">\r\n                      <div class=\"contenidoLista\">\r\n                        <li>\r\n                          <a href=\"#!\">Metrocaps</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href=\"#!\">Albendazol</a>\r\n                        </li>\r\n                      </div>\r\n                      <li class=\"defecto\">\r\n                        <a href=\"#!\"\r\n                          ><i class=\"mdi mdi-plus\" /> Agregar manualmente</a\r\n                        >\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                  <div\r\n                    class=\"alert alert-secondary alert-dismissible fade show\"\r\n                    role=\"alert\"\r\n                  >\r\n                    AirPlus\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"close\"\r\n                      data-dismiss=\"alert\"\r\n                      aria-label=\"Close\"\r\n                    >\r\n                      <span aria-hidden=\"true\">×</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div> -->\r\n            </div>\r\n            <!--.citas columna-->\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--.pull-on-->\r\n    </section>\r\n\r\n    <ModalDatosPaciente {paciente} {edad} {seguro} />\r\n\r\n    <!--modal antecedentes-->\r\n    <div\r\n      class=\"modal fade modal-slide-right\"\r\n      id=\"modalAntecedentes\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"modalAntecedentes\"\r\n      style=\"display: none;\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"modalAntecedentes\">Antecedentes</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">×</span>\r\n            </button>\r\n            <div style=\"margin-right: 40px;\">\r\n              <div class=\"guardar-documento\">\r\n                <div\r\n                  class=\"guardando mr-2 text-success\"\r\n                  data-bind=\"html: content, class: contentClass\"\r\n                >\r\n                  <i class=\"mdi mdi-check-all\" /> <i>listo y guardado</i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\" data-bind=\"foreach: gruposAntecedentes\">\r\n                {#each categoriasAntecedentes as categoria}\r\n                  <div\r\n                    class=\"card  m-b-30\"\r\n                    style=\"box-shadow: none; border: #32325d solid 1px;\"\r\n                  >\r\n                    <div class=\"card-header\">\r\n                      <div class=\"card-title\" data-bind=\"text: nombre\">\r\n                        {categoria.nombre}\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                      <div\r\n                        class=\"botones-antecedentes\"\r\n                        data-bind=\"foreach: tiposAntecedentesFiltrados\"\r\n                      >\r\n                        {#each antecedentes as antecedente}\r\n                          {#if antecedente.categoria.id === categoria.id}\r\n                            {#if antecedente.activo === false}\r\n                              <!-- content here -->\r\n                              <button\r\n                                type=\"button\"\r\n                                class=\"btn btn-outline-primary btn-sm mb-1 mr-2\"\r\n                                style=\"box-shadow: none;\"\r\n                                on:click={() =>\r\n                                  cambiarEstadoAntecedente(antecedente.id)}\r\n                                ><i class=\"mdi mdi-plus\" />\r\n                                <span data-bind=\"text: nombre\"\r\n                                  >{antecedente.nombre}</span\r\n                                >\r\n                              </button>\r\n                            {/if}\r\n                          {/if}\r\n                        {/each}\r\n                      </div>\r\n                      <div class=\"row\">\r\n                        <div class=\"col-12\">\r\n                          <div class=\"row\">\r\n                            <div\r\n                              class=\"col-lg-12\"\r\n                              data-bind=\"foreach: antecedentesFiltrados\"\r\n                            >\r\n                              {#each antecedentes as antecedente}\r\n                                {#if antecedente.categoria.id === categoria.id}\r\n                                  {#if antecedente.activo === true}\r\n                                    <!-- content here -->\r\n                                    <div\r\n                                      class=\"card m-b-20 mt-3\"\r\n                                      style=\"box-shadow: none; border: 1px grey solid;\"\r\n                                    >\r\n                                      <div class=\"card-header\">\r\n                                        <div class=\"card-title\">\r\n                                          <i class=\"mdi mdi-history mdi-18px\" />\r\n                                          <span data-bind=\"text: nombre\"\r\n                                            >{antecedente.nombre}</span\r\n                                          >\r\n                                        </div>\r\n                                      </div>\r\n                                      <div class=\"card-controls\">\r\n                                        <div class=\"dropdown\">\r\n                                          <a\r\n                                            href=\"/\"\r\n                                            data-toggle=\"dropdown\"\r\n                                            aria-haspopup=\"true\"\r\n                                            aria-expanded=\"false\"\r\n                                          >\r\n                                            <i\r\n                                              class=\"icon mdi  mdi-dots-vertical\"\r\n                                            />\r\n                                          </a>\r\n                                          <div\r\n                                            class=\"dropdown-menu dropdown-menu-right\"\r\n                                          >\r\n                                            <button\r\n                                              class=\"dropdown-item text-danger\"\r\n                                              on:click={() =>\r\n                                                eliminarAntecedente(\r\n                                                  antecedente.id\r\n                                                )}\r\n                                              type=\"button\"\r\n                                              ><i\r\n                                                class=\"mdi mdi-trash-can-outline\"\r\n                                              />\r\n                                              Eliminar</button\r\n                                            >\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                      <div class=\"card-body\">\r\n                                        <textarea\r\n                                          class=\"form-control\"\r\n                                          bind:value={antecedente.descripcion}\r\n                                          on:blur={actualizarAntecedentesPaciente}\r\n                                          style=\"width: 100%; display: block; height: 100px;\"\r\n                                          id=\"exampleFormControlTextarea1\"\r\n                                          rows=\"5\"\r\n                                          name=\"Comentario\"\r\n                                        />\r\n                                      </div>\r\n                                    </div>\r\n                                  {/if}\r\n                                {/if}\r\n                              {/each}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                {/each}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--.modal antecedentes-->\r\n  </section>\r\n</main>\r\n\r\n<style>\r\n  .cargando{\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(255, 255, 255, 0.9);\r\n    z-index: 1000;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .lista-buscador {\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    background-color: white;\r\n    width: 100% !important;\r\n    border-bottom-left-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n    border-top-left-radius: 0px;\r\n    border-top-right-radius: 0px;\r\n  }\r\n</style>\r\n",
    "<script>\r\n    import axios from \"axios\";\r\n    import { onMount } from \"svelte\";\r\n    import { calcularEdad, url, user } from \"../../util/index\";\r\n  \r\n    import Header from \"../../Layout/Header.svelte\";\r\n    import Aside from \"../../Layout/Aside.svelte\";\r\n    import ErrorConexion from '../../componentes/ErrorConexion.svelte';\r\n\r\n    export let params;\r\n\r\n    let errorServer = false;\r\n    let paciente = {};\r\n    let historia = {};\r\n    let empresa = {};\r\n    let estudios = [];\r\n    let logo = '';\r\n\r\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\r\n            responseType:\"blob\", \r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n        .then(res => {\r\n            logo = URL.createObjectURL(res.data)\r\n            console.log(logo)\r\n        })\r\n        .catch(err => {\r\n            console.error(err)\r\n        })\r\n    }\r\n\r\n    const cargarPaciente = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/pacientes/${params.idPaciente}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                paciente = res.data;\r\n                console.log(paciente)\r\n            })\r\n    }\r\n\r\n    const cargarHistoria = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/historias/${params.idHistoria}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                historia = res.data;\r\n                estudios = res.data.estudios;\r\n                console.log(historia)\r\n            })\r\n    }\r\n\r\n    const cargarEmpresa = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                empresa = res.data;\r\n                cargarImagenEmpresa(empresa.id, empresa.logo)\r\n                console.log(empresa)\r\n            })\r\n    }\r\n  \r\n    onMount(() => {\r\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n        cargarPaciente()\r\n        cargarHistoria()\r\n        cargarEmpresa()\r\n    });\r\n  </script>\r\n  \r\n  <Aside />\r\n  \r\n  <main class=\"admin-main\">\r\n    <Header />\r\n    {#if errorServer}\r\n      <ErrorConexion msgError={'msgError'}/>\r\n    {/if}\r\n    <section class=\"admin-content \">\r\n        <div class=\"bg-dark m-b-30\">\r\n            <div class=\"container\">\r\n                <div class=\"row p-b-60 p-t-60\">\r\n\r\n                    <div class=\"col-md-6 text-white p-b-30\">\r\n                        <div class=\"media\">\r\n                            <div class=\"avatar avatar mr-3\">\r\n                                <div class=\"avatar-title bg-success rounded-circle mdi mdi-receipt  \">\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"media-body\">\r\n                                <div class=\"opacity-75\">Para:</div>\r\n                                <h4 class=\"m-b-0\">{paciente.nombres} {paciente.apellidos} </h4>\r\n                                <p class=\"opacity-75\">\r\n                                    ID Consulta #{historia.id} <br>\r\n                                    Fecha Consulta : {new Date(historia.createdAt).toLocaleDateString('es-DO')}\r\n                                </p>\r\n                                <button class=\"btn btn-white-translucent\" id=\"printDiv\"> <i class=\"mdi\r\n                                mdi-printer\"></i>\r\n                                    Imprimir</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!-- <div class=\"col-md-5 text-center m-b-30 ml-auto\">\r\n                        <div class=\"rounded text-white bg-white-translucent\">\r\n                            <div class=\"p-all-15\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6 my-2 m-md-0\">\r\n                                        <div class=\"text-overline    opacity-75\">amount received</div>\r\n                                        <h3 class=\"m-0 text-success\">$1500</h3>\r\n                                    </div>\r\n                                    <div class=\"col-md-6 my-2 m-md-0\">\r\n\r\n                                        <div class=\"text-overline    opacity-75\">amount pending</div>\r\n                                        <h3 class=\"m-0 text-danger\">$32,590</h3>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"pull-up\">\r\n            <div class=\"container\" id=\"printableArea\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 m-b-40\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-12 empresa-datos\">\r\n                                        <img src={logo} class=\"logo\" alt=\"\">\r\n                                        <div class=\"m-t-10\">\r\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\r\n                                            {empresa.especialidades || ''} <br>\r\n                                            {empresa.direccion} <br>\r\n                                            Tel.: {empresa.telefono} <br>\r\n                                            {empresa.correo} <br>\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"bg-light cabecera\">\r\n                                    <div>Estudios de laboratorios</div>\r\n                                </div>\r\n                                <hr style=\"margin: 0\">\r\n                                <div class=\"col-12\">\r\n                                   <div class=\"row mt-3 mb-3 contenedor-estudios\">\r\n                                       {#each estudios as estudio}\r\n                                           {#if estudio.tipo === 'LAB'}\r\n                                               <div class=\"col-lg-3 mb-3 estudio\">\r\n                                                   {estudio.descripcion}\r\n                                               </div>\r\n                                           {/if}\r\n                                       {/each}\r\n                                   </div>\r\n                                </div>\r\n                                {#if historia.instrucciones}\r\n                                <div class=\"bg-light pie\">\r\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\r\n                                </div>\r\n                                {/if}\r\n\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n\r\n                                    </div>\r\n                                    <div class=\"col-md-6 text-right my-auto\">\r\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\r\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\r\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"firma\">\r\n                                    <hr>\r\n                                    <p style=\"margin-bottom: 0;\">Firma del especialista</p>\r\n                                    <p><strong>{user().title}. {user().name}</strong></p>\r\n                                </div>\r\n                                <!-- <div class=\"p-t-10 p-b-20\">\r\n\r\n                                    <hr>\r\n                                    <div class=\"text-center opacity-75\">\r\n                                        © nextcom {new Date().getFullYear()}\r\n                                    </div>\r\n                                </div> -->\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </section>\r\n  </main>\r\n  <style>\r\n      .empresa-datos{\r\n          display: flex;\r\n          flex-direction: row;\r\n          margin-bottom: 20px;\r\n\r\n      }\r\n      .logo{\r\n          max-height: 150px !important;\r\n          margin-right: 15px;\r\n      }\r\n      .firma{\r\n          margin: 0 auto;\r\n          text-align: center;\r\n          width: 200px;\r\n          margin-top: 80px;\r\n      }\r\n      .cabecera, .pie{\r\n          padding: 10px;\r\n      }\r\n      .cabecera{\r\n          font-size: 1.1rem;\r\n          font-weight: bold;\r\n      }\r\n      .pie{\r\n          margin-bottom: 20px;\r\n      }\r\n      @media print{\r\n        .contenedor-estudios{\r\n            display: flex;\r\n            flex-direction: row;\r\n        }\r\n        .estudio{\r\n            width: 25%;\r\n        }\r\n        html, body{\r\n            background-color: transparent !important;\r\n        }\r\n      }\r\n  </style>",
    "<script>\r\n    import axios from \"axios\";\r\n    import { onMount } from \"svelte\";\r\n    import { calcularEdad, url, user } from \"../../util/index\";\r\n  \r\n    import Header from \"../../Layout/Header.svelte\";\r\n    import Aside from \"../../Layout/Aside.svelte\";\r\n    import ErrorConexion from '../../componentes/ErrorConexion.svelte';\r\n\r\n    export let params;\r\n\r\n    let errorServer = false;\r\n    let paciente = {};\r\n    let historia = {};\r\n    let empresa = {};\r\n    let estudios = [];\r\n    let logo = '';\r\n\r\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\r\n            responseType:\"blob\", \r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n        .then(res => {\r\n            logo = URL.createObjectURL(res.data)\r\n            console.log(logo)\r\n        })\r\n        .catch(err => {\r\n            console.error(err)\r\n        })\r\n    }\r\n\r\n    const cargarPaciente = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/pacientes/${params.idPaciente}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                paciente = res.data;\r\n                console.log(paciente)\r\n            })\r\n    }\r\n\r\n    const cargarHistoria = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/historias/${params.idHistoria}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                historia = res.data;\r\n                estudios = res.data.estudios;\r\n                console.log(historia)\r\n            })\r\n    }\r\n\r\n    const cargarEmpresa = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                empresa = res.data;\r\n                cargarImagenEmpresa(empresa.id, empresa.logo)\r\n                console.log(empresa)\r\n            })\r\n    }\r\n  \r\n    onMount(() => {\r\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n        cargarPaciente()\r\n        cargarHistoria()\r\n        cargarEmpresa()\r\n        window.onafterprint = (event) => {\r\n            location.reload()\r\n        };\r\n    });\r\n  </script>\r\n  \r\n  <Aside />\r\n  \r\n  <main class=\"admin-main\">\r\n    <Header />\r\n    {#if errorServer}\r\n      <ErrorConexion msgError={'msgError'}/>\r\n    {/if}\r\n    <section class=\"admin-content \">\r\n        <div class=\"bg-dark m-b-30\">\r\n            <div class=\"container\">\r\n                <div class=\"row p-b-60 p-t-60\">\r\n\r\n                    <div class=\"col-md-6 text-white p-b-30\">\r\n                        <div class=\"media\">\r\n                            <div class=\"avatar avatar mr-3\">\r\n                                <div class=\"avatar-title bg-success rounded-circle mdi mdi-receipt  \">\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"media-body\">\r\n                                <div class=\"opacity-75\">Para:</div>\r\n                                <h4 class=\"m-b-0\">{paciente.nombres} {paciente.apellidos} </h4>\r\n                                <p class=\"opacity-75\">\r\n                                    ID Consulta #{historia.id} <br>\r\n                                    Fecha Consulta : {new Date(historia.createdAt).toLocaleDateString('es-DO')}\r\n                                </p>\r\n                                <button class=\"btn btn-white-translucent\" id=\"printDiv\"> <i class=\"mdi\r\n                                mdi-printer\"></i>\r\n                                    Imprimir</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!-- <div class=\"col-md-5 text-center m-b-30 ml-auto\">\r\n                        <div class=\"rounded text-white bg-white-translucent\">\r\n                            <div class=\"p-all-15\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6 my-2 m-md-0\">\r\n                                        <div class=\"text-overline    opacity-75\">amount received</div>\r\n                                        <h3 class=\"m-0 text-success\">$1500</h3>\r\n                                    </div>\r\n                                    <div class=\"col-md-6 my-2 m-md-0\">\r\n\r\n                                        <div class=\"text-overline    opacity-75\">amount pending</div>\r\n                                        <h3 class=\"m-0 text-danger\">$32,590</h3>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"pull-up\">\r\n            <div class=\"container\" id=\"printableArea\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 m-b-40\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-12 empresa-datos\">\r\n                                        <img src={logo} class=\"logo\" alt=\"\">\r\n                                        <div class=\"m-t-10\">\r\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\r\n                                            {empresa.especialidades || ''} <br>\r\n                                            {empresa.direccion} <br>\r\n                                            Tel.: {empresa.telefono} <br>\r\n                                            {empresa.correo} <br>\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"bg-light cabecera\">\r\n                                    <div>Estudios de imagenes</div>\r\n                                </div>\r\n                                <hr style=\"margin: 0\">\r\n                                <div class=\"col-12\">\r\n                                   <div class=\"row mt-3 mb-3 contenedor-estudios\">\r\n                                       {#each estudios as estudio}\r\n                                           {#if estudio.tipo === 'IMG'}\r\n                                               <div class=\"col-lg-3 mb-3 estudio\">\r\n                                                   {estudio.descripcion}\r\n                                               </div>\r\n                                           {/if}\r\n                                       {/each}\r\n                                   </div>\r\n                                </div>\r\n                                {#if historia.instrucciones}\r\n                                <div class=\"bg-light pie\">\r\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\r\n                                </div>\r\n                                {/if}\r\n\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n\r\n                                    </div>\r\n                                    <div class=\"col-md-6 text-right my-auto\">\r\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\r\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\r\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"firma\">\r\n                                    <hr>\r\n                                    <p style=\"margin-bottom: 0;\">Firma del especialista</p>\r\n                                    <p><strong>{user().title}. {user().name}</strong></p>\r\n                                </div>\r\n                                <!-- <div class=\"p-t-10 p-b-20\">\r\n\r\n                                    <hr>\r\n                                    <div class=\"text-center opacity-75\">\r\n                                        © nextcom {new Date().getFullYear()}\r\n                                    </div>\r\n                                </div> -->\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </section>\r\n  </main>\r\n  <style>\r\n      .empresa-datos{\r\n          display: flex;\r\n          flex-direction: row;\r\n          margin-bottom: 20px;\r\n      }\r\n      .logo{\r\n          max-height: 150px !important;\r\n          margin-right: 15px;\r\n      }\r\n      .firma{\r\n          margin: 0 auto;\r\n          text-align: center;\r\n          width: 200px;\r\n          margin-top: 80px;\r\n      }\r\n      .cabecera, .pie{\r\n          padding: 10px;\r\n      }\r\n      .cabecera{\r\n          font-size: 1.1rem;\r\n          font-weight: bold;\r\n      }\r\n      .pie{\r\n          margin-bottom: 20px;\r\n      }\r\n      @media print{\r\n        .contenedor-estudios{\r\n            display: flex;\r\n            flex-direction: row;\r\n        }\r\n        .estudio{\r\n            width: 25%;\r\n        }\r\n        html, body{\r\n            background-color: transparent !important;\r\n        }\r\n      }\r\n  </style>",
    "<script>\r\n    import axios from \"axios\";\r\n    import { onMount } from \"svelte\";\r\n    import { calcularEdad, url, user } from \"../../util/index\";\r\n  \r\n    import Header from \"../../Layout/Header.svelte\";\r\n    import Aside from \"../../Layout/Aside.svelte\";\r\n    import ErrorConexion from '../../componentes/ErrorConexion.svelte';\r\n\r\n    export let params;\r\n\r\n    let errorServer = false;\r\n    let paciente = {};\r\n    let historia = {};\r\n    let empresa = {};\r\n    let estudios = [];\r\n    let medicamentos = [];\r\n    let logo = '';\r\n\r\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\r\n            responseType:\"blob\", \r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n        .then(res => {\r\n            logo = URL.createObjectURL(res.data)\r\n            console.log(logo)\r\n        })\r\n        .catch(err => {\r\n            console.error(err)\r\n        })\r\n    }\r\n\r\n    const cargarPaciente = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/pacientes/${params.idPaciente}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                paciente = res.data;\r\n                console.log(paciente)\r\n            })\r\n    }\r\n\r\n    const cargarHistoria = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/historias/${params.idHistoria}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                historia = res.data;\r\n                estudios = res.data.estudios;\r\n                medicamentos = res.data.medicamentos\r\n                console.log(historia)\r\n            })\r\n    }\r\n\r\n    const cargarEmpresa = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                empresa = res.data;\r\n                cargarImagenEmpresa(empresa.id, empresa.logo)\r\n                console.log(empresa)\r\n            })\r\n    }\r\n  \r\n    onMount(() => {\r\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n        cargarPaciente()\r\n        cargarHistoria()\r\n        cargarEmpresa()\r\n        window.onafterprint = (event) => {\r\n            location.reload()\r\n        };\r\n    });\r\n  </script>\r\n  \r\n  <Aside />\r\n  \r\n  <main class=\"admin-main\">\r\n    <Header />\r\n    {#if errorServer}\r\n      <ErrorConexion msgError={'msgError'}/>\r\n    {/if}\r\n    <section class=\"admin-content \">\r\n        <div class=\"bg-dark m-b-30\">\r\n            <div class=\"container\">\r\n                <div class=\"row p-b-60 p-t-60\">\r\n\r\n                    <div class=\"col-md-6 text-white p-b-30\">\r\n                        <div class=\"media\">\r\n                            <div class=\"avatar avatar mr-3\">\r\n                                <div class=\"avatar-title bg-success rounded-circle mdi mdi-receipt  \">\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"media-body\">\r\n                                <div class=\"opacity-75\">Para:</div>\r\n                                <h4 class=\"m-b-0\">{paciente.nombres} {paciente.apellidos} </h4>\r\n                                <p class=\"opacity-75\">\r\n                                    ID Consulta #{historia.id} <br>\r\n                                    Fecha Consulta : {new Date(historia.createdAt).toLocaleDateString('es-DO')}\r\n                                </p>\r\n                                <button class=\"btn btn-white-translucent\" id=\"printDiv\"> <i class=\"mdi\r\n                                mdi-printer\"></i>\r\n                                    Imprimir</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"pull-up\">\r\n            <div class=\"container\" id=\"printableArea\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 m-b-40\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n                                        <img src={logo} class=\"logo\" alt=\"\">\r\n                                        <address class=\"m-t-10\">\r\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\r\n                                            {empresa.especialidades || ''} <br>\r\n                                            {empresa.direccion} <br>\r\n                                            Tel.: {empresa.telefono} <br>\r\n                                            {empresa.correo} <br>\r\n\r\n\r\n                                        </address>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"bg-light cabecera\">\r\n                                    <div>Estudios de laboratorios</div>\r\n                                </div>\r\n                                <hr style=\"margin: 0\">\r\n                                <div class=\"col-12\">\r\n                                   <div class=\"row mt-3 mb-3 contenedor-estudios\">\r\n                                       {#each estudios as estudio}\r\n                                           {#if estudio.tipo === 'LAB'}\r\n                                               <div class=\"col-lg-3 mb-3 estudio\">\r\n                                                   {estudio.descripcion}\r\n                                               </div>\r\n                                           {/if}\r\n                                       {/each}\r\n                                   </div>\r\n                                </div>\r\n                                {#if historia.instrucciones}\r\n                                <div class=\"bg-light pie\">\r\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\r\n                                </div>\r\n                                {/if}\r\n\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n\r\n                                    </div>\r\n                                    <div class=\"col-md-6 text-right my-auto\">\r\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\r\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\r\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"firma\">\r\n                                    <hr>\r\n                                    <p>Firma del especialista</p>\r\n                                    <p><strong>{user().title}. {user().name}</strong></p>\r\n                                </div>\r\n                                <div class=\"p-t-10 p-b-20\">\r\n\r\n                                    <hr>\r\n                                    <div class=\"text-center opacity-75\">\r\n                                        © nextcom {new Date().getFullYear()}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"saltopagina\"></div>\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 m-b-40\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n                                        <img src={logo} class=\"logo\" alt=\"\">\r\n                                        <address class=\"m-t-10\">\r\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\r\n                                            {empresa.especialidades || ''} <br>\r\n                                            {empresa.direccion} <br>\r\n                                            Tel.: {empresa.telefono} <br>\r\n                                            {empresa.correo} <br>\r\n\r\n\r\n                                        </address>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"bg-light cabecera\">\r\n                                    <div>Estudios de imagenes</div>\r\n                                </div>\r\n                                <hr style=\"margin: 0\">\r\n                                <div class=\"col-12\">\r\n                                   <div class=\"row mt-3 mb-3 contenedor-estudios\">\r\n                                       {#each estudios as estudio}\r\n                                           {#if estudio.tipo === 'IMG'}\r\n                                               <div class=\"col-lg-3 mb-3 estudio\">\r\n                                                   {estudio.descripcion}\r\n                                               </div>\r\n                                           {/if}\r\n                                       {/each}\r\n                                   </div>\r\n                                </div>\r\n                                {#if historia.instrucciones}\r\n                                <div class=\"bg-light pie\">\r\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\r\n                                </div>\r\n                                {/if}\r\n\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n\r\n                                    </div>\r\n                                    <div class=\"col-md-6 text-right my-auto\">\r\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\r\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\r\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"firma\">\r\n                                    <hr>\r\n                                    <p>Firma del especialista</p>\r\n                                    <p><strong>{user().title}. {user().name}</strong></p>\r\n                                </div>\r\n                                <div class=\"p-t-10 p-b-20\">\r\n\r\n                                    <hr>\r\n                                    <div class=\"text-center opacity-75\">\r\n                                        © nextcom {new Date().getFullYear()}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"saltopagina\"></div>\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 m-b-40\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n                                        <img src={logo} class=\"logo\" alt=\"\">\r\n                                        <address class=\"m-t-10\">\r\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\r\n                                            {empresa.especialidades || ''} <br>\r\n                                            {empresa.direccion} <br>\r\n                                            Tel.: {empresa.telefono} <br>\r\n                                            {empresa.correo} <br>\r\n\r\n\r\n                                        </address>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"bg-light cabecera\">\r\n                                    <div>Receta</div>\r\n                                </div>\r\n                                <hr style=\"margin: 0\">\r\n                                <div class=\"table-responsive \">\r\n                                    <table class=\"table m-t-50\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th class=\"\">Medicamento</th>\r\n                                            <th class=\"text-center\">Cantidad</th>\r\n                                            <th class=\"text-center\">Frecuencia</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {#each medicamentos as medicamento}\r\n                                            <tr>\r\n                                                <td class=\"\">\r\n                                                    <p class=\"text-black m-0\">{medicamento.nombre}</p>\r\n                                                    <p class=\"text-muted\" style=\"padding-bottom: 0; margin-bottom: 0;\">\r\n                                                        De {medicamento.concentracion}\r\n                                                    </p>\r\n                                                </td>\r\n                                                <td class=\"text-center\">{medicamento.cantidad}</td>\r\n                                                <td class=\"text-center\">{medicamento.frecuencia}</td>\r\n                                            </tr>\r\n                                        {/each}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                {#if historia.instrucciones}\r\n                                <div class=\"bg-light pie\">\r\n                                    <div><strong>Observaciones:</strong> {historia.instrucciones}</div>\r\n                                </div>\r\n                                {/if}\r\n\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n\r\n                                    </div>\r\n                                    <div class=\"col-md-6 text-right my-auto\">\r\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\r\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\r\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"firma\">\r\n                                    <hr>\r\n                                    <p>Firma del especialista</p>\r\n                                    <p><strong>{user().title}. {user().name}</strong></p>\r\n                                </div>\r\n                                <div class=\"p-t-10 p-b-20\">\r\n\r\n                                    <hr>\r\n                                    <div class=\"text-center opacity-75\">\r\n                                        © nextcom {new Date().getFullYear()}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </section>\r\n\r\n    \r\n  </main>\r\n  <style>\r\n@media all {\r\n    div.saltopagina{\r\n        display: none;\r\n    }\r\n}\r\n        \r\n@media print{\r\n    div.saltopagina{\r\n        display:block;\r\n        page-break-before:always;\r\n    }\r\n}\r\n.logo{\r\n    max-height: 150px !important;\r\n}\r\n.firma{\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    width: 200px;\r\n    margin-top: 80px;\r\n}\r\n.cabecera, .pie{\r\n    padding: 10px;\r\n}\r\n.cabecera{\r\n    font-size: 1.1rem;\r\n    font-weight: bold;\r\n}\r\n.pie{\r\n    margin-bottom: 50px;\r\n}\r\n@media print{\r\n  .contenedor-estudios{\r\n      display: flex;\r\n      flex-direction: row;\r\n  }\r\n  .estudio{\r\n      width: 25%;\r\n  }\r\n  html, body{\r\n      background-color: transparent !important;\r\n  }\r\n}\r\n  </style>",
    "<script>\r\n    import axios from \"axios\";\r\n    import { onMount } from \"svelte\";\r\n    import { calcularEdad, url, user } from \"../../util/index\";\r\n  \r\n    import Header from \"../../Layout/Header.svelte\";\r\n    import Aside from \"../../Layout/Aside.svelte\";\r\n    import ErrorConexion from '../../componentes/ErrorConexion.svelte';\r\n\r\n    export let params;\r\n\r\n    let errorServer = false;\r\n    let paciente = {};\r\n    let historia = {};\r\n    let empresa = {};\r\n    let medicamentos = [];\r\n    let logo = '';\r\n\r\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\r\n            responseType:\"blob\", \r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n        .then(res => {\r\n            logo = URL.createObjectURL(res.data)\r\n            console.log(logo)\r\n        })\r\n        .catch(err => {\r\n            console.error(err)\r\n        })\r\n    }\r\n\r\n    const cargarPaciente = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/pacientes/${params.idPaciente}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                paciente = res.data;\r\n                console.log(paciente)\r\n            })\r\n    }\r\n\r\n    const cargarHistoria = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/historias/${params.idHistoria}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                historia = res.data;\r\n                medicamentos = res.data.medicamentos;\r\n                console.log(historia)\r\n            })\r\n    }\r\n\r\n    const cargarEmpresa = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                empresa = res.data;\r\n                cargarImagenEmpresa(empresa.id, empresa.logo)\r\n                console.log(empresa)\r\n            })\r\n    }\r\n  \r\n    onMount(() => {\r\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n        cargarPaciente()\r\n        cargarHistoria()\r\n        cargarEmpresa()\r\n        window.onafterprint = (event) => {\r\n            location.reload()\r\n        };\r\n    });\r\n  </script>\r\n  \r\n  <Aside />\r\n  \r\n  <main class=\"admin-main\">\r\n    <Header />\r\n    {#if errorServer}\r\n      <ErrorConexion msgError={'msgError'}/>\r\n    {/if}\r\n    <section class=\"admin-content \">\r\n        <div class=\"bg-dark m-b-30\">\r\n            <div class=\"container\">\r\n                <div class=\"row p-b-60 p-t-60\">\r\n\r\n                    <div class=\"col-md-6 text-white p-b-30\">\r\n                        <div class=\"media\">\r\n                            <div class=\"avatar avatar mr-3\">\r\n                                <div class=\"avatar-title bg-success rounded-circle mdi mdi-receipt  \">\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"media-body\">\r\n                                <div class=\"opacity-75\">Para:</div>\r\n                                <h4 class=\"m-b-0\">{paciente.nombres} {paciente.apellidos} </h4>\r\n                                <p class=\"opacity-75\">\r\n                                    ID Consulta #{historia.id} <br>\r\n                                    Fecha Consulta : {new Date(historia.createdAt).toLocaleDateString('es-DO')}\r\n                                </p>\r\n                                <button class=\"btn btn-white-translucent\" id=\"printDiv\"> <i class=\"mdi\r\n                                mdi-printer\"></i>\r\n                                    Imprimir</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!-- <div class=\"col-md-5 text-center m-b-30 ml-auto\">\r\n                        <div class=\"rounded text-white bg-white-translucent\">\r\n                            <div class=\"p-all-15\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6 my-2 m-md-0\">\r\n                                        <div class=\"text-overline    opacity-75\">amount received</div>\r\n                                        <h3 class=\"m-0 text-success\">$1500</h3>\r\n                                    </div>\r\n                                    <div class=\"col-md-6 my-2 m-md-0\">\r\n\r\n                                        <div class=\"text-overline    opacity-75\">amount pending</div>\r\n                                        <h3 class=\"m-0 text-danger\">$32,590</h3>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div> -->\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"pull-up\">\r\n            <div class=\"container\" id=\"printableArea\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 m-b-40\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-12 empresa-datos\">\r\n                                        <img src={logo} class=\"logo\" alt=\"\">\r\n                                        <div class=\"m-t-10\">\r\n                                            <span class=\"h4 font-primary\"> {empresa.nombre},</span> <br>\r\n                                            {empresa.especialidades || ''} <br>\r\n                                            {empresa.direccion} <br>\r\n                                            Tel.: {empresa.telefono} <br>\r\n                                            {empresa.correo} <br>\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"table-responsive \">\r\n                                    <table class=\"table m-t-50\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th class=\"\">Medicamento</th>\r\n                                            <th class=\"text-center\">Cantidad</th>\r\n                                            <th class=\"text-center\">Frecuencia</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {#each medicamentos as medicamento}\r\n                                            <tr>\r\n                                                <td class=\"\">\r\n                                                    <p class=\"text-black m-0\">{medicamento.nombre}</p>\r\n                                                    <p class=\"text-muted\" style=\"padding-bottom: 0; margin-bottom: 0;\">\r\n                                                        De {medicamento.concentracion}\r\n                                                    </p>\r\n                                                </td>\r\n                                                <td class=\"text-center\">{medicamento.cantidad}</td>\r\n                                                <td class=\"text-center\">{medicamento.frecuencia}</td>\r\n                                            </tr>\r\n                                        {/each}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n\r\n                                    </div>\r\n                                    <div class=\"col-md-6 text-right my-auto\">\r\n                                        <h5 class=\"font-primary\">{paciente.nombres} {paciente.apellidos}</h5>\r\n                                        <div class=\"\">Edad: {calcularEdad(paciente.fechaNacimiento)} años</div>\r\n                                        <div class=\"\">Fecha: {new Date().toLocaleDateString('es-DO')}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"firma\">\r\n                                    <hr>\r\n                                    <p style=\"margin-bottom: 0;\">Firma del especialista</p>\r\n                                    <p><strong>{user().title}. {user().name}</strong></p>\r\n                                </div>\r\n                                <!-- <div class=\"p-t-10 p-b-20\">\r\n\r\n                                    <hr>\r\n                                    <div class=\"text-center opacity-75\">\r\n                                        © nextcom {new Date().getFullYear()}\r\n                                    </div>\r\n                                </div> -->\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </section>\r\n  </main>\r\n  <style>\r\n      .empresa-datos{\r\n          display: flex;\r\n          flex-direction: row;\r\n          margin-bottom: 10px;\r\n\r\n      }\r\n      .logo{\r\n          max-height: 150px !important;\r\n          margin-right: 15px;\r\n      }\r\n      .firma{\r\n          margin: 0 auto;\r\n          text-align: center;\r\n          width: 200px;\r\n          margin-top: 80px;\r\n      }\r\n      td{\r\n          padding: 10px;\r\n      }\r\n  </style>",
    "<script>\r\n    import { onMount } from \"svelte\";\r\n    import { url, user, calcularEdad } from \"../../../util/index\";\r\n    import axios from 'axios';\r\n    export let params;\r\n\r\n    let errorServer = false;\r\n    let paciente = {};\r\n    let historia = {};\r\n    let empresa = {};\r\n    let estudios = [];\r\n    let logo = '';\r\n    let seguroMedico = '';\r\n    let temperatura = {};\r\n    let presionAlterial = {}\r\n    let peso = {};\r\n    let exploracionFisica = [];\r\n    let antecedentes = [];\r\n    let diagnosticos = [];\r\n    let medicamentos = [];\r\n\r\n    const cargarImagenEmpresa = (idConsultorio, idImagen) => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/imagenes/${idConsultorio}/${idImagen}`,\r\n            responseType:\"blob\", \r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n        .then(res => {\r\n            logo = URL.createObjectURL(res.data)\r\n            console.log(logo)\r\n        })\r\n        .catch(err => {\r\n            console.error(err)\r\n        })\r\n    }\r\n\r\n    const cargarPaciente = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/pacientes/${params.idPaciente}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                paciente = res.data;\r\n                if(res.data.seguroMedico){\r\n                    seguroMedico = res.data.seguroMedico[0];\r\n                }\r\n                antecedentes = res.data.antecedentes;\r\n                console.log(paciente)\r\n            })\r\n    }\r\n\r\n    const cargarHistoria = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/historias/${params.idHistoria}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                historia = res.data;\r\n                estudios = res.data.estudios;\r\n                temperatura = res.data.temperatura;\r\n                presionAlterial = res.data.presionAlterial;\r\n                peso = res.data.peso;\r\n                exploracionFisica = res.data.exploracionFisica\r\n                diagnosticos = res.data.diagnosticos;\r\n                medicamentos = res.data.medicamentos;\r\n                estudios = res.data.estudios;\r\n                console.log(historia)\r\n            })\r\n    }\r\n\r\n    const cargarEmpresa = () => {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        }\r\n        axios(config)\r\n            .then(res => {\r\n                empresa = res.data;\r\n                cargarImagenEmpresa(empresa.id, empresa.logo)\r\n                console.log(empresa)\r\n            })\r\n    }\r\n\r\n    onMount(()=>{\r\n        jQuery(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n        cargarPaciente()\r\n        cargarHistoria()\r\n        cargarEmpresa()\r\n        document.title = \"Consultorio Medico | Reporte\"\r\n    })\r\n</script>\r\n<div class=\"reporte\">\r\n    <button\r\n        type=\"button\"\r\n        class=\"btn m-b-15 ml-2 mr-2 btn-lg btn-rounded-circle btn-success btn-imprimir\"\r\n        on:click={()=> window.print()}\r\n    >\r\n        <i class=\"mdi mdi-printer\"></i>\r\n    </button>\r\n    <header>\r\n        <div class=\"logo-empresa\">\r\n            <img src={logo} alt=\"logo empresa\">\r\n        </div>\r\n        <div class=\"datos-empresa\">\r\n            <p style=\"font-size: 1.4rem; text-transform:uppercase;\"><strong>{empresa.nombre}</strong></p>\r\n            <p>{empresa.direccion}</p>\r\n            <p><strong>Tel.:</strong> {empresa.telefono} <strong>Email:</strong> {empresa.correo}</p>\r\n            <p><strong>Fecha:</strong> {new Date(historia.fechaHora).toLocaleDateString('es-DO')}</p>\r\n        </div>\r\n    </header>\r\n    <h2 class=\"title\">Historia Clinica</h2>\r\n    <section>\r\n        <h3>Datos pacientes</h3>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 datos-paciente\">\r\n                <p><strong>Nombre: </strong>{paciente.nombres} {paciente.apellidos}</p>\r\n                <p><strong>Cedula/Pasaporte: </strong>{paciente.cedula}</p>\r\n                <p><strong>Edad: </strong>{calcularEdad(paciente.fechaNacimiento)} años</p>\r\n                <p><strong>Sexo: </strong>{paciente.sexo}</p>\r\n            </div>\r\n            <div class=\"col-md-6 datos-paciente\">\r\n                <p><strong>Fecha Ingreso: </strong>{new Date(historia.fechaHora).toLocaleDateString('es-DO')}</p>\r\n                <p><strong>Aseguradora: </strong>{seguroMedico.nombre}</p>\r\n                <p><strong>No. Afiliado: </strong>{paciente.numeroSeguro}</p>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section>\r\n        <h3>Motivo de consulta</h3>\r\n        <p>{historia.motivoConsulta}</p>\r\n    </section>\r\n    <section>\r\n        <h3>Historia de la enfermedad</h3>\r\n        <p>{historia.historiaEnfermedad}</p>\r\n    </section>\r\n    <section>\r\n        <h3>Signos vitales</h3>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3\">\r\n                <strong>TA:</strong> {presionAlterial.mm || 0}/{presionAlterial.Hg || 0} mm/hg\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <strong>FC:</strong> {historia.frecuenciaCardiaca || 0} l/min\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <strong>FR:</strong> {historia.frecuenciaRespiratoria || 0} r/min\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <strong>T:</strong> {temperatura.valor || 0} °{temperatura.tipo || 'C'}\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section>\r\n        <h3>Otros parametros</h3>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3\">\r\n                <strong>Peso:</strong> {peso.valor || 0} {peso.tipo || 'Lb'}\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <strong>SATO2:</strong> {historia.saturacionOxigeno || 0}%\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <strong>Esc. Dolor:</strong> {historia.escalaDolor || 0} / 10\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <strong>Esc. Glasgow:</strong> {historia.escalaGalsgow || 0} / 15\r\n            </div>\r\n            <div class=\"col-md-3 mt-2\">\r\n                <strong>Otros: </strong> {historia.otrosParametros}\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section>\r\n        <h3>Examen Fisico</h3>\r\n        <p>{historia.examenFisico || 'Sin hallazgos positivos'}</p>\r\n    </section>\r\n    <section>\r\n        <h3>Exploracion Fisica</h3>\r\n        <div class=\"exploracion\">\r\n            <div class=\"row\">\r\n                {#each exploracionFisica as item}\r\n                     <!-- content here -->\r\n                     {#if item.activo}\r\n                          <!-- content here -->\r\n                          <div class=\"col-md-6 mb-2\">\r\n                              <p><strong>{item.nombre}</strong></p>\r\n                              <p>{item.text}</p>\r\n                          </div>\r\n                     {/if}\r\n                     {:else}\r\n                          <p>Sin hallazgos positivos</p>\r\n                {/each}\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section>\r\n        <h3>Antecedentes</h3>\r\n        <div class=\"exploracion\">\r\n            <div class=\"row\">\r\n                {#each antecedentes as item}\r\n                     <!-- content here -->\r\n                     {#if item.activo}\r\n                          <!-- content here -->\r\n                          <div class=\"col-md-6 mb-2\">\r\n                              <p><strong>{item.nombre}</strong></p>\r\n                              <p>{item.descripcion}</p>\r\n                          </div>\r\n                     {/if}\r\n                     {:else}\r\n                          <p>No tiene antecedentes</p>\r\n                {/each}\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section>\r\n        <h3>Diagnosticos</h3>\r\n        <div class=\"exploracion\">\r\n            <div class=\"row\">\r\n                {#each diagnosticos as item}\r\n                     <!-- content here -->\r\n                          <!-- content here -->\r\n                          <div class=\"col-md-6 mb-2\">\r\n                              <p><strong>{item.c}</strong> - {item.d} \r\n                                {#if item.comentario}\r\n                                     <!-- content here -->\r\n                                     ({item.comentario})\r\n                                {/if}\r\n                            </p>\r\n                          </div>\r\n                     {:else}\r\n                          <p>No tiene antecedentes</p>\r\n                {/each}\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section>\r\n        <h3>Medicamentos</h3>\r\n        <div class=\"exploracion\">\r\n            <div class=\"row\">\r\n                {#each medicamentos as item}\r\n                    <div class=\"col-md-12 mb-2\">\r\n                        <p><strong>{item.concentracion}</strong> de: {item.nombre}, Cantidad: {item.cantidad} frecuencia: {item.frecuencia}</p>\r\n                    </div>\r\n                    {:else}\r\n                        <p>No se indicaron medicamentos</p>\r\n                {/each}\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section>\r\n        <h3>Estudios</h3>\r\n        <div class=\"exploracion\">\r\n            <div class=\"row\">\r\n                <p class=\"col-6\"><strong>Estudios de Laboratorio</strong></p>\r\n                {#each estudios as item}\r\n                    {#if item.tipo === 'LAB'}\r\n                         <!-- content here -->\r\n                         <div class=\"col-md-12 mb-2\">\r\n                             <p>- {item.descripcion}</p>\r\n                         </div>\r\n                    {/if}\r\n                    {:else}\r\n                        <p>No se indicaron medicamentos</p>\r\n                {/each}\r\n                <p class=\"col-6\"><strong>Estudios de Imagenes</strong></p>\r\n                {#each estudios as item}\r\n                    {#if item.tipo === 'IMG'}\r\n                         <!-- content here -->\r\n                         <div class=\"col-md-12 mb-2\">\r\n                             <p>- {item.descripcion}</p>\r\n                         </div>\r\n                    {/if}\r\n                    {:else}\r\n                        <p>No se indicaron medicamentos</p>\r\n                {/each}\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <div class=\"firma\">\r\n        <hr>\r\n        <p>Firma del especialista</p>\r\n        <p><strong>{user().title}. {user().name}</strong></p>\r\n    </div>\r\n</div>\r\n<style>\r\n.firma{\r\n    width: 250px;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    margin-top: 40px;\r\n    margin-bottom: 40px;\r\n}\r\n.firma p{\r\n    margin: 0;\r\n}\r\nsection .exploracion p{\r\n    margin: 0;\r\n}\r\nsection{\r\n    margin-top: 20px;\r\n}\r\nsection h3{\r\n    font-size: 1rem;\r\n    text-transform: uppercase;\r\n    font-weight: bold;\r\n    border-bottom: 1px solid rgba(133, 149, 170, 0.40);\r\n}\r\n.datos-paciente p{\r\n    margin: 0;\r\n}\r\n.btn-imprimir{\r\n    position: fixed;\r\n    right: 30px;\r\n    bottom: 30px;\r\n}\r\n.title{\r\n    text-transform: uppercase;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n}\r\nheader{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content:space-between;\r\n}\r\nheader .datos-empresa{\r\n    text-align: right;\r\n}\r\nheader .datos-empresa p{\r\n    margin: 0;\r\n}\r\nheader .logo-empresa img{\r\n    height: 140px;\r\n}\r\n.reporte{\r\n    width: 1000px;\r\n    min-height: 1056px;\r\n    background-color: white;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n}\r\n@media print{\r\n    .reporte{\r\n        width: 100%;\r\n        height:1056px;\r\n    }\r\n    .btn-imprimir{\r\n        display: none;\r\n    }\r\n}\r\n</style>",
    "<div class=\"lds-ripple\">\r\n    <div />\r\n    <div />\r\n</div>\r\n\r\n<style>\r\n    .lds-ripple {\r\n        display: inline-block;\r\n        position: relative;\r\n        width: 80px;\r\n        height: 80px;\r\n    }\r\n    .lds-ripple div {\r\n        position: absolute;\r\n        border: 4px solid #212841;\r\n        opacity: 1;\r\n        border-radius: 50%;\r\n        animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\r\n    }\r\n    .lds-ripple div:nth-child(2) {\r\n        animation-delay: -0.5s;\r\n    }\r\n    @keyframes lds-ripple {\r\n        0% {\r\n            top: 36px;\r\n            left: 36px;\r\n            width: 0;\r\n            height: 0;\r\n            opacity: 1;\r\n        }\r\n        100% {\r\n            top: 0px;\r\n            left: 0px;\r\n            width: 72px;\r\n            height: 72px;\r\n            opacity: 0;\r\n        }\r\n    }\r\n</style>\r\n",
    "<script>\r\n    import axios from \"axios\";\r\n    import { createEventDispatcher, onMount } from \"svelte\";\r\n    import { url, search } from \"../../util\";\r\n\r\n    \r\n    import Loading from '../../componentes/Loading.svelte';\r\n    \r\n    let fechaMinima = new Date().toISOString().split(\"T\")[0];\r\n    export let dateStr;\r\n    \r\n    const dispatch = createEventDispatcher();\r\n    let pacienteSeleccionado = {};\r\n\r\n    $: fechaCita = dateStr;\r\n\r\n    let tandas = [];\r\n    let citas = [];\r\n    let fechaCita = dateStr;\r\n    let tandaCita = \"\";\r\n    let msgError = \"\";\r\n    let observaciones = \"\";\r\n    let meses = {\r\n        0: \"Enero\",\r\n        1: \"Febrero\",\r\n        2: \"Marzo\",\r\n        3: \"Abril\",\r\n        4: \"Mayo\",\r\n        5: \"Junio\",\r\n        6: \"Julio\",\r\n        7: \"Agosto\",\r\n        8: \"Septiembre\",\r\n        9: \"Octubre\",\r\n        10: \"Noviembre\",\r\n        11: \"Diciembre\",\r\n    };\r\n    let cargando = false;\r\n    let tiempoCita = '';\r\n    let sltBuscarPacientes = '';\r\n    let pacientes = [];\r\n    let timeout = null;\r\n    let paciente = {};\r\n\r\n    const seleccionarPaciente = (paciente) => {\r\n        pacienteSeleccionado = pacientes.filter(p => p.id == paciente.id)[0];\r\n        sltBuscarPacientes = paciente.nombres + \" \" + paciente.apellidos;\r\n    };\r\n\r\n    function cargarPacientes() {\r\n        const config = {\r\n            method: 'get',\r\n            url: `${url}/pacientes?b=${sltBuscarPacientes}`,\r\n            headers: {\r\n                'Authorization': `${localStorage.getItem('auth')}` \r\n            }\r\n        };\r\n        try {\r\n            axios(config).then((res) => {\r\n            if(res.status === 200) {\r\n                let {data} = res;\r\n                pacientes = data;\r\n            }\r\n            if(res.status === 500) {\r\n                errorServer = true\r\n            }\r\n            }).catch((err) => {\r\n                console.error(err);\r\n                if(err) {\r\n                    errorServer = true;\r\n                }\r\n            })\r\n        } catch (error) {\r\n            if(error) {\r\n                errorServer = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    $: if (pacienteSeleccionado) {\r\n        cargarCitasPorPaciente();\r\n    }\r\n\r\n    $: if(tiempoCita === 'S') {\r\n        let fecha = new Date();\r\n        fecha.setDate(fecha.getDate()+7);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    } else if(tiempoCita === 'D'){\r\n        let fecha = new Date();\r\n        fecha.setDate(fecha.getDate()+15);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    } else if(tiempoCita === 'M'){\r\n        let fecha = new Date();\r\n        fecha.setMonth(fecha.getMonth()+1);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    } else if(tiempoCita === 'T'){\r\n        let fecha = new Date();\r\n        fecha.setMonth(fecha.getMonth()+6);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    } else if(tiempoCita === 'A'){\r\n        let fecha = new Date();\r\n        fecha.setFullYear(fecha.getFullYear()+1);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    }\r\n\r\n    const cargarCitasPorPaciente = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/citas/paciente/${pacienteSeleccionado.id}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                citas = res.data;\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const cargarTandas = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/tandas`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                tandas = res.data;\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const crearCita = () => {\r\n        cargando = true;\r\n        msgError = \"\";\r\n        const data = {\r\n            fechaCita,\r\n            tanda: tandaCita,\r\n            observaciones,\r\n            paciente: {\r\n                id: pacienteSeleccionado.id,\r\n                nombres: pacienteSeleccionado.nombres,\r\n                apellidos: pacienteSeleccionado.apellidos,\r\n                sexo: pacienteSeleccionado.sexo,\r\n                fechaNacimiento: pacienteSeleccionado.fechaNacimiento,\r\n                telefono: pacienteSeleccionado.telefono,\r\n                cedula: pacienteSeleccionado.cedula,\r\n                celular: pacienteSeleccionado.celular,\r\n            }\r\n        };\r\n        const config = {\r\n            method: \"post\",\r\n            url: `${url}/citas`,\r\n            data,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        if (!fechaCita || !tandaCita || !observaciones) {\r\n            return (msgError = \"Algunos campos estan vacios\");\r\n        }\r\n        axios(config)\r\n            .then((res) => {\r\n                cargando = false;\r\n                if (res.status === 200) {\r\n                    fechaCita = \"\";\r\n                    tandaCita = \"\";\r\n                    observaciones = \"\";\r\n                    dispatch('cargarCitasPorMes');\r\n                    dispatch('cargarCitas');\r\n                    location.reload();\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                fechaCita = \"\";\r\n                tandaCita = \"\";\r\n                observaciones = \"\";\r\n                tiempoCita = \"\";\r\n                cargando = false;\r\n                if(err){\r\n                    msgError = \"Ocurrio un error al registrar la cita, intentalo de nuevo mas tarde o comunicate con el administrador\"\r\n                }\r\n                \r\n                if(err.response.data !== undefined) {\r\n                    if (err.response.data.err === 900) {\r\n                        msgError = \"No hay horarios disponibles para este consultorio\";\r\n                    }\r\n                    if (err.response.data.err === 800) {\r\n                        msgError = \"No hay cupos disponibles\";\r\n                    }\r\n                }\r\n\r\n            });\r\n    };\r\n    onMount(() => {\r\n        cargarTandas();\r\n        cargarPacientes()\r\n    });\r\n</script>\r\n\r\n<form class=\"col-md-12\" on:submit|preventDefault={() => crearCita()}>\r\n    <div\r\n        class=\"modal fade modal-slide-right\"\r\n        id=\"modalCitaCalendario\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"modalInterconsulta\"\r\n        style=\"display: none; padding-right: 16px;\"\r\n        aria-modal=\"true\"\r\n    >\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"modalInterconsulta\">\r\n                        <span class=\"badge bg-primary text-white\">Citas</span>\r\n                    </h5>\r\n                    <button\r\n                        type=\"button\"\r\n                        class=\"close\"\r\n                        data-dismiss=\"modal\"\r\n                        aria-label=\"Close\"\r\n                    >\r\n                        <span aria-hidden=\"true\">×</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    {#if cargando}\r\n                        <div class=\"cargando\">\r\n                            <Loading/>\r\n                        </div>\r\n                    {/if}\r\n                    <div class=\"form-row\">\r\n                        <div\r\n                            class=\"form-group buscardor dropdown dropdown-vnc\"\r\n                            style=\"width: 100%\"\r\n                        >\r\n                        <label for=\"\" class=\"text-primary\">Buscar paciente</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            class=\"form-control\"\r\n                            id=\"txtBusquedaProblemaMedico\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"true\"\r\n                            autocomplete=\"off\"\r\n                            bind:value={sltBuscarPacientes}\r\n                            on:input={() => search(timeout, cargarPacientes)}\r\n                        />\r\n                        <ul\r\n                            class=\"lista-buscador dropdown-menu\"\r\n                            id=\"buscador\"\r\n                            x-placement=\"top-start\"\r\n                            style=\"position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, -128px, 0px); border-radius: 5px;\"\r\n                        >\r\n                            <div class=\"contenidoLista\">\r\n                                {#each pacientes as paciente}\r\n                                     <!-- content here -->\r\n                                     <li on:click={() => seleccionarPaciente(paciente)}>\r\n                                         <div\r\n                                             class=\"p-2\"\r\n                                         >\r\n                                             <span\r\n                                                 class=\"badge badge-primary\"\r\n                                                 >{paciente.cedula}</span\r\n                                             >\r\n                                             {paciente.nombres} {paciente.apellidos}\r\n                                         </div>\r\n                                     </li>\r\n                                {/each}\r\n                            </div>\r\n                        </ul>\r\n                    </div>\r\n                        <!-- <div class=\"form-group col-md-12\">\r\n                            <label for=\"\" class=\"text-primary\">Proxima cita</label>\r\n                            <select\r\n                                class=\"form-control\"\r\n                                bind:value={tiempoCita}\r\n                            >\r\n                                <option value=\"\">\r\n                                    - seleccionar tiempo -\r\n                                </option>\r\n                                <option value=\"S\">En una semana</option>\r\n                                <option value=\"D\">En 15 dias</option>\r\n                                <option value=\"M\">En un mes</option>\r\n                                <option value=\"T\">En 6 meses</option>\r\n                                <option value=\"A\">En un año</option>\r\n                            </select>\r\n                        </div> -->\r\n                        <div class=\"form-group col-md-12\">\r\n                            <label for=\"\" class=\"text-primary\"\r\n                                >Fecha de la cita</label\r\n                            >\r\n                            <input\r\n                                type=\"date\"\r\n                                class=\"form-control\"\r\n                                bind:value={fechaCita}\r\n                                min={fechaMinima}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div class=\"form-group col-md-12\">\r\n                            <label for=\"\" class=\"text-primary\">Tanda</label>\r\n                            <select\r\n                                class=\"form-control\"\r\n                                required\r\n                                bind:value={tandaCita}\r\n                            >\r\n                                <option value=\"\">\r\n                                    - seleccionar tanda -\r\n                                </option>\r\n                                {#each tandas as tanda}\r\n                                    <option value={tanda.id}\r\n                                        >{tanda.descripcion}</option\r\n                                    >\r\n                                {/each}\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"form-group col-md-12\">\r\n                            <label for=\"\" class=\"text-primary\"\r\n                                >Observaciones</label\r\n                            >\r\n                            <textarea\r\n                                class=\"form-control\"\r\n                                rows=\"3\"\r\n                                bind:value={observaciones}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {#if msgError}\r\n                        <div class=\"alert alert-danger\" role=\"alert\">\r\n                            {msgError}\r\n                        </div>\r\n                    {/if}\r\n                    <br />\r\n\r\n                    {#each citas as cita}\r\n                        <div\r\n                            class=\"alert alert-dismissible fade show\"\r\n                            role=\"alert\"\r\n                            class:alert-border-success={cita.estado === \"R\"}\r\n                            class:alert-border-danger={cita.estado === \"X\"}\r\n                            class:alert-border-info={cita.estado === \"N\"}\r\n                        >\r\n                            <div class=\"d-flex\">\r\n                                <div class=\"icon\">\r\n                                    {#if cita.estado === \"R\"}\r\n                                        <i\r\n                                            class=\"icon mdi mdi-check-circle-outline\"\r\n                                        />\r\n                                    {/if}\r\n                                    {#if cita.estado === \"X\"}\r\n                                        <i\r\n                                            class=\"icon mdi mdi-alert-octagram\"\r\n                                        />\r\n                                    {/if}\r\n                                    {#if cita.estado === \"N\"}\r\n                                        <i\r\n                                            class=\"icon mdi mdi-alert-circle-outline\"\r\n                                        />\r\n                                    {/if}\r\n                                </div>\r\n                                <div class=\"content\">\r\n                                    <div class=\"calendar\">\r\n                                        <div class=\"fecha\">\r\n                                            <span\r\n                                                >{new Date(\r\n                                                    cita.fechaCita\r\n                                                ).getDate() + 1}</span\r\n                                            >\r\n                                            <span\r\n                                                >{meses[\r\n                                                    new Date(\r\n                                                        cita.fechaCita\r\n                                                    ).getMonth()\r\n                                                ]}</span\r\n                                            >\r\n                                            <span\r\n                                                >{new Date(\r\n                                                    cita.fechaCita\r\n                                                ).getFullYear()}</span\r\n                                            >\r\n                                        </div>\r\n                                        <div class=\"observaciones\">\r\n                                            {cita.observaciones}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    {/each}\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <div class=\"row text-center p-b-10\">\r\n                        <div class=\"col\">\r\n                            <a\r\n                                href=\"/\"\r\n                                class=\"text-danger\"\r\n                                data-dismiss=\"modal\"\r\n                            >\r\n                                <!-- svelte-ignore a11y-missing-content -->\r\n                                <h3 class=\"mdi mdi-close-outline\" />\r\n                                <div class=\"text-overline\">Cerrar</div>\r\n                            </a>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <button\r\n                                class=\"text-success\"\r\n                                style=\"border: none; background-color: transparent;\"\r\n                            >\r\n                                <!-- svelte-ignore a11y-missing-content -->\r\n                                <h3 class=\"mdi mdi-send\" />\r\n                                <div class=\"text-overline\">Crear</div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n<style>\r\n    .calendar {\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n    .calendar .fecha {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .calendar .fecha span:first-child {\r\n        font-weight: bold;\r\n        font-size: 2.5rem;\r\n        margin-bottom: 0;\r\n        padding-bottom: 0;\r\n        margin-top: -10px;\r\n    }\r\n\r\n    .calendar .fecha span:nth-child(2) {\r\n        margin-top: -10px;\r\n        text-transform: uppercase;\r\n        font-size: 0.7rem;\r\n    }\r\n\r\n    .calendar .fecha span:last-child {\r\n        letter-spacing: 3px;\r\n    }\r\n\r\n    .calendar .observaciones {\r\n        padding: 10px;\r\n        padding-top: 0;\r\n        padding-left: 15px;\r\n    }\r\n</style>\r\n",
    "<script>\r\n    import axios from \"axios\";\r\n    import { onMount } from \"svelte\";\r\n    import { url } from \"../../util\";\r\n\r\n    import Loading from '../../componentes/Loading.svelte';\r\n\r\n    let fechaMinima = new Date().toISOString().split(\"T\")[0];\r\n    export let pacienteSeleccionado;\r\n\r\n    let tandas = [];\r\n    let citas = [];\r\n    let fechaCita = \"\";\r\n    let tandaCita = \"\";\r\n    let msgError = \"\";\r\n    let observaciones = \"\";\r\n    let meses = {\r\n        0: \"Enero\",\r\n        1: \"Febrero\",\r\n        2: \"Marzo\",\r\n        3: \"Abril\",\r\n        4: \"Mayo\",\r\n        5: \"Junio\",\r\n        6: \"Julio\",\r\n        7: \"Agosto\",\r\n        8: \"Septiembre\",\r\n        9: \"Octubre\",\r\n        10: \"Noviembre\",\r\n        11: \"Diciembre\",\r\n    };\r\n    let cargando = false;\r\n    let tiempoCita = '';\r\n\r\n    $: if (pacienteSeleccionado) {\r\n        cargarCitasPorPaciente();\r\n    }\r\n\r\n    $: if(tiempoCita === 'S') {\r\n        let fecha = new Date();\r\n        fecha.setDate(fecha.getDate()+7);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    } else if(tiempoCita === 'D'){\r\n        let fecha = new Date();\r\n        fecha.setDate(fecha.getDate()+15);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    } else if(tiempoCita === 'M'){\r\n        let fecha = new Date();\r\n        fecha.setMonth(fecha.getMonth()+1);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    } else if(tiempoCita === 'T'){\r\n        let fecha = new Date();\r\n        fecha.setMonth(fecha.getMonth()+6);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    } else if(tiempoCita === 'A'){\r\n        let fecha = new Date();\r\n        fecha.setFullYear(fecha.getFullYear()+1);\r\n        fechaCita = fecha.toISOString().split('T')[0]\r\n    }\r\n\r\n    const cargarCitasPorPaciente = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/citas/paciente/${pacienteSeleccionado.id}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                citas = res.data;\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const cargarTandas = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/tandas`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                tandas = res.data;\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const crearCita = () => {\r\n        cargando = true;\r\n        msgError = \"\";\r\n        const data = {\r\n            fechaCita,\r\n            tanda: tandaCita,\r\n            observaciones,\r\n            paciente: pacienteSeleccionado,\r\n        };\r\n        const config = {\r\n            method: \"post\",\r\n            url: `${url}/citas`,\r\n            data,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        if (!fechaCita || !tandaCita || !observaciones) {\r\n            return (msgError = \"Algunos campos estan vacios\");\r\n        }\r\n        axios(config)\r\n            .then((res) => {\r\n                cargando = false;\r\n                if (res.status === 200) {\r\n                    fechaCita = \"\";\r\n                    tandaCita = \"\";\r\n                    observaciones = \"\";\r\n                    cargarCitasPorPaciente()\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                fechaCita = \"\";\r\n                tandaCita = \"\";\r\n                observaciones = \"\";\r\n                tiempoCita = \"\";\r\n                cargando = false;\r\n                if(err){\r\n                    msgError = \"Ocurrio un error al registrar la cita, intentalo de nuevo mas tarde o comunicate con el administrador\"\r\n                }\r\n                \r\n                if(err.response.data !== undefined) {\r\n                    if (err.response.data.err === 900) {\r\n                        msgError = \"No hay horarios disponibles para este consultorio\";\r\n                    }\r\n                    if (err.response.data.err === 800) {\r\n                        msgError = \"No hay cupos disponibles\";\r\n                    }\r\n                }\r\n\r\n            });\r\n    };\r\n    onMount(() => {\r\n        cargarTandas();\r\n    });\r\n</script>\r\n\r\n<form class=\"col-md-12\" on:submit|preventDefault={() => crearCita()}>\r\n    <div\r\n        class=\"modal fade modal-slide-right\"\r\n        id=\"modalNuevaCita\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"modalInterconsulta\"\r\n        style=\"display: none; padding-right: 16px;\"\r\n        aria-modal=\"true\"\r\n    >\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"modalInterconsulta\">\r\n                        {pacienteSeleccionado.nombres} {pacienteSeleccionado.apellidos} \r\n                        <span class=\"badge bg-primary text-white\">Citas</span>\r\n                    </h5>\r\n                    <button\r\n                        type=\"button\"\r\n                        class=\"close\"\r\n                        data-dismiss=\"modal\"\r\n                        aria-label=\"Close\"\r\n                    >\r\n                        <span aria-hidden=\"true\">×</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    {#if cargando}\r\n                        <div class=\"cargando\">\r\n                            <Loading/>\r\n                        </div>\r\n                    {/if}\r\n                    <div class=\"form-row\">\r\n                        <div class=\"form-group col-md-12\">\r\n                            <label for=\"\" class=\"text-primary\">Proxima cita</label>\r\n                            <select\r\n                                class=\"form-control\"\r\n                                bind:value={tiempoCita}\r\n                            >\r\n                                <option value=\"\">\r\n                                    - seleccionar tiempo -\r\n                                </option>\r\n                                <option value=\"S\">En una semana</option>\r\n                                <option value=\"D\">En 15 dias</option>\r\n                                <option value=\"M\">En un mes</option>\r\n                                <option value=\"T\">En 6 meses</option>\r\n                                <option value=\"A\">En un año</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"form-group col-md-12\">\r\n                            <label for=\"\" class=\"text-primary\"\r\n                                >Fecha de la cita</label\r\n                            >\r\n                            <input\r\n                                type=\"date\"\r\n                                class=\"form-control\"\r\n                                bind:value={fechaCita}\r\n                                min={fechaMinima}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div class=\"form-group col-md-12\">\r\n                            <label for=\"\" class=\"text-primary\">Tanda</label>\r\n                            <select\r\n                                class=\"form-control\"\r\n                                required\r\n                                bind:value={tandaCita}\r\n                            >\r\n                                <option value=\"\">\r\n                                    - seleccionar tanda -\r\n                                </option>\r\n                                {#each tandas as tanda}\r\n                                    <option value={tanda.id}\r\n                                        >{tanda.descripcion}</option\r\n                                    >\r\n                                {/each}\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"form-group col-md-12\">\r\n                            <label for=\"\" class=\"text-primary\"\r\n                                >Observaciones</label\r\n                            >\r\n                            <textarea\r\n                                class=\"form-control\"\r\n                                rows=\"3\"\r\n                                bind:value={observaciones}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {#if msgError}\r\n                        <div class=\"alert alert-danger\" role=\"alert\">\r\n                            {msgError}\r\n                        </div>\r\n                    {/if}\r\n                    <br />\r\n\r\n                    {#each citas as cita}\r\n                        <div\r\n                            class=\"alert alert-dismissible fade show\"\r\n                            role=\"alert\"\r\n                            class:alert-border-success={cita.estado === \"R\"}\r\n                            class:alert-border-danger={cita.estado === \"X\"}\r\n                            class:alert-border-info={cita.estado === \"N\"}\r\n                        >\r\n                            <div class=\"d-flex\">\r\n                                <div class=\"icon\">\r\n                                    {#if cita.estado === \"R\"}\r\n                                        <i\r\n                                            class=\"icon mdi mdi-check-circle-outline\"\r\n                                        />\r\n                                    {/if}\r\n                                    {#if cita.estado === \"X\"}\r\n                                        <i\r\n                                            class=\"icon mdi mdi-alert-octagram\"\r\n                                        />\r\n                                    {/if}\r\n                                    {#if cita.estado === \"N\"}\r\n                                        <i\r\n                                            class=\"icon mdi mdi-alert-circle-outline\"\r\n                                        />\r\n                                    {/if}\r\n                                </div>\r\n                                <div class=\"content\">\r\n                                    <div class=\"calendar\">\r\n                                        <div class=\"fecha\">\r\n                                            <span\r\n                                                >{new Date(\r\n                                                    cita.fechaCita\r\n                                                ).getDate() + 1}</span\r\n                                            >\r\n                                            <span\r\n                                                >{meses[\r\n                                                    new Date(\r\n                                                        cita.fechaCita\r\n                                                    ).getMonth()\r\n                                                ]}</span\r\n                                            >\r\n                                            <span\r\n                                                >{new Date(\r\n                                                    cita.fechaCita\r\n                                                ).getFullYear()}</span\r\n                                            >\r\n                                        </div>\r\n                                        <div class=\"observaciones\">\r\n                                            {cita.observaciones}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    {/each}\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <div class=\"row text-center p-b-10\">\r\n                        <div class=\"col\">\r\n                            <a\r\n                                href=\"/\"\r\n                                class=\"text-danger\"\r\n                                data-dismiss=\"modal\"\r\n                            >\r\n                                <!-- svelte-ignore a11y-missing-content -->\r\n                                <h3 class=\"mdi mdi-close-outline\" />\r\n                                <div class=\"text-overline\">Cerrar</div>\r\n                            </a>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <button\r\n                                class=\"text-success\"\r\n                                style=\"border: none; background-color: transparent;\"\r\n                            >\r\n                                <!-- svelte-ignore a11y-missing-content -->\r\n                                <h3 class=\"mdi mdi-send\" />\r\n                                <div class=\"text-overline\">Crear</div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n<style>\r\n    .calendar {\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n    .calendar .fecha {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .calendar .fecha span:first-child {\r\n        font-weight: bold;\r\n        font-size: 2.5rem;\r\n        margin-bottom: 0;\r\n        padding-bottom: 0;\r\n        margin-top: -10px;\r\n    }\r\n\r\n    .calendar .fecha span:nth-child(2) {\r\n        margin-top: -10px;\r\n        text-transform: uppercase;\r\n        font-size: 0.7rem;\r\n    }\r\n\r\n    .calendar .fecha span:last-child {\r\n        letter-spacing: 3px;\r\n    }\r\n\r\n    .calendar .observaciones {\r\n        padding: 10px;\r\n        padding-top: 0;\r\n        padding-left: 15px;\r\n    }\r\n</style>\r\n",
    "<div class=\"cargando\">\r\n    <img class=\"imagen-error\" src=\"./assets/img/error.svg\" alt=\"\">\r\n    <h3>Ocurrió un error al comunicarnos con el servidor</h3>\r\n    <p>Si el problema persiste, contacte al administrador. Disculpe los inconvenientes</p>\r\n    <button\r\n        class=\"btn btn-outline-primary\"\r\n        on:click={()=>location.reload()}\r\n    >\r\n        <i class=\"mdi mdi-refresh\"></i> Recargar\r\n    </button>\r\n</div>\r\n<style>\r\n    .cargando{\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        z-index: 10000;\r\n    }\r\n    .imagen-error{\r\n        width: 200px;\r\n    }\r\n    h3{\r\n        color: #e5646e;\r\n        text-align: center;\r\n    }\r\n    p{\r\n        width: 400px;\r\n        text-align: center;\r\n    }\r\n</style>",
    "<script>\r\n    import axios from \"axios\";\r\n    import { url, user } from \"../util/index\";\r\n\r\n    import { createEventDispatcher, onMount } from \"svelte\";\r\n    import { link } from \"svelte-spa-router\";\r\n    let dispatch = createEventDispatcher();\r\n\r\n    export let instrucciones = '';\r\n    export let medicamentos;\r\n    export let sltBuscarMedicamentos;\r\n    export let sltBuscarEstudios;\r\n    export let medicamentosSeleccionados;\r\n    export let estudios;\r\n    export let estudiosSeleccionados;\r\n    export let idHistoria;\r\n    export let idPaciente;\r\n    export let disabled;\r\n    let empresa = {};\r\n\r\n    let categoriasEstudios = [];\r\n    let estudiosVistaRapida = [];\r\n    let selected = [];\r\n\r\n    const cargarEmpresa = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/empresas/${user().empresa}`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                empresa = res.data;\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    $: estudiosSeleccionados.forEach((estudio) => {\r\n        estudiosVistaRapida.forEach((estudioVistaRapida) => {\r\n            if (estudio.id == estudioVistaRapida.id) {\r\n                estudioVistaRapida.checked = true;\r\n                selected = selected.filter(\r\n                    (select) => select.id !== estudioVistaRapida.id\r\n                );\r\n                selected.push(estudioVistaRapida);\r\n                return (selected = selected);\r\n            }\r\n            selected = selected.filter(\r\n                (select) => select.id !== estudioVistaRapida.id\r\n            );\r\n            selected.push(estudioVistaRapida);\r\n            return (selected = selected);\r\n        });\r\n    });\r\n\r\n    const agregarEstudio = ({ id, descripcion, tipo }) => {\r\n        const index = estudiosSeleccionados.findIndex(\r\n            (estudio) => estudio.id == id\r\n        );\r\n        const estudio = estudiosSeleccionados.find(\r\n            (estudio) => estudio.id == id\r\n        );\r\n        if (estudio) {\r\n            estudiosSeleccionados = estudiosSeleccionados.filter(\r\n                (estudio) => estudio.id !== id\r\n            );\r\n            dispatch(\"eliminarEstudio\", id);\r\n            return;\r\n        } else {\r\n            dispatch(\"agregarEstudio\", { id, descripcion, tipo });\r\n        }\r\n    };\r\n\r\n    const eliminarEstudio = (id) => {\r\n        dispatch(\"eliminarEstudio\", id);\r\n        cargarCategoriasEstudios();\r\n        cargarEstudiosVistaRapida();\r\n    };\r\n\r\n    const cargarCategoriasEstudios = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/categoriasestudios/display`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then(async (res) => {\r\n                categoriasEstudios = res.data;\r\n                await cargarEstudiosVistaRapida();\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    const cargarEstudiosVistaRapida = () => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: `${url}/estudio/vistarapida`,\r\n            headers: {\r\n                Authorization: `${localStorage.getItem(\"auth\")}`,\r\n            },\r\n        };\r\n        axios(config)\r\n            .then((res) => {\r\n                estudiosVistaRapida = res.data;\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    onMount(() => {\r\n        cargarEmpresa();\r\n        cargarCategoriasEstudios();\r\n    });\r\n</script>\r\n\r\n<div class=\"alert alert-secondary\" role=\"alert\">\r\n    <h4 class=\"alert-heading\">Receta</h4>\r\n    <a\r\n        href={`/pacientes/${idPaciente}/historias/${idHistoria}/imprimir/estudios`}\r\n        use:link\r\n        class=\"btn btn-outline-primary btn-sm btn-receta\"\r\n    >\r\n        <i class=\"mdi mdi-printer\" />\r\n        Imprimir todas las recetas\r\n    </a>\r\n    <div class=\"card m-b-20 mt-3\">\r\n        <div class=\"card-header\">\r\n            <div class=\"card-title\">Medicamentos</div>\r\n            <div class=\"card-controls\">\r\n                <a\r\n                    href={`/impresion/pacientes/${idPaciente}/historias/${idHistoria}/medicamentos`}\r\n                    use:link\r\n                    class=\"btn btn-outline-primary btn-sm\"\r\n                    data-tooltip=\"Imprimir\"\r\n                >\r\n                    <i class=\"mdi mdi-printer\" />\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12 mb-2\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-6\">\r\n                            <div class=\"dropdown\">\r\n                                <input\r\n                                    {disabled}\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    data-toggle=\"dropdown\"\r\n                                    aria-haspopup=\"true\"\r\n                                    aria-expanded=\"true\"\r\n                                    placeholder=\"Buscar medicamentos\"\r\n                                    bind:value={sltBuscarMedicamentos}\r\n                                    on:input={() =>\r\n                                        dispatch(\"buscarMedicamentos\")}\r\n                                />\r\n                                <ul\r\n                                    class=\"lista-buscador dropdown-menu\"\r\n                                    id=\"buscador\"\r\n                                    x-placement=\"top-start\"\r\n                                    style=\"position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, -128px, 0px); border-radius: 5px;\"\r\n                                >\r\n                                    <div class=\"contenidoLista\">\r\n                                        {#each medicamentos as medicamento}\r\n                                            <li>\r\n                                                <div\r\n                                                    class=\"p-2\"\r\n                                                    style=\"cursor: pointer;\"\r\n                                                    on:click={() =>\r\n                                                        dispatch(\r\n                                                            \"agregarMedicamento\",\r\n                                                            medicamento.descripcion\r\n                                                        )}\r\n                                                >\r\n                                                    {medicamento.descripcion}\r\n                                                </div>\r\n                                            </li>\r\n                                        {/each}\r\n                                    </div>\r\n                                    <li class=\"defecto\">\r\n                                        <a\r\n                                            href=\"#!\"\r\n                                            on:click|preventDefault={() =>\r\n                                                dispatch(\r\n                                                    \"agregarMedicamento\",\r\n                                                    sltBuscarMedicamentos\r\n                                                )}\r\n                                            ><i class=\"mdi mdi-plus\" />Agregar\r\n                                            manualmente</a\r\n                                        >\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-lg-12\">\r\n                            {#each medicamentosSeleccionados as med, i}\r\n                                <!-- content here -->\r\n                                <div\r\n                                    class=\"col-lg-12 border border-primary rounded mt-3\"\r\n                                >\r\n                                    <div class=\"row\">\r\n                                        <div\r\n                                            class=\"col p-3\"\r\n                                            style=\"display: flex; align-items: center; justify-content: left;\"\r\n                                        >\r\n                                            <p\r\n                                                class=\"text-primary\"\r\n                                                style=\"margin: 0;\"\r\n                                            >\r\n                                                {med.nombre}\r\n                                            </p>\r\n                                        </div>\r\n                                        <div class=\"col mt-2\">\r\n                                            <div class=\"mb-2\">\r\n                                                <!-- svelte-ignore a11y-label-has-associated-control -->\r\n                                                <label\r\n                                                    style=\"margin: 0;\"\r\n                                                    class=\"form-label text-primary\"\r\n                                                    >Concentraci&oacute;n</label\r\n                                                >\r\n                                                <input\r\n                                                    {disabled}\r\n                                                    type=\"text\"\r\n                                                    class=\"form-control\"\r\n                                                    on:blur={() =>\r\n                                                        dispatch(\"modificado\")}\r\n                                                    bind:value={med.concentracion}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col mt-2\">\r\n                                            <div class=\"mb-2\">\r\n                                                <!-- svelte-ignore a11y-label-has-associated-control -->\r\n                                                <label\r\n                                                    style=\"margin: 0;\"\r\n                                                    class=\"form-label text-primary\"\r\n                                                    >Cantidad</label\r\n                                                >\r\n                                                <input\r\n                                                    {disabled}\r\n                                                    type=\"text\"\r\n                                                    class=\"form-control\"\r\n                                                    on:blur={() =>\r\n                                                        dispatch(\"modificado\")}\r\n                                                    bind:value={med.cantidad}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col mt-2\">\r\n                                            <div class=\"mb-2\">\r\n                                                <!-- svelte-ignore a11y-label-has-associated-control -->\r\n                                                <label\r\n                                                    style=\"margin: 0;\"\r\n                                                    class=\"form-label text-primary\"\r\n                                                    >Frecuencia</label\r\n                                                >\r\n                                                <input\r\n                                                    {disabled}\r\n                                                    type=\"text\"\r\n                                                    class=\"form-control\"\r\n                                                    on:blur={() =>\r\n                                                        dispatch(\"modificado\")}\r\n                                                    bind:value={med.frecuencia}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    {#if !disabled}\r\n                                        <!-- content here -->\r\n                                        <div\r\n                                            class=\"icon-borrar\"\r\n                                            data-tooltip=\"Eliminar\"\r\n                                        >\r\n                                            <i\r\n                                                class=\"mdi mdi-close text-red\"\r\n                                                on:click={() =>\r\n                                                    dispatch(\r\n                                                        \"eliminarMedicamento\",\r\n                                                        i\r\n                                                    )}\r\n                                            />\r\n                                        </div>\r\n                                    {/if}\r\n                                </div>\r\n                            {:else}\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-12 mt-3\">\r\n                                        <div\r\n                                            class=\"alert border alert-light\"\r\n                                            role=\"alert\"\r\n                                        >\r\n                                            <p\r\n                                                class=\"alert-body text-center mt-3\"\r\n                                            >\r\n                                                No tienes medicamentos agregados\r\n                                            </p>\r\n                                        </div>\r\n                                        <ul\r\n                                            class=\"list-info\"\r\n                                            data-bind=\"foreach: estudios\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            {/each}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"card m-b-20\">\r\n        <div class=\"card-header\">\r\n            <div class=\"card-title\">Estudios</div>\r\n            <div class=\"card-controls\">\r\n                <a\r\n                    href={`/impresion/pacientes/${idPaciente}/historias/${idHistoria}/estudios/laboratorios`}\r\n                    use:link\r\n                    class=\"btn btn-outline-primary btn-sm\"\r\n                    data-tooltip=\"Imprimir\"\r\n                >\r\n                    <i class=\"mdi mdi-printer\" /> Laboratorios\r\n                </a>\r\n                <a\r\n                    href={`/impresion/pacientes/${idPaciente}/historias/${idHistoria}/estudios/imagenes`}\r\n                    use:link\r\n                    class=\"btn btn-outline-primary btn-sm\"\r\n                    data-tooltip=\"Imprimir\"\r\n                >\r\n                    <i class=\"mdi mdi-printer\" /> Imagenes\r\n                </a>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"card-body\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12 row\">\r\n                    <div class=\"col-lg-6 col-md-12\">\r\n                        <div class=\"form-group buscardor dropdown dropdown-vnc\">\r\n                            <input\r\n                                {disabled}\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                bind:value={sltBuscarEstudios}\r\n                                on:input={() => dispatch(\"buscandoEstudios\")}\r\n                                data-toggle=\"dropdown\"\r\n                                aria-haspopup=\"true\"\r\n                                aria-expanded=\"false\"\r\n                                placeholder=\"Buscar estudios\"\r\n                            />\r\n\r\n                            <ul\r\n                                class=\"lista-buscador dropdown-menu\"\r\n                                id=\"buscador\"\r\n                                x-placement=\"bottom-start\"\r\n                                style=\"position: absolute; will-change: transform; border-radius: 5px; top: 0px; left: 0px; transform: translate3d(0px, 36px, 0px);\"\r\n                            >\r\n                                <div\r\n                                    class=\"contenidoLista\"\r\n                                    data-bind=\"foreach: listado\"\r\n                                >\r\n                                    {#each estudios as estudio}\r\n                                        <li\r\n                                            on:click={() =>\r\n                                                dispatch(\"agregarEstudio\", {\r\n                                                    id: estudio.id,\r\n                                                    descripcion:\r\n                                                        estudio.descripcion,\r\n                                                    tipo: estudio.tipo,\r\n                                                })}\r\n                                        >\r\n                                            <div\r\n                                                class=\"p-2\"\r\n                                                style=\"cursor: pointer;\"\r\n                                            >\r\n                                                {#if estudio.tipo === \"LAB\"}\r\n                                                    <span\r\n                                                        class=\"badge badge-primary\"\r\n                                                    >\r\n                                                        <i\r\n                                                            class=\"mdi mdi-microscope\"\r\n                                                        />\r\n                                                    </span>\r\n                                                {:else}\r\n                                                    <span\r\n                                                        class=\"badge badge-primary\"\r\n                                                    >\r\n                                                        <i\r\n                                                            class=\"mdi mdi-image\"\r\n                                                        />\r\n                                                    </span>\r\n                                                {/if}\r\n                                                {estudio.descripcion}\r\n                                            </div>\r\n                                        </li>\r\n                                    {/each}\r\n                                </div>\r\n                                <li class=\"defecto\">\r\n                                    <a\r\n                                        href=\"/\"\r\n                                        data-bind=\"click: agregarManualmente\"\r\n                                        ><i class=\"mdi mdi-plus\" /> Agregar manualmente</a\r\n                                    >\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-12\">\r\n                    {#if empresa.estudiosCheck}\r\n                         <div class=\"row mt-2\">\r\n                             {#each categoriasEstudios as categoria}\r\n                                 <div class=\"col-lg-12 mb-2\">\r\n     \r\n                                     <div class=\"accordion \" id=\"accordionExample\">\r\n                                         <div class=\"card\">\r\n                                             <div class=\"card-header\" id=\"headingOne\">\r\n                                                 <h5 class=\"mb-0\">\r\n                                                     <a href=\"#!\" class=\"d-block\" data-toggle=\"collapse\" data-target={`#collapse${categoria.id}`} aria-expanded=\"true\" aria-controls={`collapse${categoria.id}`}>\r\n                                                         {categoria.Name}\r\n                                                     </a>\r\n                                                 </h5>\r\n                                             </div>\r\n             \r\n                                             <div id={`collapse${categoria.id}`} class=\"collapse\" aria-labelledby=\"headingOne\" data-parent=\"#accordionExample\">\r\n                                                 <div class=\"card-body\">\r\n                                                     {#each estudiosVistaRapida as estudio}\r\n     \r\n                                                         {#if categoria.id === estudio.categoria}\r\n                                                             <div class=\"tag-input mr-2\">\r\n                                                                 <input\r\n                                                                     bind:checked={estudio.checked}\r\n                                                                     id={estudio.id}\r\n                                                                     type=\"checkbox\"\r\n                                                                 />\r\n                                                                 <label\r\n                                                                     on:click={() =>\r\n                                                                         agregarEstudio({\r\n                                                                             id: estudio.id,\r\n                                                                             descripcion:\r\n                                                                                 estudio.descripcion,\r\n                                                                             tipo: estudio.tipo,\r\n                                                                         })}\r\n                                                                     for={estudio.id}\r\n                                                                     >{estudio.descripcion}</label\r\n                                                                 >\r\n                                                             </div>\r\n                                                         {/if}\r\n                 \r\n                                                 {/each}\r\n                                                 </div>\r\n                                             </div>\r\n                                         </div>\r\n                                     </div>\r\n     \r\n                                     <!-- <h6><strong>{categoria.Name}</strong></h6>\r\n                                     {#each estudiosVistaRapida as estudio}\r\n     \r\n                                             {#if categoria.id === estudio.categoria}\r\n                                                 <div class=\"tag-input mr-2\">\r\n                                                     <input\r\n                                                         bind:checked={estudio.checked}\r\n                                                         id={estudio.id}\r\n                                                         type=\"checkbox\"\r\n                                                     />\r\n                                                     <label\r\n                                                         on:click={() =>\r\n                                                             agregarEstudio({\r\n                                                                 id: estudio.id,\r\n                                                                 descripcion:\r\n                                                                     estudio.descripcion,\r\n                                                                 tipo: estudio.tipo,\r\n                                                             })}\r\n                                                         for={estudio.id}\r\n                                                         >{estudio.descripcion}</label\r\n                                                     >\r\n                                                 </div>\r\n                                             {/if}\r\n     \r\n                                     {/each} -->\r\n                                 </div>\r\n                             {/each}\r\n                         </div>\r\n                    {/if}\r\n\r\n                    <ul class=\"list-info mt-2\">\r\n                        {#each estudiosSeleccionados.reverse() as item, i}\r\n                            <li>\r\n                                {#if item.tipo === \"LAB\"}\r\n                                    <span class=\"badge badge-primary\"\r\n                                        ><i class=\"mdi mdi-microscope\" /></span\r\n                                    >\r\n                                {:else}\r\n                                    <span class=\"badge badge-primary\"\r\n                                        ><i class=\"mdi mdi-image\" /></span\r\n                                    >\r\n                                {/if}\r\n                                &nbsp;<span>{item.descripcion}</span>\r\n                                {#if !disabled}\r\n                                    <div\r\n                                        style=\"position: absolute; top: 0; right: 0;padding: 10px; background-color: white; border-bottom-left-radius: 5px;\"\r\n                                    >\r\n                                        <!-- <a\r\n                                            href=\"#!\"\r\n                                            class=\"text-primary\"\r\n                                            title=\"Agregar comentarios\"\r\n                                            ><i\r\n                                                class=\"mdi-18px mdi mdi-comment-plus-outline\"\r\n                                            /></a\r\n                                        > -->\r\n                                        <!-- content here -->\r\n                                        <a\r\n                                            href=\"#!\"\r\n                                            on:click|preventDefault={() =>\r\n                                                eliminarEstudio(i)}\r\n                                            class=\"text-danger\"\r\n                                            ><i\r\n                                                class=\"mdi-18px mdi mdi-trash-can-outline\"\r\n                                            /></a\r\n                                        >\r\n                                    </div>\r\n                                {/if}\r\n                            </li>\r\n                        {/each}\r\n                        {#if estudiosSeleccionados.length === 0}\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div\r\n                                        class=\"alert border alert-light\"\r\n                                        role=\"alert\"\r\n                                    >\r\n                                        <p class=\"alert-body text-center mt-3\">\r\n                                            No tienes agregado ningún estudio\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        {/if}\r\n                    </ul>\r\n\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"card m-b-20\">\r\n        <div class=\"card-header\">\r\n            <div class=\"card-title\">Instrucciones</div>\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                    <textarea\r\n                        {disabled}\r\n                        bind:value={instrucciones}\r\n                        on:blur={() => dispatch(\"modificado\")}\r\n                        class=\"form-control\"\r\n                        style=\"width: 100%;\"\r\n                        rows=\"5\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<style>\r\n    .btn-receta {\r\n        position: absolute;\r\n        right: 20px;\r\n        top: 15px;\r\n    }\r\n    .icon-borrar {\r\n        position: absolute;\r\n        right: 3px;\r\n        top: 3px;\r\n    }\r\n    .icon-borrar i {\r\n        cursor: pointer;\r\n    }\r\n</style>\r\n"
  ],
  "names": [],
  "mappings": "AAsoDI,SAAS,cAAC,CAAC,AACP,QAAQ,CAAE,KAAK,CACf,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AAChB,CAAC,AACD,SAAS,cAAC,CAAC,AACP,OAAO,CAAE,IAAI,AACjB,CAAC;AChjCD,SAAS,eAAC,CAAC,AACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,KAAK,CACb,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,IAAI,AACvB,CAAC;ACPH,uBAAS,CAAC,AACR,QAAQ,CAAE,KAAK,CACf,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC1C,OAAO,CAAE,IAAI,CACb,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,AACrB,CAAC;AC1YG,6BAAc,CAAC,AACX,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,aAAa,CAAE,IAAI,AAEvB,CAAC,AACD,oBAAK,CAAC,AACF,UAAU,CAAE,KAAK,CAAC,UAAU,CAC5B,YAAY,CAAE,IAAI,AACtB,CAAC,AACD,qBAAM,CAAC,AACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,wBAAS,CAAE,mBAAI,CAAC,AACZ,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,wBAAS,CAAC,AACN,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,IAAI,AACrB,CAAC,AACD,mBAAI,CAAC,AACD,aAAa,CAAE,IAAI,AACvB,CAAC,AACD,OAAO,KAAK,CAAC,AACX,mCAAoB,CAAC,AACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,uBAAQ,CAAC,AACL,KAAK,CAAE,GAAG,AACd,CAAC,AAIH,CAAC;AClCD,4BAAc,CAAC,AACX,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,aAAa,CAAE,IAAI,AACvB,CAAC,AACD,mBAAK,CAAC,AACF,UAAU,CAAE,KAAK,CAAC,UAAU,CAC5B,YAAY,CAAE,IAAI,AACtB,CAAC,AACD,oBAAM,CAAC,AACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,uBAAS,CAAE,kBAAI,CAAC,AACZ,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,uBAAS,CAAC,AACN,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,IAAI,AACrB,CAAC,AACD,kBAAI,CAAC,AACD,aAAa,CAAE,IAAI,AACvB,CAAC,AACD,OAAO,KAAK,CAAC,AACX,kCAAoB,CAAC,AACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,sBAAQ,CAAC,AACL,KAAK,CAAE,GAAG,AACd,CAAC,AAIH,CAAC;ACoGP,OAAO,GAAG,AAAC,CAAC,AACR,GAAG,2BAAY,CAAC,AACZ,OAAO,CAAE,IAAI,AACjB,CAAC,AACL,CAAC,AAED,OAAO,KAAK,CAAC,AACT,GAAG,2BAAY,CAAC,AACZ,QAAQ,KAAK,CACb,kBAAkB,MAAM,AAC5B,CAAC,AACL,CAAC,AACD,oBAAK,CAAC,AACF,UAAU,CAAE,KAAK,CAAC,UAAU,AAChC,CAAC,AACD,qBAAM,CAAC,AACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,wBAAS,CAAE,mBAAI,CAAC,AACZ,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,wBAAS,CAAC,AACN,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,IAAI,AACrB,CAAC,AACD,mBAAI,CAAC,AACD,aAAa,CAAE,IAAI,AACvB,CAAC,AACD,OAAO,KAAK,CAAC,AACX,mCAAoB,CAAC,AACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,uBAAQ,CAAC,AACL,KAAK,CAAE,GAAG,AACd,CAAC,AAIH,CAAC;AC7KK,4BAAc,CAAC,AACX,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,aAAa,CAAE,IAAI,AAEvB,CAAC,AACD,mBAAK,CAAC,AACF,UAAU,CAAE,KAAK,CAAC,UAAU,CAC5B,YAAY,CAAE,IAAI,AACtB,CAAC,AACD,oBAAM,CAAC,AACH,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,gBAAE,CAAC,AACC,OAAO,CAAE,IAAI,AACjB,CAAC;ACsDP,kCAAM,CAAC,AACH,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,IAAI,CAChB,aAAa,CAAE,IAAI,AACvB,CAAC,AACD,oBAAM,CAAC,eAAC,CAAC,AACL,MAAM,CAAE,CAAC,AACb,CAAC,AACD,qBAAO,CAAC,YAAY,CAAC,eAAC,CAAC,AACnB,MAAM,CAAE,CAAC,AACb,CAAC,AACD,mCAAO,CAAC,AACJ,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,qBAAO,CAAC,gBAAE,CAAC,AACP,SAAS,CAAE,IAAI,CACf,cAAc,CAAE,SAAS,CACzB,WAAW,CAAE,IAAI,CACjB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,AACtD,CAAC,AACD,6BAAe,CAAC,eAAC,CAAC,AACd,MAAM,CAAE,CAAC,AACb,CAAC,AACD,yCAAa,CAAC,AACV,QAAQ,CAAE,KAAK,CACf,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AAChB,CAAC,AACD,kCAAM,CAAC,AACH,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,IAAI,AACpB,CAAC,AACD,kCAAM,CAAC,AACH,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,gBAAgB,aAAa,AACjC,CAAC,AACD,oBAAM,CAAC,4BAAc,CAAC,AAClB,UAAU,CAAE,KAAK,AACrB,CAAC,AACD,oBAAM,CAAC,cAAc,CAAC,eAAC,CAAC,AACpB,MAAM,CAAE,CAAC,AACb,CAAC,AACD,oBAAM,CAAC,aAAa,CAAC,iBAAG,CAAC,AACrB,MAAM,CAAE,KAAK,AACjB,CAAC,AACD,oCAAQ,CAAC,AACL,KAAK,CAAE,MAAM,CACb,UAAU,CAAE,MAAM,CAClB,gBAAgB,CAAE,KAAK,CACvB,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,OAAO,KAAK,CAAC,AACT,oCAAQ,CAAC,AACL,KAAK,CAAE,IAAI,CACX,OAAO,MAAM,AACjB,CAAC,AACD,yCAAa,CAAC,AACV,OAAO,CAAE,IAAI,AACjB,CAAC,AACL,CAAC;ACvWG,WAAW,4BAAC,CAAC,AACT,OAAO,CAAE,YAAY,CACrB,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AAChB,CAAC,AACD,yBAAW,CAAC,GAAG,cAAC,CAAC,AACb,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,OAAO,CAAE,CAAC,CACV,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,wBAAU,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,AAClE,CAAC,AACD,yBAAW,CAAC,iBAAG,WAAW,CAAC,CAAC,AAAC,CAAC,AAC1B,eAAe,CAAE,KAAK,AAC1B,CAAC,AACD,WAAW,wBAAW,CAAC,AACnB,EAAE,AAAC,CAAC,AACA,GAAG,CAAE,IAAI,CACT,IAAI,CAAE,IAAI,CACV,KAAK,CAAE,CAAC,CACR,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,AACd,CAAC,AACD,IAAI,AAAC,CAAC,AACF,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,CAAC,AACd,CAAC,AACL,CAAC;ACwYD,SAAS,4BAAC,CAAC,AACP,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,uBAAS,CAAC,MAAM,cAAC,CAAC,AACd,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,AAC1B,CAAC,AACD,uBAAS,CAAC,MAAM,CAAC,kBAAI,YAAY,AAAC,CAAC,AAC/B,WAAW,CAAE,IAAI,CACjB,SAAS,CAAE,MAAM,CACjB,aAAa,CAAE,CAAC,CAChB,cAAc,CAAE,CAAC,CACjB,UAAU,CAAE,KAAK,AACrB,CAAC,AAED,uBAAS,CAAC,MAAM,CAAC,kBAAI,WAAW,CAAC,CAAC,AAAC,CAAC,AAChC,UAAU,CAAE,KAAK,CACjB,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,MAAM,AACrB,CAAC,AAED,uBAAS,CAAC,MAAM,CAAC,kBAAI,WAAW,AAAC,CAAC,AAC9B,cAAc,CAAE,GAAG,AACvB,CAAC,AAED,uBAAS,CAAC,cAAc,cAAC,CAAC,AACtB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,CAAC,CACd,YAAY,CAAE,IAAI,AACtB,CAAC;AC9HD,SAAS,4BAAC,CAAC,AACP,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACvB,CAAC,AACD,uBAAS,CAAC,MAAM,cAAC,CAAC,AACd,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,AAC1B,CAAC,AACD,uBAAS,CAAC,MAAM,CAAC,kBAAI,YAAY,AAAC,CAAC,AAC/B,WAAW,CAAE,IAAI,CACjB,SAAS,CAAE,MAAM,CACjB,aAAa,CAAE,CAAC,CAChB,cAAc,CAAE,CAAC,CACjB,UAAU,CAAE,KAAK,AACrB,CAAC,AAED,uBAAS,CAAC,MAAM,CAAC,kBAAI,WAAW,CAAC,CAAC,AAAC,CAAC,AAChC,UAAU,CAAE,KAAK,CACjB,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,MAAM,AACrB,CAAC,AAED,uBAAS,CAAC,MAAM,CAAC,kBAAI,WAAW,AAAC,CAAC,AAC9B,cAAc,CAAE,GAAG,AACvB,CAAC,AAED,uBAAS,CAAC,cAAc,cAAC,CAAC,AACtB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,CAAC,CACd,YAAY,CAAE,IAAI,AACtB,CAAC;AC/VD,wBAAS,CAAC,AACN,QAAQ,CAAE,KAAK,CACf,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,OAAO,CAAE,KAAK,AAClB,CAAC,AACD,4BAAa,CAAC,AACV,KAAK,CAAE,KAAK,AAChB,CAAC,AACD,iBAAE,CAAC,AACC,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,MAAM,AACtB,CAAC,AACD,gBAAC,CAAC,AACE,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,MAAM,AACtB,CAAC;ACmiBD,WAAW,8BAAC,CAAC,AACT,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,GAAG,CAAE,IAAI,AACb,CAAC,AACD,YAAY,8BAAC,CAAC,AACV,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,GAAG,CACV,GAAG,CAAE,GAAG,AACZ,CAAC,AACD,2BAAY,CAAC,CAAC,eAAC,CAAC,AACZ,MAAM,CAAE,OAAO,AACnB,CAAC"
}